00:00:06.330 - 00:00:09.502, Speaker A: You. All right.
00:00:09.556 - 00:00:57.920, Speaker B: So today I'm giving a talk on making predictions conditionally. So in the course of this talk, I'll be covering some stuff about ODS and dependence. It's just from probability theory, a lot of stuff about prediction markets, which is mainly what this talks about, and then been actually implementing this as an ethereum contract. So conditional tokens. And finally I'll give a brief overview of how you can exchange these conditional tokens and what that gives you. So first off, odds independence. People are generally interested, I feel, in the ODS of things.
00:00:57.920 - 00:01:47.406, Speaker B: It's really tied to what people believe or what you might believe or what I might believe. And you can say maybe that you could even quantify these beliefs by probability. So for example, I might be certain the sun will rise tomorrow morning, be like, well, probability of sunrise happening tomorrow morning is 100%. Or I might not quite believe that a particular quarter will land heads up. So I would say probability of that coin landing heads up is 40% for whatever reason. Okay? In fact, this isn't like entirely the whole picture. A lot of events depend on each other.
00:01:47.406 - 00:03:06.982, Speaker B: For example, maybe I want to think about two different parameters about weather tomorrow, like will it be cloudy or clear, will it be wet or dry? And so maybe my beliefs sort of like in this diagram, and if my beliefs are sort of like this diagram, then I might believe like, well, tomorrow will probably be dry because if you add up everything in the dry row, it ends up being 60%, which is more than likely. And also I have no idea whether tomorrow it will be cloudy or clear. So if you add up the column, we'll see that they both have 50%. But if I assume that it's cloudy tomorrow, I'm going to believe that it's going to be less likely. So that's basically something from probability called conditional probabilities. And it's a hint that beliefs are complicated. Sometimes just a single question can't capture a person's beliefs and stuff.
00:03:06.982 - 00:03:32.858, Speaker B: It's like maybe a bit more. You have to dig a beat deeper. Also, I want to give a warning about this. You should not confuse it with cause and effect. Dependence and cause and effect are different things. So there is a relation of sorts. Okay, put that aside for a moment and then we'll talk about prediction markets.
00:03:32.858 - 00:04:22.142, Speaker B: And so prediction markets overview. This is something that can be used to aggregate beliefs. So like you take maybe go from what one person believes, you just aggregate that into what everybody participating in the market believes. And this is also a good way to aggregate beliefs because kind of all participants in a prediction market would have skin in some sense. So I'll be talking about a few different kinds of prediction markets. One of them is the categorical market. You have a question that results to one of many outcomes, but only one of those.
00:04:22.142 - 00:05:21.620, Speaker B: For example, you might have a question who will be elected head of the Loom Preservation Committee? And then maybe it's Alice, Bob, carol or Dan. And so in order to have a categorical prediction market, you have to have some collateralizing it. So for example, maybe have dollars and convert these dollars to Alice dollars, bob dollars, Carol dollars and Dan dollars. And then the idea is eventually if Dan gets elected, that the Dan dollar would be worth the actual dollar collateralized success. And then you get information from the market of these assets. The market price of an Alice dollar would then estimate the ODS of Alice being elected. All right, scalar markets are similar.
00:05:21.620 - 00:06:10.914, Speaker B: So scalar markets will resolve to a value in a range. For example, how many loons will be counted in next year's census. You might have a low of zero loons, all the loons die. Or like you might have a high of 1000 loons. Okay, so there are a lot of loons somewhere. So with scalar market, you for example convert this dollar to no loon dollar and a kilo loon dollar and then you might have kind of a payout curve. So if there are 250 loons that are counted, that's like more close to zero than it is close to 1000.
00:06:10.914 - 00:07:00.142, Speaker B: So in this case, the no Moon dollar would get $0.75 for each unit and the Kilo boom dollar would only get twenty five cents. And you can kind of see in the graph how that works. Now the market price of both of these actually allows you to derive kind of prediction for how many loons you expect to see at the time of the census. So for example, here, if the price of the no loon dollar is $0.40 on the market, and likewise the kilo loon dollar is $0.60, then you kind of go backwards on this graph to kind of get a prediction of 600 loons.
00:07:00.142 - 00:07:48.800, Speaker B: That's how many loons are expected to be counted in the census. This part is combinatorial prediction market. So sometimes it's useful to maybe think about how different questions are related, how these events might be dependent on each other. So in this case, let's try and combine these markets. This way of creating a combinatorial market, you kind of make this grid of outcome assets things. So basically each of these.
00:07:52.790 - 00:07:53.186, Speaker A: In the.
00:07:53.208 - 00:08:55.170, Speaker B: Combined market refers to an outcome from the categorical market and like kind of one decides on the scalar market. But there are eight in total. And kind of the idea is one dollars can be swapped for the entire set. So it's a bit more complicated. One of the no Moon dollars can actually be swapped for four of this set. Basically the ones that contain no Moon and likewise for the Carol dollars can also be kind of swapped for the complete set that corresponds to Carol. And so if you get market prices for each of these, then you could actually see a joint probability distribution.
00:08:55.170 - 00:09:50.322, Speaker B: You kind of see beliefs about dependency between these events. So just as an example, if the no loon dollar itself was fifty cents and the kilo loon dollar was fifty cents, I might say, well, overall I expect there to be around 500 loons. However, if Alice is elected, in this case you have Alice and no Moon, this asset being worth $0.15 on the market. And let's say Alice and 1000 Moon is worth $0.10 on the market. Well, both of these combined suggest actually that Alice has like about a 25% chance of being elected.
00:09:50.322 - 00:11:04.026, Speaker B: But if she was elected, the no wound has 60% of that, and likewise the killer wound has about 40% and then percent. And so from this you could actually say, well, the expected amount of loons under a condition that Alice had selected is 400 wounds. So maybe Alice is not so loon friendly for some reason, or at least the market thinks that. Okay. So also, as another example, you could actually do this the other way. So maybe you see that Dan has the best chance of being elected, right? But let's say later in the year you didn't pay attention to the election results, and then you notice that there are not as many loons as before. You should actually have, according to this probability distribution, you should have expected Carroll to have been elected.
00:11:04.026 - 00:11:48.700, Speaker B: So that's another way to look at these markets. So the payouts get multiplied. Technically it's a tension product, but basically just multiply them. And when the Oracle actually reports that, for example, Dan collected and somebody counted 250 moons, that everybody else who's not Dan, those assets are worth zero, and Dan's one dollars here gets multiplied by seventy five cents and seventy five cents. Okay, so how to implement this as.
00:11:51.570 - 00:11:51.934, Speaker A: Well?
00:11:51.972 - 00:13:06.230, Speaker B: First off, conditional tokens are kind of a way of codifying these rules about collateralization, and they only go up to the collateralization rules, though they don't actually explain how to exchange fees. But I'll still go into how this is implemented actually as a contract. This is actually implemented as an ERC 1155 multi token, which means that it's a single contract which contains every single conditional token. Whether and each of these tokens is associated with an ID. In this case, the nomenclature chosen to represent that ID is a position ID. Also the conditional token contract that we have implemented is Oracle Not Sick. Basically it's any account, any ethereum account that can provide an answer to some questions as long as it's formatted correctly.
00:13:06.230 - 00:14:08.134, Speaker B: And finally, going further from this, in order to define a condition, you take an Oracle and some question and you just kind of hash it together so you get a condition ID outfit. So conceptually, a condition is kind of an Oracle and a question. Like you have a question, you have designated some Oracle to TD Chosen One to answer that question. Okay, so also have to briefly talk about this outcome collection. So you also collect number of outcomes, like for a single question. So you could create this thing called an outcome collection. And basically it's technically a non empty proper subset of outcomes for conditions.
00:14:08.134 - 00:15:12.490, Speaker B: But basically you could do things like specify Alice or Carol, or you could just say like Dan as an outcome collection. You can combine these outcome collections into a combined Alchemy collection. And kind of the way you view the combined collections is you connect them with likely hands. So in this case, this outkin collection represents the eventuality in which either Alice or Carol gets elected and the Loon count close to 100. So if both of these happen, if Carol gets elected and Loon count close to 100, or if Alice gets elected and Loon count is close to 100, then that situation represents this outcome collection. This is a little simpler. It's like if this Alchemy collection represents when if it's Daniel gets elected, but there are very few Loons.
00:15:12.490 - 00:15:59.470, Speaker B: Okay? So to get a little bit technicality of things. So in order to represent these collections, you actually have to hash them into a cryptographic group. So like here I'm choosing to use an elliptic curve. But basically you just take this and you hash it into the elliptic curve somewhere. And then to combine those, you just take the group sum. So here you add the IDs for this and that and you get this ID. If you know anything about elliptic curves operations, there's a way to add these hashes together that makes everything secure.
00:15:59.470 - 00:17:00.180, Speaker B: And if you're curious about this in the literature, it's called an incremental multi set hash. It's useful for hashing sets incrementally. So you could keep adding elements to a set without having to do too main modifications to the existing hash. In this conditional token system, any ERC 20 token may be used as a collateral. And finally, to get a position, you just take one of these outcome collections or combined Alchemy collections and you associate with some collateral. So here it's Alistair Carroll and 1000 Moons and it's backed by nine. Or like here's another position, it's just Dan and it's backed by me something.
00:17:00.180 - 00:17:50.770, Speaker B: So to get a position ID, you would just hash those together. It's pretty simple. And then the idea is that all of these tokens, all of these are contained in a single contract. That is the conditional tokens contract. So also I want to recall that earlier I was talking about prediction markets in general. You have some collateral that you could swing to these assets that is considered equivalent to the collateral. In the same way, you can do this with Erxp 20 tokens except on the chain contrustlessly and backed by the contract, the bottom act execution.
00:17:50.770 - 00:18:39.986, Speaker B: Okay, you also kind of split deeper and this is how you get to the kind of combined prediction market. You might go from Dan under back five weeks to Dan and 1000 moons and Dan and no moons backed by week. I totally forgot. But percentage there. Yeah. Finally, this stuff is all great and conditional tokens, but a lot of the real value from this comes from the exchange of these tokens. So this is where the information is at, where you get the idea about the ODS and market probabilities and stuff.
00:18:39.986 - 00:19:38.626, Speaker B: So there are in general kind of two big ways to do this. There's order books, you could have like a whole bunch of order books. The pro about this is you don't have a constrained liquidity with order books. You could kind of put really big orders and have them match and not move the price around too much depending on the order book. But with these conditional tokens, just the sheer number of order books you'd have to manage would make it really hard to work with, especially as a user. On the other hand, you have automated market makers, someone like for example Uniswap Bancorp for just ERC 20 tokens. In general, their liquidity depends on how much you're willing to kind of start funding the market maker or how much loss the market maker can expect.
00:19:38.626 - 00:20:50.902, Speaker B: But with this you can also price these assets a lot more straightforwardly. And also I want to note that with combined prediction markets in general, if you really get deep into it in order to journalize it, it can be really hard. So why not both? You could maybe have an exchange type system where just the automated market maker is just some other participant. And in fact we've also been thinking about this, this is definitely in the works. Maybe like just having a robot that does all the trades and that way you don't actually have to process all this automated market making stuff on chain which can be really expensive though there are actually pluses to doing the automated market making on chain. And that is that that contract can also act as probability oracle. Like an on chain probability oracle about events in the future, which could be neat.
00:20:50.902 - 00:21:48.140, Speaker B: Like for example, maybe this on chain probability oracle is like well, here are kind of what you can expect if any of these candidates get elected. Maybe Dan's pretty good at keeping moons alive. Alex also rather good at this, but Bob not so much. He doesn't really care according to how the market trades. And then maybe you could think of governance mechanisms for this. Anyway, that's it for a talk. Yeah, a bit of stuff to cover in 25 minutes, but yeah, question.
00:21:50.190 - 00:22:07.410, Speaker C: I know, like we're definitely as you know, we work with prediction markets and we're interested in coming out and stuff. Are you guys releasing any documentation on all these concepts or nice resources so we can get cops start using these contracts?
00:22:08.150 - 00:22:22.280, Speaker B: Yes, I'd like to say yes, we're working on it. I did this this week like this is all new content, so maybe you'll see it somewhere. I don't know.
00:22:28.030 - 00:22:36.250, Speaker D: So I know the elliptic curve edition is big in Cartography, but where did that fit into?
00:22:36.400 - 00:23:40.074, Speaker B: Yes. Why? Okay, so the answer to that is I spent the last week looking at some security vulnerability and ended up that was the solution. I just wanted to share it a little bit, storing them uniquely. Okay, so it turns out originally when I was doing this, I just took the hashes of these and added them. And if you'd like to hack this contract right now, you could do something that's called a generalized birthday attack. And it turns out that in order to defend it against this attack, you have to use a more sophisticated combining ID thing and then semi prove that combining them with, like, elliptic curve thing basically turns it into the elliptic curve discrete log problem, which that gets cracked. And all of our current accounts are cracked.
00:23:40.074 - 00:23:44.750, Speaker B: So it's okay. Yes.
00:23:44.820 - 00:23:50.238, Speaker D: Is Uterki the principal use case you have in mind in terms of combinatorial fiction markets?
00:23:50.414 - 00:24:37.300, Speaker B: So the principal use case for us is not Futurkey. I just wanted to highlight at the end, as a potential use case for us, it's really just about information discovery. So just kind of the idea that you could see kind of a bit more into the conditional probabilities of things happening, that sort of insight might be useful. Do you think finance is? Yeah, perhaps. But I am not a project manager, so I'm not entirely sure. I think we are talking about that a bit.
00:24:40.890 - 00:24:48.310, Speaker D: That makes a lot of sense of commodities markets because you're using data from weather prediction market and all these other conditions.
00:24:50.330 - 00:25:16.330, Speaker B: Maybe. Who knows? You have to give the okay from the regulators. There's a lot that we know. It's.
