00:00:00.410 - 00:00:37.874, Speaker A: So I'm going to present on Foam, which is a protocol for building a consensus driven map of the world. And so really a Foam protocol has like three main different elements and that's called the cryptospatial coordinate, the spatial index, visualizer, and ultimately proof of location. And so really like the starting point of the project was that there are no geospatial tools or standards for blockchain developers whatsoever. So that's everything from how do we put geospatial information into a smart contract, how do we visualize it and then how do we even verify it. So that's kind of where we started from. So currently we have a product that's live on the ethereum mainnet. It's called the foam map.
00:00:37.874 - 00:01:06.290, Speaker A: It's a token created registry for curating geospatial points of interest. And kind of one of the first mechanisms of kind of trying to verify geospatial data on the blockchain. And where we're going towards is something called proof of location. And that's about actually verifying things that move around in the real world. And with that we'd be using low power radios and a time synchronization protocol. So just back to basics. Foam is about bringing geospatial standards, protocols, and ultimately proof of location to the blockchain.
00:01:06.290 - 00:01:54.154, Speaker A: And so where we first started working on this project in about 2017, the first element we actually designed is something called the cryptospatial coordinate. And so most people think that geolocation is already a solved problem today, but in reality, we have tons of different geoencoding standards. There are things like postal addresses, so it'll say Times Square, Manhattan, New York, latitude longitude. And there are some like, what three words, which is a proprietary solution which gives three words like Rocky silver fund, and that will represent a three by three square. So they have basically a three word key for any place in the entire earth. So this is for people that don't have postal addresses or they're in the desert or how to kind of do that, but they're selling that solution to people like Trains or Mercedes Benz. So it doesn't really cut it for blockchain.
00:01:54.154 - 00:02:37.370, Speaker A: But we did find this one solution called the geohash, which is a really kind of elegant way of kind of making a really long latitude longitude into a short Identifier key. And so what we did is take this open geohash standard and come up with a way for any smart contract address to claim a geohash and out of that get a unique Identifier, which is a cryptospatial coordinate. And this is kind of a smart contract making a claim on and off chain to a location. It doesn't say that it's actually there, but what this does is give a standardized way for smart contracts to encode location. So you don't have one using a street address and one using latitude longitude. Now they're not interoperable. So this is kind of like the first starting point of just kind of bring some sort of standards about location into blockchain.
00:02:37.370 - 00:03:25.790, Speaker A: And so what that means is it's kind of the first step of introducing this new spatial dimension where contracts can start to claim addresses. And from there we'll really see how do we actually verify if what they claim is true or not. So this is actually the new lab, the building we're sitting in now. And for example, if a smart contract representing the new lab, it would get this kind of unique Identifier that you'd be able to derive its location from, and you'd be able to derive its smart contract address and you'd be able to check it in the real world and on chain as well. So as the first element of just encoding geospatial information, from there, we want to then be able to visualize it. So from there, we made the Spatial Index Visualizer, which is kind of like a visual blockchain explorer. And so there are currently no real general standards of building maps that are connected to the blockchain, especially for developers.
00:03:25.790 - 00:03:59.330, Speaker A: So this is kind of the architecture of the Spatial Index Visualizer. It's a full stack web app and it uses everything from the top, like Uber Deckgl tools, Mapbox, SDK. It's a react app with MetaMask, and you can interact with the blockchain via the front end. And then there's a backend AP API written in haskell. It's running on Kubernetes clusters, and it can basically index the entire blockchain into a postsql database. And then from there, this API feeds these events to the front end. So you kind of have this loop where you can interact from the web app with Ethereum.
00:03:59.330 - 00:04:31.230, Speaker A: The backend can index it and feed those events back to the front. So that basically everything you then see on the map is actually a smart contract. So this is the kind of architecture that powers the Foam map today, where every point you see actually represents a smart contract on the blockchain. And you can interact with it through that. And it's powered by this backend. We've built an API, and so while working on this Spatial Index Visualizer, we came up with a lot of custom tools to support it. And these are general purpose tools for Ethereum developers.
00:04:31.230 - 00:05:00.822, Speaker A: They're not related to geospatial or blockchain. And so the first is that we are functional programmers at Foam. We're the largest contributors to the Haskell Web three library. And when working on this project, we made the PureScript Web Three library. So PureScript is a functional programming language that compiles to JavaScript, but it's very much like Haskell with strongly typed language and secure. So this is kind of what powers the front end of the application, is this library that we maintain. Additionally, we made a tool called Clickbait.
00:05:00.822 - 00:05:35.250, Speaker A: This allows you to spin up a custom blockchain from a docker image really quickly, and you can pre allocate balances to different accounts and import libraries already. And we also developed something called Chantrell. And this is written in PureScript as an alternative to Truffle. Truffle is one of the most popular deployment tools in Ethereum and JavaScript, but it also comes with a lot of pain points. And so we made this as an alternative in our work. So essentially at Foam we have an entirely own Ethereum stack that is kind of custom made for us, but available for anyone to use for their own purposes. So instead of Truffle, we use Chantrell.
00:05:35.250 - 00:06:16.770, Speaker A: Instead of Web Three JS, we use PureScript. And instead of these test RPC modules, we use these clickbait docker images. And this makes it really fast to spin up applications, deploy things to the main net and in a really secure way. So these are available for anyone to build on, not even generally Spatially. But when it comes to the Spatial index and the Foam map, we do host the Foam developer portal. So this is how you can get access to that API and get started either building your own applications with these tools or trying to basically do some analytics on what's happening on the map so that can be found at developer Foam space. And all of these kind of previous tools are actively maintained libraries that are open source and on GitHub.
00:06:16.770 - 00:06:57.666, Speaker A: So those are kind of the elements and tools we've built that are quite general purpose and are meant for any Spatial developer to be able to have a map in their application and tie it to a blockchain. But where the Foam token comes in is then how do we actually start to verify information. And so what we start with is what we call static proof of location. And so when we look at kind of open source mapping today, there's a lot of problems and attacks. So just recently we see here it says New York was renamed to Judropolis and kind of like an anti Semitic Jab. So somebody kind of vandalized open street map and nobody caught it. And it got then basically pushed to Snapchat and city bikes and StreetEasy and basically everyone's map that day.
00:06:57.666 - 00:07:32.998, Speaker A: Instead of New York. It said Geotropolis. People in Pokemon Go were going into OpenStreetMap and would add a volcano to Brooklyn and nobody would catch it. And now there's charizards everywhere in Brooklyn and charmeleons, but there's also Ubers routing around volcanoes and fake rivers. And so these are people kind of and even then with ISP addresses there was like because of an error in the US military database for every single stolen iPhone in South Africa, it pinpointed this guy's house. And so detectives and police would be showing up all the time and threatening him every day. But it was just that the General ISP assigned the Geolocation for that town to his backyard.
00:07:32.998 - 00:08:28.170, Speaker A: So there's a lot of problems with kind of validating and verifying keeping this kind of data up to date already. And if we want to think about a smart contract that will read this data, it definitely should be verified and secure. And so the solution that companies do today is companies like Mapbox and Facebook, they actually protect the map. So you have these open source mappers building out these databases, but then these companies have to run these algorithms and manually check it and pay a lot of people to do it so that they can make sure it's correct. And then they sell it back to companies who want to use it, like Snap Maps, for example. And so that's slightly problematic because you kind of have these gatekeepers of the data, but it's especially problematic for any smart contract that then would have to pay these API fees to these entities that are kind of protecting the map. So what we did is, for the static proof of location is take this cryptospatial, coordinate primitive and combine it with another in the blockchain space, which is a token curated registry.
00:08:28.170 - 00:09:02.710, Speaker A: And that's a way to kind of maintain a list of information and use a token to curate it. And in our case, we want the list to actually be a map of locations. So the list is kind of rendered as a map. And so in a token curator registry, there are candidates, and these are new points that want to be on the map. There are curators, people who actually go through and potentially challenge those. And then there's consumers, which could be a human, but more likely a smart contract, like, let's say a game. We're running a scavenger hunt right now where you can win NFTs and there's a bot in the cloud that will read the map and trigger other smart contract events and issue NFTs as rewards.
00:09:02.710 - 00:09:40.306, Speaker A: And so this is kind of a fun graphic someone made in our community, but it shows at the top, when you want to add new locations, you must stake a deposit. That's kind of an anti spam mechanism. You still own your tokens, but it's kind of backing the truthfulness of your claim. If nobody does anything, it'll be added, but if somebody challenges you, they can stake against you. And that kind of creates this reward pool where people can then vote on if it should stay or not. And that's kind of the real innovation here, is that there's now an incentive to even check these points because there is this kind of like latent bounty if you found an error. And this is a little bit outdated, but kind of shows the amount of points that have been added to the map.
00:09:40.306 - 00:10:24.866, Speaker A: So in this snapshot, there was 8000, I think it's closer to ten now, and about 4% were actually challenged and slightly less were then removed. You can see some were like manually removed, but ultimately a lot of the points are getting through and people are staking tokens to them. So this also shows the amount of tokens that are staked in the foam map today across different contracts one signaling, which I'll get to after. So from when we launched in September to December to today, people are actively basically adding data to this registry. And this kind of shows the growth and ones I'll skip that for now. And so we have a lot of challenges occurring as well. And you can kind of start to learn of how these actually curation markets perform in the real world.
00:10:24.866 - 00:11:01.600, Speaker A: This is one of the first token curated registries. So a lot of assumptions need to be tested and kind of see how people behave and then we can kind of respond to them and make news. So when this snapshot, it showed that the highest challenge reason was the actual point was in the wrong location. But since then, the chart is actually different, where the metadata has become the biggest reason. And it's because people are getting more NIT picky to try to sneak in challenges and make people vote on their side to get the points. This shows that points are either really challenged right away or old points that people are sifting through get challenged. Yeah, stop there.
00:11:01.600 - 00:11:27.766, Speaker A: So that's about what's live today. And we have learned a lot. There's an active community of people either curating the map or debating how to enhance it. There are a lot of governance parameters that can be triggered. So people are kind of working through that. And we see people also building now games on top of the map. So the map is kind of a game, but it's also very much a protocol meant to generate a verified list of points and then those points are to be used by other applications, whether it's a game or something else.
00:11:27.766 - 00:11:52.254, Speaker A: But going forward, we're working on dynamic proof of location. And this is on how do we come to consensus on where actually something is in the real world. So today the way that we kind of derive real time location is through the GPS system. And it works really great to figure out where you are. But the satellites only send messages to Earth. They don't hear anything back from us. So you can figure out where you are, but the satellites don't know where you are.
00:11:52.254 - 00:12:29.130, Speaker A: There's no history of where you've been. So it's very easy for you to change your GPS data before you send it to someone else. And it's called spoofing. And so it's a huge problem across supply chain IoT mobility, like cars, Pokemon Go. But when we think about in a trustless Web Three economy, if people want to accept location data to issue out a payment, let's say you can't use GPS because it's impossible to know if it's a real or a fake GPS message because there's no origin. And this is becoming a bigger and bigger problem, kind of the location market is suppressed. Companies like Pokemon Go couldn't capitalize on revenue because too many people spoofed where they went and they wanted to partner with stores.
00:12:29.130 - 00:13:25.114, Speaker A: Uber has lost tons of money trying to detect spoofers who are making their trips, last longer to ramp up the prices. And we're seeing more and more kind of military style interferences and attacks against GPS, and there really is no alternative or backup. But there's also no way today to actually verify your location in that way. So in the kind of foam system, what we want to build is something that is Byzantine, fault tolerant, completely independent of GPS trustless and permissionless, and driven by punishments and rewards. And the way that we do that is through synchronized clocks and triangulation, low power radio networks, crypto economics and incentives and different consensus models for local and global. And the kind of radios that we're looking at for this is a new class of radios called Low Power Wide Area Networks. These radios have a very long battery life, but can also go in extremely long range.
00:13:25.114 - 00:13:56.470, Speaker A: So unlike bluetooth, et cetera. So these are really interesting about something where you could not have an insane amount like Bluetooth and still get decent coverage. So the radio we're currently working on is called Laura. It has up to like a ten to 15 kilometer range and ten year battery life in optimal conditions, probably much less in like a dense urban city. But this is a really exciting radio that also runs on the open ism band. So you don't need a license from the government to operate these radios. You could run a business with these radios without a license.
00:13:56.470 - 00:14:30.558, Speaker A: And there are plenty of people kind of hosting these radios for free today. So this is a snapshot in Sydney, Zurich, and these are people running them kind of for IoT DIY projects. They have a sensor in a pond, and they want to get that data to the cloud. And people are running these low power radios for free today. And you look at other projects like Gotenna, which is a consumer hardware device to be able to mesh network without Internet, and there's tons and tons of people hosting it. There's not much you can do with it. But this kind of shows that there is an interest and demand from retail or normal people to actually use hardware and participate in mesh networks.
00:14:30.558 - 00:15:06.414, Speaker A: Kind of validating that there are people wanting to do this. So in the foam system, what we call these radios is zone anchors. So you would have them kind of being hosted by people who stake tokens, and they would kind of find each other over radio and synchronize their clocks. And once synchronized, they form a zone. And a zone is kind of maintaining a quorum on space and time, and they're constantly synchronizing their clocks and broadcasting messages. And if they unsync or kind of act incorrectly, the idea is they would lose their stake. And the idea is that once this service is there, customers can now generate proofs of where they've been in a way they never could before.
00:15:06.414 - 00:15:43.546, Speaker A: So applications can then define the logic. And let's say it's an Uber app. The app would say to the driver, for you to get paid at the end of this route, you must produce seven receipts along the way. And the only way those receipts could be made is if they were interacting with the zone. So the zone is then basically keeping a quorum on time and space and can accept fees from customers that want to generate proofs. So the system is meant to be trustless, independent, open, hold people accountable and incentivized. And so what we've been doing earlier this year has been building a kind of local testnet so we can simulate this in the lab.
00:15:43.546 - 00:16:05.538, Speaker A: And we called it the Geopickle. This is what it looks like. So it's a rack of like 40 raspberry PiS. And so each rack of four would represent a zone. So a zone needs at least four zone anchors, one for XYZ and a fourth for time. And so here we have ten zones. And what it allows us to do is simulate that they can hear each other half the time, maybe they can hear each other 99% of the time.
00:16:05.538 - 00:16:57.594, Speaker A: You can simulate packets being dropped and so that we can actually run, just locally, this kind of simulations. And it's been really great to work on the TimeSync software and protocol through that. This is kind of like a GIF of showing that you can see all the zones and they'll be running the time sync software and eventually they will synchronize, which is great to see. Yeah, I think I ran out of slides. But what I wanted to say is that was the previous progress. Since then we've been working on the actual radios and a custom firmware for them and in parallel, the kind of blockchain scaling architecture of a plasma architecture. And so right now, in ten minutes, up in our office, because Foam is based in the new lab here, we're going to do our first demo of the radios running TimeSync over radio and then basically being able to exit their plasma chain.
00:16:57.594 - 00:17:06.760, Speaker A: And that uses tenderman consensus as well. So, yeah, if you want to see it in action, come up to our offices in ten minutes and happy to take questions for now.
00:17:12.750 - 00:17:27.482, Speaker B: What is the actual purpose of the time synchronization? That's to verify that you were at a certain location. What is the significance of the time synchronization?
00:17:27.626 - 00:18:15.826, Speaker A: Yeah, so the way that GPS even works is they all have atomic clocks and they synchronize their clocks. And if you have synchronized messages and you can receive four of them, you can run a time difference of arrival algorithm. So if you know the location of all them, and then you can basically trilaterate your location based on the difference of arrival. So they all broadcast what time they sent it, and then you see that they came in at slightly different times. And so that's what your phone is doing when it's looking for the GPS messages, it will trilaterate. So that's why you need time synchronization and why it's really important to have them be fault tolerant because they have to always stay in sync up to like a nanosecond to make the location part accurate. And so this physics here will work the same in that these radios are synchronizing and they're broadcasting their messages so anyone listening can learn their location.
00:18:15.826 - 00:18:57.840, Speaker A: But the new value add here is that you can bi directional so you can talk back to the system and for like a small fee generate a receipt about yourself. So it's more about humans or machines being able to generate what we call presence claims of where have they been by this kind of network of infrastructure being available. So the Foam map is on mainnet and launched last September. We're doing our first demo of the radio stuff on a testnet today. Any other questions?
00:18:59.270 - 00:19:06.370, Speaker B: How many applications do you guys get for the TCR on a weekly basis?
00:19:06.870 - 00:19:38.154, Speaker A: So Caleb here in the back, he's a Foam community member and he does some analytics. So like the charts we saw. But he also started a service called the Foam Daily Digest so that every day tells you how many points were added, how many challenges, signals where the active voting is. And it's been pretty volatile. So last week there was like over 30 challenges at one time and close to over 8 million took Foam in the voting contract and it was like extremely active. And then there's like a hangover now and there's been no challenges. And then there was like a week where there was like five points a day.
00:19:38.154 - 00:19:54.910, Speaker A: I think there's only been a few days in the history since we launched where there were zero points. And then there'll be like a game that started on a Saturday and like the last three Saturdays there was 45 points added by new users. So it's been kind of volatile but it is slowly kind of tokens getting sucked off the market and into the registry.
00:19:54.990 - 00:20:01.422, Speaker B: Is any of the applications programmatically added or is it literally like your manual?
00:20:01.566 - 00:20:52.466, Speaker A: There's no preventing someone from writing a bot that will auto import points, but I can't verify if anyone's done it or not. But it's mostly people kind of like manually and then they are really meticulous about it because if they mess up, someone might challenge them. And then the minimum deposit is 50 Foam. So its idea is to have it be enough to be anti spam and also it should be enough that it's worth voting because if you have it too low voting, the reward will be less than the gas. And then what we saw is people staked a ton so they're really proud of their point and put like 10,000 and then we see like a guy with a lot of Foam will challenge them for 10,000 and then try and win the vote. So it happened a few times, and then the people rallied together and then destroyed this challenger. And he lost like 30 challenges in a row at the exact same time because he started them all at the same time.
00:20:52.466 - 00:21:29.866, Speaker A: And so we're aware of the perils of on chain voting, but it should eventually hit an equilibrium of every point had the minimum. The challenges should only really be legitimate. And kind of a lot of the challenges we saw were also people kind of even if they found a real error, they would challenge it for the maximum amount to try to get. But there was no requirement for the person to stake so much there anyway, the idea is longer term, it'll be a way to visually rank points. So if you want to be more visible, you can put more at. Awesome. We have a grant program available and bounties for this, so if someone wants to like, I think bots are pretty underexplored.
00:21:29.866 - 00:21:46.200, Speaker A: The NFT game that's running right now uses an Azure bot in the cloud to listen to the API and trigger the minting of NFTs. So it's definitely possible to make a bot that will take some other database that's open source and manually have it add points or something.
00:21:47.130 - 00:21:51.640, Speaker B: Have you guys seen a lot of proposals for governance changes?
00:21:53.130 - 00:22:06.890, Speaker A: It's kind of been like that. You had to really see how it even works over some time. And so now that that started to happen and there's been some controversies, those conversations have just started, and some community members have stepped up to organize the calls and discussions.
00:22:08.190 - 00:22:11.426, Speaker B: Is it really expensive to change a governance primary?
00:22:11.558 - 00:22:42.120, Speaker A: No, it's the same as voting. It's a gas, basically. So there's like seven parameters that currently can be changed. What would be expensive is to rewrite all brand new smart contracts, pay an auditor, and then launch that. But we also have an upgrade path, so it's possible, one, to kind of target behavior off of KPIs by if there's too many challenges. Make the challenge period last a month so there's enough time for people to vote. If Foam goes up in value too much, lower the minimum deposit, things like that.
00:22:42.120 - 00:23:00.240, Speaker A: All right, we have five more minutes. Any more questions? Yeah.
00:23:01.410 - 00:23:18.370, Speaker B: What can you do to guard against, like, a collective troll, like, say, the volcano idea? Like, what's going on? If enough people in your system thought something was hilarious, they could tilt a boat.
00:23:19.670 - 00:23:59.890, Speaker A: So there's a lot we're currently exploring on making the parameters more intertwined. So, like, for example, a challenge to point addition ratio. So your challenge power ability could be tied to how many points you've added, but ultimately, it's like a consensus driven map, so it comes down to subjective behavior. And so if the majority of phone users agreed that there was a volcano in Brooklyn and it's on the blockchain and nobody wants to pay enough money to challenge them, well, then they'll just have to live with that fact. Ultimately, the minority who is upset about it could also fork the code and leave behind the volcano.
00:24:03.190 - 00:24:21.670, Speaker C: But of course that always goes back to rational incentives. Like if somebody's going to stake a bunch of tokens and then they totally mess up the real world representation, the TCR will no longer be valuable. And they're like, okay, the value of their token goes down.
00:24:21.740 - 00:24:24.614, Speaker A: At least that's like the naive interpretation. Yeah.
00:24:24.812 - 00:24:28.630, Speaker C: So in theory, they wouldn't mess up their incentive.
00:24:30.470 - 00:24:41.990, Speaker A: Yeah. Well, we've definitely seen people like stress tests and folk. We've had three times now like a rogue challenger come in and then get burnt out and quit the community because they ultimately got defeated.
00:24:45.210 - 00:24:52.390, Speaker B: What do you guys use on the back end? I remember you said something about an index database.
00:24:52.470 - 00:25:57.900, Speaker A: Yeah. So we have an API written in Haskell and we're running on Kubernetes clusters, and then it basically reads REM ethereum. Yeah, the metadata is on IPFS, but then it has this back end database and indexer and it goes into a post SQL GIS database or whatever spatially curious database, and then it can just send red WebSockets back to the front end. And so from the front end, it's just like seeing normal data and just renders it on the map like in the same way any mapbox application does. And then this kind of structure can be used for it can index anything from it doesn't have to index just the TCR, it could index CryptoKitties with geospatial addresses in them. Yeah, I think we're going to go do a demo now in our office. So thanks everyone for stopping by.
