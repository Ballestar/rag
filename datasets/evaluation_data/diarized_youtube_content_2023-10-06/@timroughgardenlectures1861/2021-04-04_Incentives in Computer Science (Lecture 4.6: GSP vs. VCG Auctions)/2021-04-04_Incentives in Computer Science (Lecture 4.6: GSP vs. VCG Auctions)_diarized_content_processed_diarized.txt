00:00:00.730 - 00:00:48.330, Speaker A: So in the last slide, we learned about the generalized second price or GSP auctions for sponsored search, which again, really are the dominant paradigm to this day. That's really kind of the number one way that search advertising is handled by real time auctions. I did leave you with a little bit of a cliffhanger at the end of the last slide, right, which is we propose the GSP auction as a generalization of the Vikri auction. And indeed, when K equals one, when there's only one slot, it is exactly the Vicary auction. But we never actually discussed whether or not that intuition for why the Vicary auction is truthful holds also for generalized second price auctions. And in fact, let's see by an example that actually it doesn't. So despite mimicking the intuition that worked in the single item case, what we came up with, these generalized second price auctions is not, in fact a truthful auction.
00:00:48.330 - 00:01:22.434, Speaker A: What does it mean to say that GSP is not truthful? It means there are cases where it's in a bidder's interest to bid a non truthful bid. So as we'll see, it's going to be to bid less than their true valuation. So to construct an example, right, you always want to kind of try to come up with the simplest example you can get away with, given what you're trying to show. So we know we can't get away with having just one slot. We know we can't take K equal one, because then the GSP auction is the same as the Vicory auction, which we know is truthful. So if we want an example where the GSP auction is not truthful, we need more than one slot. And so the next one to try would be two slots.
00:01:22.434 - 00:01:55.634, Speaker A: And it turns out that will actually be good enough. We also need there to be enough bidders so that there's competition, right? If there's no competition, then everybody just pays zero and there's not much to do. So we're going to need at least three bidders as well, but we'll be able to get away with that. So two slots, three bidders. Let me now tell you what are the click through rates in our example of the two slots and the valuation per clicks of the three bidders in our example. So we're going to use quite plausible values. So let's say the click through rate of the top slot is 10% or zero 1 second slot is half as good.
00:01:55.634 - 00:02:22.874, Speaker A: So 5% or zero, five click through rate. Let's assume that the three bidders valuations are ten, nine and six. That's their maximum willingness to pay. And remember, valuations are expressed per click. So for a click, a bidder is willing to pay ten, nine or six. And remember, the bidders are going to care about an impression, which are the goods being sold by the auctions. They're going to care about being displayed on a search results page only in as much as it might lead to a click.
00:02:22.874 - 00:03:11.490, Speaker A: So the valuation per click is going to get multiplied by the click through rate of whatever slot they wind up in. It's going to be the first bidder that has an incentive to underbid. So let's just go ahead and assume that bidders number two and number three bid truthfully. Remember truthful biding that's supposed to be optimal no matter what other players do. So in particular, it should be optimal if the other players bid truthfully. So let's go ahead and look at number two and number three bidding truthfully. The question now is should bidder number one bid truthfully also, should they really bid their actual value of ten or should they bid something else? So first, let's see, what would the utility be of that first player if they do in fact bid truthfully? If they do in fact bid ten? So if the first bidder bids truthfully, if it bids ten, it's obviously going to come out first in the ranking of the bids.
00:03:11.490 - 00:03:59.266, Speaker A: And so a GSP auction will give it the top slot, give it the best slot, which is a click through rate of alpha sub one. So what then is the utility that bidder number one gets from getting displayed in slot number one? Well, again, remember that the advertisers only care about clicks and they're also only going to get charged per click. So if that impression is not clicked on, which is 90% of the time, then the utility is zero because nothing gained. Nothing lost. On the other hand, in the 10% of the time that this advertiser does have its link clicked on, that 10% of the time, it's going to get a value of ten for that click, right, because that's its valuation. And then what will it have to pay? It'll have to pay the second highest bid, which in this case is nine. That was the bid of the bidder in the second slot.
00:03:59.266 - 00:04:51.630, Speaker A: So the overall utility for an impression for being shown in slot one of this search results page is 10% or zero one times that difference. Ten the valuation, minus nine the payment. This quantity, of course, is also known as zero one. So that's the utility, the bidder number one gets if it bids truthfully and winds up in the top slot. Now, if this auction were to be truthful, it would need to be the case that no matter what else bidder number one could bid, it would still wind up with utility zero one or less. But let me now show you that there is a bid that bidder one could make that would actually give it higher utility. Let's look at the case where bidder number one underbids and bids eight instead of ten.
00:04:51.630 - 00:05:13.744, Speaker A: So what changes with this underbid? Well, actually, two things change. So first of all, bidder number one, it winds up in a different slot than it would have had it bid truthfully. Bid truthfully, it would come out first to get the top slot if it under bids and bids eight. Now, all of a sudden, it's bidding less than bidder number two. Who was biding truthfully was bidding nine. It is bidding more than the third bidder. It's biding more than six.
00:05:13.744 - 00:05:53.244, Speaker A: So it's going to be in the middle of the three bidders. So that means with this bid, bidder number one will be granted the second slot. And that means that the bidder is going to be having a smaller click through rate. It's going to get a click through rate only 5% of the time winning this auction will it actually get a click. But the second thing that's going on is that the price that bidder number one has to pay per click has also changed. When it bid truthfully and when it's in the top slot, it had to pay per click the bid per click of the next advertiser, the one in the second slot, which was nine. Now that it's in the second slot, it does not have to pay that nine because you look at who's beneath it, look at the third highest bidder.
00:05:53.244 - 00:06:36.976, Speaker A: They were bidding six, so the price per click has dropped to six. So the bad news for the bidder is they're getting less clicks. The good news for the bidder is that they're getting those clicks more cheaply. And one line of algebra shows it actually winds up better off. It winds up with a utility of zero two. At the end of the day, in this calculation, you'll notice that I use the bidder's valuation ten, not its bid eight. And that is on purpose, right? So if it's really discussing what is the player's utility, how do they feel about it? Their assessment of how well they did is really based on what they know was their maximum willingness to pay.
00:06:36.976 - 00:07:13.544, Speaker A: It was really based on their valuation. The fact that the bid was eight was sort of irrelevant for the utility computation. Eight is just what they were telling the auction they were willing to pay. But in the utility calculation, we use the bidder's true valuation because that reflects what it really cares about. So given that we're using the true valuation ten now, all of a sudden it's getting a net utility of four every time it gets a click. Not only gets a click 5% of the time, but still you wind up with a utility of 0.2. And so, because this nontruthful bit of eight gives the bidder more utility than the truthful bit of ten, that proves that a generalized second price auction is not a truthful auction.
00:07:13.544 - 00:07:53.896, Speaker A: It does not have that very strong property that we saw was enjoyed by the vicary auction in the single item case. So that's a little bit of a bummer. I mean, the GSP auction, it's still pretty natural and it performs perfectly well in practice. Would have been nice if we'd had this truthfulness property. It's a little annoying that we don't. And you might ask, well, this was just kind of the first thing we tried if we thought a little bit more harder about our original question, is there an analog, meaning a truthful auction of the vicary auction for the more general sponsored search setting? That question is still at the moment open to us. Is there or isn't there? GSP is not it, but could something else be a truthful auction? And in fact, there is.
00:07:53.896 - 00:08:28.644, Speaker A: There is another sponsored search auction that is truthful, just as truthful as the Vicory auction. It's an auction known as the VCG auction. The V is for Vickory and then C and G are for Clark and Groves, who are two other economists who extended Vickory's original idea a little bit later in the early 70s. So let me just tell you a little bit about how the VCG auction works without sort of going too far out into the weeds. It's not that different, frankly, really, than the GSP auctions. And the first step is exactly the same as far as deciding which advertiser gets which slot. Exactly the same.
00:08:28.644 - 00:09:16.752, Speaker A: You just rank the advertisers from highest bid to lowest bid. You give the highest bidder the best slot, second highest bidder, second best slot, and so on. So that part of it's exactly the same. So the difference comes into the pricing rule. So the VCG auction charges prices with a different formula than GSP, and as a result, it winds up being truthful, even though GSP was not. And so basically, the idea is in GSP, you just charge somebody the next highest bid, whereas in VCG, you charge somebody a weighted average of all of the lower bids, where the coefficients in that weighted average, they depend on the click through rates and what's going on here. Right? So we had this intuition that we were hoping that in the GSP auction we were underbidding optimally on someone's behalf, just like we were in a Vicre auction.
00:09:16.752 - 00:10:10.772, Speaker A: And if you think about it, we sort of made an incomplete thought experiment. We said, oh, well, if someone's in the second slot and they're bidding 15 and the person in the next slot is 13, then this person could have still gotten the exact same slot, slot number two, while bidding $13.01. So that's what we'll pay them because that's what they could have bid and still wound up in the second slot. We overlooked the possibility that a bidder might prefer to actually move slots in particular to drop down to a lower slot, suffering a smaller click through rate, but perhaps getting a huge bargain on the clicks that they get. And that's exactly what happened in the counterexample on this slide. So accordingly, in the BCG mechanism, it's charging sort of smaller prices to the bidders to take away this incentive to drop down to a lower slot. And because it has to protect simultaneously across all possible lower slots that a bidder could try to underbid into.
00:10:10.772 - 00:10:52.912, Speaker A: That's why the payments wind up being a weighted average of all of the lower bids, where the coefficients in that weighted average depend on the click through rates. So that's the VCG auction basically the same as GSP, except instead of just charging 100% of the next lowest bid, you might charge say, 40% of the next lowest bid, 20% of the bid after that, 10% of the bid after that, and 30% of the bid after that. That would be an example price in the VCG auction. And then you can prove and again, I encourage you to look at the lecture notes available from my website site, timruffgarden.org, if you want to see the full details. So the answer is yes, VCG auction is a truthful auction for the sponsored church setting. That's not quite what's actually done usually in practice.
00:10:52.912 - 00:11:35.040, Speaker A: Instead these GSP auctions are used, but they're not super different. Still, I sympathize if this kind of bothers you. We liked this truthfulness property, we thought it was really cool with the Vicory option. There is this option for sponsored search that has that really cool property and that's not what people are using. So what's up with like surely there's some reason why GSP must be better than VCG, otherwise they'd be using VCG instead. So that's kind of a complicated question, but let me tell you about sort of a few aspects of that. Why to this day are GSP auctions, the nontruthful GSP auctions, so dominant in practice? Well, to be honest, the first reason, and maybe the main reason, is just historical accident.
00:11:35.040 - 00:12:12.510, Speaker A: So the sponsored search auctions of Google, they were developed in the summer of 2001, so pretty early days in the company's history. And in fact that was just a little bit before Google had hired any economists. They hired their first chief economist not long after, also back now, there's a lot of computer scientists who know a lot about option theory. In 2001, most computer scientists knew nothing about option theory, so they were kind of having to reinvent it from scratch. So that's what was happening sort of at Google in summer 2001. If they'd known about VCG at that time, they might well have implemented it, but they didn't. So they said, let's try this GSP auction and see how it does.
00:12:12.510 - 00:13:01.512, Speaker A: So generalized second price auctions were then rolled out in February of 2002 and really very soon after, it was realized at Google that, oh wow, I guess we could have done this VCG alternative and wound up with a truthful auction. But at that point they'd already rolled out the sort of initial version of sponsored search ads and they were doing great right out of the gates. They were having amazing results. And so inertia then plays a big role to any major change you might want to make, right? Sort of understandably there was a kind of why fix what ain't broke type of attitude. Back in the early days. Google also said that they found sort of generalized second price auctions easier to explain to advertisers. It was just easier to understand that you pay sort of the next highest bid of a competitor as opposed to some sort of weighted average of all the lower bids.
00:13:01.512 - 00:13:45.716, Speaker A: And that argument probably held some water back in the early days, honestly. Now, as these auctions have evolved over time, enough of the auction is sort of so opaque to advertisers, I don't think explanatory power is relevant anymore. So, for example, I mentioned at one point that search engines compute these notions of ad quality. They sort of try to understand the ad specific dependence on the click through rate and that's mostly proprietary, so no one knows how those adjustments are being made. And at that point, you may as well use a more complicated payment formula. That's just one more thing you're going to be shoving under the rug. Another reason why it's a little bit scary to contemplate migrating from GSP to BCG is you might be worried about short term revenue losses.
00:13:45.716 - 00:14:14.336, Speaker A: So why would that be true? Well, the reason GSP is not truthful is because bidders have an incentive to underbid. We saw that in the example. You might want to drop bid low to drop down to a lower slot. You get fewer clicks, but you get them at a big discount. So in GSP you're going to expect underbidding and that is indeed what you see in practice. Advertisers tend to bid less than their value as you'd expect, given the amount of money that's at stake. So now imagine today we're using GSP, bidders are underbidding accordingly.
00:14:14.336 - 00:14:51.528, Speaker A: And then suppose tonight at midnight we flip a switch and it suddenly becomes the VCG auction. Well, the immediate effect is the VCG auction is going to be charging lower prices than the GSP auction because sort of the VCG auction is doing a better job at underbidding on your behalf than the GSP auction was doing. So that means it's going to give you a lower price given your bid compared to the GSP auction. So you flip the switch to the VCG auction, the bids drop. You need to wait for bidders to realize that they should no longer be shading their bid. You switch to a truthful auction. So they should now raise their bids back to their original valuation.
00:14:51.528 - 00:15:47.276, Speaker A: But that's going to take some time. So there's going to be this adjustment period where the bidders are still bidding as if they were in a generalized second price auction and therefore under bidding. But you're charging prices, low prices via the VCG auction and bidders are going to figure it out and they're going to sort of resume bidding truthfully, if you do switch to VCG over time. But there will be a period where you're making less money than before and it could be that that would be significant enough, it would show up on like a quarterly earnings report. So you can understand sort of the reticence of around taking that risk of losing some short term revenue just to have a little bit more strategic simplicity in the long run. And then the final reason is that while certainly VCG has benefits of strategic simplicity over generalized second price, bidders don't have to try to think about how they should be under bidding. If you're just looking at sort of the bottom line, if you're just looking at revenue considerations, it doesn't seem like there'd actually be a very big difference GSP versus VCG.
00:15:47.276 - 00:16:26.332, Speaker A: It seems like they should generate roughly the same amount of revenue. And there's even some theory to back this up. For those of you that are curious, I encourage you to check out the lecture notes off of my homepage for more details. But long run evidence suggests that the revenue will be basically revenue neutral the switch. So as a result, given all of these other issues, there wasn't a compelling enough force to do it. And so that's why even though Google and other search engines have known for 18 years or so that there was this truthful alternative to generalized second price, you still dominantly see generalized second price out there in the real world. That concludes module number four.
00:16:26.332 - 00:16:57.940, Speaker A: That's what I wanted to tell you about auctions. So you now sort of know the basics, auctions 101 for single item auctions. And you also now know how sort of some of the most important auctions in practice work under the hood, these sponsored search auctions that are used at Google and many other search engines. So where I want to go next for module number five is I want to look at a very different application which is much more focused on a public good as opposed to the for profit world. I want to look at large scale democracy and in particular participatory budgeting. So I'll see you in module number five. Bye.
