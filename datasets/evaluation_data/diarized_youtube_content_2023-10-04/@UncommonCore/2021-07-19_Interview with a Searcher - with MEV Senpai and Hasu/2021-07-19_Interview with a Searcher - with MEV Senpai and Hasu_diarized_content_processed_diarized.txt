00:00:03.210 - 00:00:28.322, Speaker A: Welcome to Uncommon Core, where we explore the big ideas in crypto from first principles. This show is hosted by Su Zu, the CEO and Chief Investment Officer of Three Arrows Capital and Me hasu a crypto researcher and writer. Today I welcome Mev intern from Twitter who actually graduated recently to Mev Senpai.
00:00:28.322 - 00:00:47.830, Speaker A: So that's an inside joke. In this episode, we discuss the structure of the mev game and what actors exist inside it, what is searching. We will get the inside perspective from someone who identifies and captures mev himself, which is brilliant in my opinion.
00:00:47.830 - 00:00:58.190, Speaker A: And of course, we will also be touching on the hot topic of the day, which is short term reox in Ethereum. So, without further ado, welcome mev, senpai.
00:00:58.930 - 00:01:05.794, Speaker B: Thank you so much, ASU I'm really excited to be here and talk about med, searching and all the related topics today.
00:01:05.912 - 00:01:14.062, Speaker A: Perfect. Me too. So let's start out with something general to have a more general audience.
00:01:14.062 - 00:01:24.982, Speaker A: So can you describe for us what actors exist in the mev game today and what is the role of you, the searcher in all of that?
00:01:25.116 - 00:01:43.742, Speaker B: So I think that the actors that exist in the mev game can be broken down into miners, searchers users, DApps, and then maybe protocol. Protocol developers. So miners are the block producers of Ethereum today.
00:01:43.742 - 00:01:59.140, Speaker B: And note that in other systems, other parties like Validators in ETH two produce blocks. They are the party that actually sequence transactions. And we can talk about what that means for their role within the mev game.
00:01:59.140 - 00:02:23.740, Speaker B: Users are the end users of Ethereum. They are people who are doing things like taking out loans based off of their collateral in systems like Aave or Compound, or they're trading on decentralized exchanges. And the actions that they make inevitably emit some amount of value that can be captured by placing transactions before or after otherwise doing things with them.
00:02:23.740 - 00:02:46.286, Speaker B: DApps create some of these mev games by their design, the way that they work, and the incentives that they try to create for their users and for searchers. And then we have searchers and protocol developers. I think protocol developers are an interesting one because they create sort of the base rules of these games.
00:02:46.286 - 00:03:14.700, Speaker B: They create the structure and the abilities for parties like block producers to take certain actions, which is kind of interesting. We can talk about the different designs that there are for protocols, if you'd like. And lastly, there are searchers who are parties that express transaction ordering preferences in order to capture some value.
00:03:14.700 - 00:03:40.862, Speaker B: So, for example, if I see that the price of an asset is low on Uniswap and high on SushiSwap, I'll buy the asset at the low price on Uniswap and sell it at a high price on SushiSwap. And I'll express this preference to a miner using these new mev extraction systems like Flashbots in order to capture the arbitrage profits from that which is mev.
00:03:41.006 - 00:03:56.242, Speaker A: Okay, so we know that DeFi activities of depths and users create these potential arbitrage or profit opportunities. But how do you go about searching for them and then getting them included in a block?
00:03:56.386 - 00:04:29.150, Speaker B: I think the first step is looking for opportunities where value could be captured from transaction ordering on chain. So examining new types of decentralized exchanges or new DeFi protocols and seeing whether there are some incentives that are created. Decentralized exchanges work because there's an incentive to bring prices in line with other markets, like other decentralized exchanges or centralized exchanges, which mean that if I can place a transaction in the right place, then I can make some profit.
00:04:29.150 - 00:04:50.998, Speaker B: So first I need to have an idea of where I can capture some value. Second, I need to set up some monitoring infrastructure to pull the data that I need out of the chain. So running on this decentralized exchange example, I need to know the prices of assets across a bunch of different decentralized exchanges.
00:04:50.998 - 00:05:28.050, Speaker B: And I need to, based off of the logic of those DApps, which is different from different decentralized exchanges, be able to understand what is the optimal trade that I can make to capture the most amount of value. After I have my monitoring, I've parse that through with some logic and I have identified a trade. Then I can put that in what is called a bundle and send it on to miners through networks like Flashbots where I participate in an auction to have my transaction capturing some value included on chain.
00:05:28.050 - 00:05:34.600, Speaker B: And I think that a view of the whole process. Is there anything in there you want to dig into?
00:05:35.450 - 00:06:00.270, Speaker A: No, that pretty much summarizes it well for me. So for anyone who has listened to our first episode in Mev, I think it was called Gas Wars, like some 20 episodes ago and very early one there, we were still talking about the PGAs priority gas auctions that were happening in the Mempool. So is a searcher basically the same as someone who would play these games before in the public mempool?
00:06:01.250 - 00:06:17.422, Speaker B: I think so. I think searcher is just this general term for people who find mev on chain and they capture it in different ways. I specifically use Flashbots or other types of relays like Flashbots in order to capture mev.
00:06:17.422 - 00:06:36.060, Speaker B: And so I'm not playing the PGA game, which is a very specific one. And in particular, the skills that the PGA game requires are very different than the skills that participating in Flashbots requires. But I think searcher is the broad umbrella term and then there's sort of subsets within that.
00:06:36.430 - 00:06:47.440, Speaker A: Can you say something about the motivation to create Flashbots and try to move the PGA game away from the public mempool to a private one?
00:06:50.980 - 00:07:17.370, Speaker B: I think that PGA bots have a lot of negative externalities that are incurred on users. So working up this decentralized exchange example, if there's an arbitrage opportunity on chain that is large, let's just say $100,000. There are going to be a lot of people who have seen that and there are going to be a lot of people competing for it, but only one bot at the end of the day can capture that opportunity.
00:07:17.370 - 00:07:51.824, Speaker B: You may have dozens of bots that are sending transactions and trying to capture that opportunity, but only one of them gets it. And every other bot will land on chain and have a failure or cancellation or their smart contract logitech will just check if the opportunity exists and it'll cancel if not. And all of these failures, these cancellations take up valuable block space, which ends up pushing up gas prices for everyone else because there's a limited amount of block space and these negative externalities are incurred by everyone in the network.
00:07:51.824 - 00:08:39.540, Speaker B: But the positive benefits of mev are just captured by the small group of people who are able to participate in winning these auctions. And moreover, the kind of things that you needed to be good at to participate in a PGA battle are things like having the best and lowest latency view of the mempool as opposed to writing the most gas efficient contracts. And Flashpots was created to move the kind of dimensions of competition from these PGA battles, having the best view of the mempool to things like gas efficiency, as well as reducing all the negative externalities, like the failures, cancellations, and these checks that don't really provide anything.
00:08:39.540 - 00:08:57.560, Speaker B: And so in the Flashbot system, only the winner of the auction, only the bot that is actually going to land on Chain and capture that arbitrage opportunity lands, and all of the cancellations and failures stay off chain. So there's all of a sudden.
00:08:59.820 - 00:09:00.136, Speaker A: All.
00:09:00.158 - 00:09:28.544, Speaker B: This extra block space that other people can now use and in aggregate, we should see lower gas prices because of that. And the last thing that I would note is while PGA bots were kind of the dominant form in the late part of last year, there were these sort of private connections happening with miners. And increasingly mev extraction was becoming something that was permissioned and opaque.
00:09:28.544 - 00:10:04.368, Speaker B: And it definitely could have gone down that road where people like me wouldn't have been able to participate in mev extraction because it just would have been an individual bot that had a connection with a miner or maybe like a Quant firm or someone on Wall Street that was eating up all the mev. And no one else had the opportunity to because they had a proprietary deal with a miner in a closed system. And so Flashbots is extremely useful because it has made something like mev extraction open and permissionless and not devolved into this closed system that I think there were signs that were happening.
00:10:04.368 - 00:10:23.300, Speaker B: So to sum that up, I think Flashbots turned the competition from having a view of the mempool to instead operating on gas efficiency because that's how you land on chain in Flashbots. And it turned mev from something that could have been closed and permissioned to open and permissionless for people like me. Right.
00:10:23.370 - 00:10:38.730, Speaker A: And maybe to even expand on that a little bit. When mev is closed and permissioned, then it means that the miners who are better at extracting it would basically crowd out the miners who are not. Right.
00:10:38.730 - 00:10:59.628, Speaker A: It would basically change the civil resistance mechanism or the game to elect the next leader in the consensus mechanism from something like proof of work to something like proof of mev extraction. This can be okay, right. But it's not the intended design of ethereum.
00:10:59.628 - 00:11:08.310, Speaker A: And so you could say that something like Flashbots returns or protects basically the proof of work consensus mechanism itself.
00:11:10.040 - 00:11:26.952, Speaker B: I agree, and I think that's an important point that is lost in our conversations about Flashbots and Mev extraction. It was not a foregone conclusion that a network like this existed. And people like you and I, I don't know if you search, but you certainly could can participate in these things.
00:11:26.952 - 00:11:40.940, Speaker B: I think that's pretty amazing. And the alternative would be a much more centralized network that I don't think we really understand the full consequences of proof of mev extraction, but I don't think it would be aligned with cryptocurrency.
00:11:42.400 - 00:11:52.544, Speaker A: So how did you get to searching? So I'm mostly curious. You talked a bit about your process. How do you identify mev opportunities? But I'm curious to learn a bit more about that.
00:11:52.544 - 00:12:11.450, Speaker A: So what knowledge or skills make this possible for you? Maybe can you walk us through one particular way of using them all the way from having a particular skill set to landing a transaction on chain or a bundle on chain, getting paid for it?
00:12:13.900 - 00:12:44.628, Speaker B: So I think the first place to begin is you need a knowledge of DeFi and ethereum broadly, how it works, how to get information off of it, how to send transactions, and sort of the structure of transactions as well. You need to be fairly technical, I think, to do some things. It's actually not necessary to understand something like the EVM in a deep way.
00:12:44.628 - 00:13:07.160, Speaker B: But you do need some base technical knowledge. And yeah, I think the skills are monitoring. I think you need some sort of execution, maybe even some knowledge of algorithms and then the ability to send transactions or like the very concrete technical skills.
00:13:07.160 - 00:13:11.244, Speaker B: Let me redo that answer.
00:13:11.362 - 00:13:13.756, Speaker A: I think the whole one. Okay.
00:13:13.858 - 00:13:28.220, Speaker B: Yeah. So I think the skills you need at the very base are a knowledge of ethereum and DeFi. And then I think you need to be able to pull data off of the Ethereum chain.
00:13:28.220 - 00:13:49.780, Speaker B: You need to be able to parse it in some sort of system according to the logic of your strategy, and you need to be able to send transactions. There are a lot of popular libraries that can help all of these things. So you probably need to know specifically node JS, Python, Rust, or go in addition to that knowledge of ethereum.
00:13:49.780 - 00:14:10.540, Speaker B: So I think you need to be fairly technical but it's definitely not an extreme level of technical granularity. As for how I personally got into searching, I am a tinkerer at heart. Somebody that is super curious and loves learning and as the name MEB in turn would suggest.
00:14:10.540 - 00:14:41.210, Speaker B: And last year I was just tinkering with DeFi as it was coming out, writing my own smart contracts and playing with it. And I began to realize the kind of opportunities to capture value in these systems. And so just as a natural consequence of me playing with these things either locally or on the main net, I started to build arbitrage bots and that then became a game that I wanted to understand and play at as well.
00:14:41.210 - 00:14:44.264, Speaker B: And like a year later here we are.
00:14:44.302 - 00:14:52.236, Speaker A: Now, I have to ask this but since you changed your name to mev sent by from the mev intern, does that mean you have a student now?
00:14:52.338 - 00:15:15.608, Speaker B: I think that was in part an inside joke on Twitter where I was posting a lot of content that was interesting and revealed pretty specialized knowledge of mev and people kept on messaging me that I had graduated, I wasn't an intern, that I was ten, Pi and the master. Now you are right. I've had people reach out and ask to be students or interns.
00:15:15.608 - 00:15:20.100, Speaker B: I haven't taken on one yet but I may take on my own intern.
00:15:20.250 - 00:15:21.924, Speaker A: Interesting. Interesting. Yeah.
00:15:21.924 - 00:15:28.950, Speaker A: So the student becomes the master and takes on their own student know the circle of life continues. Yeah.
00:15:30.760 - 00:15:34.952, Speaker B: So maybe it'll be you hasu do you want to be my Mev intern?
00:15:35.086 - 00:15:56.844, Speaker A: It's very tempting, not going to lie. I may not be technical enough, that could be a hindrance but other than that moving on in the text here. So we've talked about how you identify mev opportunities and you touched on some different ways that mev can be created.
00:15:56.844 - 00:16:07.380, Speaker A: For example, in decentralized exchanges, what categories of mev exist in general if you had to classify them into broad categories?
00:16:08.360 - 00:16:26.072, Speaker B: I think broadly there are three big categories of mev. I almost feel like these are more strategies rather than categories with mev. But if I had to give three categories I'd say Arbitrage, liquidations and sandwiches are the big three.
00:16:26.072 - 00:16:52.960, Speaker B: That's where the majority of mev that you see going through flashbots and on chain comes from. And then there is an extremely long long tail of other mev strategies that don't really fit very well into those three categories and like I think are oftentimes very specific to a protocol or they kind of resist naming in any broad categorization.
00:16:53.620 - 00:16:57.332, Speaker A: And which of the four are you specialized in?
00:16:57.466 - 00:17:15.800, Speaker B: I specialize in Arbitrage so I do a bunch of back running as well as top of the block that's some jargon people won't know. I specialize in Arbitrage as well as the long tail. I do a bunch of weird kind of mev.
00:17:17.180 - 00:17:38.720, Speaker A: I've talked to a couple of searchers off the cuff and none of them have admitted to being specialized in sandwiches. So is that some kind of you'd rather not talk about it because it feels more extractive than the other tools which purely feel beneficial to the user or are they just not that public facing?
00:17:40.740 - 00:17:57.360, Speaker B: I think some of them, if you look, are public facing. I know some searchers on Twitter who have just sandwich icon or sandwich emojis in their location, for example, and people will talk about it onpot's discord, but it's definitely negative. Like, I don't even think it's zero sum.
00:17:57.360 - 00:18:11.640, Speaker B: It's extractive and negative some and people look on it pretty poorly. I think people want sandwiching to go away and so it's not really a high status thing to say that you do and I'm happy to talk about it. I wrote a sandwich bot.
00:18:11.640 - 00:18:29.424, Speaker B: I don't run it, but I wrote it just to understand how they work and maybe look for opportunities of mev that are created by sandwich bots themselves. But I made the conscious decision that I wanted to do things that I felt like were positive some and value creating. So I don't run a sandwich bot or anything like that.
00:18:29.622 - 00:18:44.292, Speaker A: Makes sense. Yeah. I mean, one could argue that even sandwich attacks, at least in the bundle market, are value creating because they protect the decentralization of ethereum and the properties of proof of work.
00:18:44.292 - 00:18:57.690, Speaker A: But I get it. Yeah. So how efficient is the bundle market across these different categories? How many searchers compete in them and make like non zero amounts of money?
00:19:00.080 - 00:19:24.144, Speaker B: Less than you might expect, I think. So there are many people who try to be searchers and who may land a bundle every once in a while, but I think that it has become very quickly an extremely competitive game within those three big categories arbitrage, liquidations and sandwiches. And it's very top heavy as well.
00:19:24.144 - 00:20:02.480, Speaker B: So I'd say that there are probably ten teams that take something like 80% to 90% of the mev within those categories, at least on flash bots. And I think it is pretty efficient as well. If you look, the average amount of gas that's used to capture an Arbitrage opportunity or a sandwich is going down over time, which implies that the structure of the market that Flashbots is seeking to create is working and these mev extraction opportunities are becoming, or rather mev extraction overall is becoming more efficient.
00:20:02.820 - 00:20:39.950, Speaker A: Okay, that's one way to sort of define efficiency. What is the on chain footprint of mev extraction? And I think that's a very important one, but another one would be how much of the mev created goes to miners versus searchers. And one reason I'm asking this is because in the Flashbots discord, we have seen some searchers publicly pressure other searchers not to bid more than, say, 70% of the opportunity, even though in a competitive market, they would bid themselves up to like, whatever, 90, 95%.
00:20:39.950 - 00:20:56.400, Speaker A: So what do you think about that? How common is this cartelization between searchers who enter a cartel and basically say, we won't bid any higher and so take away the MUV from the miner?
00:20:56.820 - 00:21:16.624, Speaker B: It's a complicated topic. So speaking as a searcher, as someone that actually participates in the arbitrage market, I spend a lot of time and have put a lot of effort into these systems. And it sucks seeing that all this work that I've gone and done ends up getting paid to big miners.
00:21:16.624 - 00:21:22.488, Speaker B: And there's this emotional reaction. You're like, well, I did all this work. I found this arbitrage, I created this complex system.
00:21:22.488 - 00:21:57.060, Speaker B: Why is Etherminer spark pool getting all of this? But intuitively, I realized that the rules of the game are such that miners are in the privileged position to extract this value themselves if they would like. And those are the rules of the game that we are playing. And I think most mev in those big three categories are like what I just described, where 80% to 90% of profits, sometimes even 95% plus, are paid to miners.
00:21:57.060 - 00:22:18.890, Speaker B: The places where cartelization happens are more towards the frontier. So newer types of strategies where less people are participating in and where it's easier to coordinate those groups. So in particular, a lot of cartelization started around Uniswap V Three.
00:22:18.890 - 00:22:35.228, Speaker B: It's pretty easy to get data from Uniswap V Two or its forks reason about it, arbitrage it. But V Three has a much higher barrier to entry. It's just more difficult to reason about as well as deal with that data.
00:22:35.228 - 00:22:55.540, Speaker B: And so for a while, there was only like one or two bots on B Three and they found each other on the discord. And so you could coordinate bids, not bid up to like 100% on them. Now there's a little bit more, but it's still low enough on those particular sets of strategies whereby everybody can actually find each other in a public discord and coordinate their bids.
00:22:55.540 - 00:23:17.580, Speaker B: In the long term, I don't think that this is something sustainable. And I'm almost leaning towards we need to condemn this. And I'm a searcher too, because I think it could lead to miners becoming more aggressive and extracting some of this mud on their own permissioned and closed systems.
00:23:17.580 - 00:23:30.416, Speaker B: And it could lead to divergences in the amount of mev that the miner is able to get per average. Block so in particular, there are miners that have searchers. They're pretty public about it.
00:23:30.416 - 00:23:56.164, Speaker B: You can find their addresses and they participate in some of these strategies where profits are cartelized by searchers. If you are a miner and you are arbitraging Uniswap V Three, you will make 100% of mev for that. Block but your other miners who don't have searchers that are playing on Uniswap V, who don't have searchers that are arbitraging Uniswap V Three are going to get whatever the cartel is playing.
00:23:56.164 - 00:24:08.300, Speaker B: And so there's inherently going to be this delta between miners with searchers and miners who don't have searchers. Lastly, I think it might just piss the miners off and maybe get them to do something more aggressive.
00:24:09.120 - 00:24:19.280, Speaker A: So has the Flashbots done anything to curtail cartelization? I mean, it's happening, like, in broad daylight inside their own discord server.
00:24:20.100 - 00:24:29.856, Speaker B: I don't think so. I don't think they've ever commented on this either in the discord or in any other forms. So they're pretty hands off in their discord.
00:24:29.856 - 00:24:32.500, Speaker B: I don't think I've ever actually seen any moderation.
00:24:33.160 - 00:24:56.030, Speaker A: Okay, so I now have some questions, professor. How specialized are the searchers? I'm kind of trying to go so where do the edges come from, how sustainable they are? One thing that you already mentioned is the use of gas tokens. So could you give us a quick rundown of what a gas token is and why searchers use it?
00:24:56.400 - 00:25:37.352, Speaker B: Yeah, so I think that searchers are pretty specialized and in particular because of the structure of the market where searchers are competing not on having the best view of the mempool, but instead on having the most gas efficient mev extraction. You need to get pretty in depth in each of these three big categories liquidations, arbitrage or sandwiches, and understand them very well and be able to really make your mev extraction as gas efficient as possible. So this is one dimension, one piece of edge that you could have.
00:25:37.352 - 00:26:24.500, Speaker B: And like you mentioned, sort of table stakes within this are gas tokens, which are these tokens that you can mint when gas prices are low and then redeem when gas prices are high in order to push down your total gas used and to give your listeners a little bit more insight into that. On ethereum, there's a mechanism whereby if you destroy or delete some on chain data, you get a refund in terms of gas. So when gas prices are low, people will mint and create some data on chain and then in their bundles, their mev extraction.
00:26:24.500 - 00:26:55.030, Speaker B: They will destroy this data that they've created when gas prices are low in order to get the refund of extra gas, which actually acts as a subtraction to the total amount of gas they're used in performing any transaction. The net effect is that you can reduce your gas used and push up your gas price and be more competitive in the Flashpots gas auction. And there are a bunch of other things that people do.
00:26:55.030 - 00:27:17.380, Speaker B: So it takes less gas, actually, if you have a bunch of zeros in your address. So people will create hundreds of thousands of millions of private keys just searching for an address that is zero x like 16 times in a row. That's marginally more gas efficient.
00:27:17.540 - 00:27:19.240, Speaker A: Why is it more gas efficient?
00:27:19.840 - 00:27:37.232, Speaker B: The reason why is that it takes up less storage, as I understand it, to store that's empty as opposed to zero one, you need to actually store some bytes on chain. I think that's like the high level description. Does that make sense?
00:27:37.286 - 00:27:38.930, Speaker A: Yeah. Fascinating. Yeah.
00:27:39.620 - 00:27:57.720, Speaker B: You can do all sorts of these games. One that increasingly we see is Solidity has a bunch of guardrails on it. And if you're writing in Solidity, it then gets compiled into lower level languages like assembly.
00:27:57.720 - 00:28:13.340, Speaker B: But it uses these guardrails by default. And so if you know the EVM very well, you can just forego Solidity altogether and write straight into low level languages. You don't have any of the Guardrails and the Guardrails take up gas.
00:28:13.340 - 00:28:23.808, Speaker B: And so searchers increasingly are writing in the lowest level language as possible, like assembly for the most gas efficiency. Just not very many people can do that. Right.
00:28:23.974 - 00:28:37.940, Speaker A: Interesting. Is this something that you think will replace assembly? Sorry, will replace Solidity in general in the sense that it will be used even by depth developers to make their contracts more gas efficient?
00:28:39.800 - 00:29:12.140, Speaker B: I would expect not in general by Depth developers because it's so difficult to read and reason about unless you have really specific knowledge. And there's a much higher barrier to entry with reading assembly than reading Solidity. And if you think it's important to be able to go and look at a contract on Etherscan and reason about it, check it, audit it, then I think the conclusion is that you can't do all of these things in assembly.
00:29:12.140 - 00:29:29.510, Speaker B: But I think it will be table stakes in this weird future financial system where mev extraction is hyper efficient and you have professionalized funds doing it. It'll be table stakes that you know how to write assembly and get as close to the EVM as possible.
00:29:30.120 - 00:29:49.144, Speaker A: So we mentioned gas tokens, we mentioned space efficient address formats, we mentioned writing an assembly instead of Solidity without giving you too much away. Are there any other general edges that switchers can have that you can share?
00:29:49.342 - 00:30:07.632, Speaker B: Sure. Like I said, there is a huge long tail of mev extraction opportunities. All kinds of things that weren't made with mev in mind or DeFi protocols that may not on face value look as sexy because their TVLs are not as high on DeFi pulse or somewhere else like that.
00:30:07.632 - 00:30:22.772, Speaker B: Or you don't see the million dollar liquidations on those all the time. And so people just don't pay attention to them. And by finding these opportunities and capturing them, you may actually make more money than anyone is in competing in the big three.
00:30:22.772 - 00:30:27.780, Speaker B: So I think strategy is a huge source of underexplored edge and an example.
00:30:27.850 - 00:30:29.596, Speaker A: Of that could be liquidity.
00:30:29.648 - 00:30:29.816, Speaker B: Right.
00:30:29.838 - 00:30:37.850, Speaker A: Then you make a competitor that had some huge liquidations, but virtually no searchers were set up to find them.
00:30:38.380 - 00:30:43.692, Speaker B: Precisely. Yeah. And it was relatively new.
00:30:43.692 - 00:30:59.490, Speaker B: And so searchers also didn't have the opportunity to battle test their bots. But if you had spent a lot of time, like creating testnets, testing your system, making sure that it worked. You could have made a ton of money back in May, but no searchers had.
00:30:59.490 - 00:31:20.650, Speaker B: So there was a ton of mev there that just no one was watching and in a position to capture the strategy I think is super important. I think the other dimensions are latency matters a little bit. It's definitely not as much in PGAs, but there are gains to be made by being really fast.
00:31:20.650 - 00:32:00.656, Speaker B: I think we're increasingly going to see things like arbitrage bots that take risk just sort of non intuitive, from saying they're arbitrage bots, but intuitively. If you could close an arbitrage and say ETH to die to ETH in one transaction, it doesn't seem like this is optimal, because you might be able to go from ETH to Dai and then ten blocks later sell that die for even more ETH. But almost all searchers right now are not in the place to be able to take on that kind of risk.
00:32:00.656 - 00:32:18.330, Speaker B: And so I think you have a big competitive edge if you can. And lastly, I think having a view of the mempool that's better than your competitors could give you some kind of edge as well because you could spot some transactions and include them in your bundles that other people might not.
00:32:18.860 - 00:32:48.656, Speaker A: Okay, so the one about risk, let's unpack that a bit because I think it's quite interesting. So Ethereum has something that the traditional financial system has in some places, but mostly not right, which is atomic transactions and atomicity creates riskless arbitrage. But if you look in the regular financial system, most arbitrage that's performed is not actually riskless at all and that's why it's like fittingly called risk arbitrage.
00:32:48.656 - 00:33:25.600, Speaker A: And I would agree that there's a huge amount of risk arbitrage as well in DeFi, especially once we talk about arbitrage between DeFi and different off chain protocols like exchanges, for example, but also inside DeFi. Anything with regards to time, for example, right basis trade automatically is risk arbitrage, right, stuff like that. So yeah, I feel like that just not being willing to take these risks already leaves huge amount of money on the table.
00:33:27.220 - 00:33:53.176, Speaker B: I agree. But as somebody that will probably get competed out of the game when there are players that are able to take these risks, it kind of makes sense to me why people are not able or willing to take these risks. Like, I'm really good at tinkering with systems, pulling data out of them, doing some logic to find where the opportunities are and executing on them.
00:33:53.176 - 00:34:19.596, Speaker B: I'm not necessarily the best at managing a complex portfolio in a bunch of places and understanding my risk and being able to optimize my Max drawdown and when I'm selling what and where. I think that game is much closer to traditional finance. And it's not something that I or other searchers are necessarily that great at, which is a huge area for people who do know how to take risk.
00:34:19.596 - 00:34:34.500, Speaker B: To come in and dominate the Arbitrage space. And that's also why I'm focused on the long tail as opposed to Arbitrage because I don't expect atomic Arbitrage in the long term to be a sustainable searching strategy.
00:34:34.920 - 00:34:49.560, Speaker A: So basically you're saying that there's a huge incentive for trading firms to hire searchers. Same as you already know there's a big incentive for mining foods, for example, to hire searchers.
00:34:50.220 - 00:35:03.996, Speaker B: Yeah, I think so, and I think that that's already happening. I'm mev intern on Twitter and I get people in my DMs. The people that I talk to are also trying to get pushed by trading firms as well.
00:35:03.996 - 00:35:23.350, Speaker B: It's an interesting catch 22 because the best searchers right now are making so much money that they don't want to join trading firms and the people who do probably aren't the best searchers. But increasingly I think that these trading firms will get into the game and it'll make more sense for top structures to join those firms. Maybe.
00:35:23.350 - 00:35:26.428, Speaker B: I won't speculate on a timeline.
00:35:26.624 - 00:36:00.832, Speaker A: Okay, so let's talk about the sustainability of edges here for a moment because especially like you said, okay, some stuff about latency that's pretty proprietary. If you have a very strong connection and set up, then that's an advantage that probably you can retain for a while. But once we talk about sort of stuff like, okay, having a shorter address is better, using gas tokens correctly is better, and just knowing what protocols to look at is better.
00:36:00.832 - 00:36:11.670, Speaker A: But once you put such transactions on chain, other searchers are going to look at it, don't they immediately copy what you did?
00:36:12.760 - 00:36:50.652, Speaker B: So the interesting thing is that Flashbots have started with this goal of illuminating the dark forest and I think they've been pretty successful with that at least in the big three, because searchers to your point, will watch very closely what kind of transactions land on chain through Flashbots. And there's actually an API that anyone can listen to that Flashbots creates that will identify all the flashbots bundles for you to go and analyze. But if you don't send something through Flashbots, it's like looking for a needle in a haystack.
00:36:50.652 - 00:37:30.712, Speaker B: And there might be some kind of qualities that you could identify, like having zero gas price transactions or maybe some other weird things. But it is pretty difficult to identify a random new long tail mev opportunity kind of by definition that it's long tail and it's weird and you don't necessarily know what to look through if it's not being emitted by the Flashbots API. So there's like this catch 22 with Flashbots where I don't really want to the best kind of long tail mev that I have, I don't submit through Flashbots because I know it'll be put under the spotlight in their API.
00:37:30.776 - 00:37:39.250, Speaker A: Oh, wow, really? So you just get it mined regularly because it kind of blends in with the rest. Right? You want to maximize your anonymity set.
00:37:40.020 - 00:37:56.020, Speaker B: I do that and then in some cases, there are other ways. There are private relays that you can send your bundle to and have it mined by a miner and that doesn't always end up on Flashbots's API.
00:37:56.780 - 00:38:05.672, Speaker A: Interesting. I see. So for the next section, I think we needed a little bit more chemical knowledge of how Flashbots work.
00:38:05.672 - 00:38:21.100, Speaker A: So let's start by saying what is actually a bundle and what guarantees does it give to us? A search or other users who might submit their bundle via the flashboards relay.
00:38:23.060 - 00:38:51.012, Speaker B: So a bundle is a group of transactions that a searcher submits to a miner and that group of transactions can be my own as a searcher, but it could also be someone else's that I found in the pending mempool or some other source. We can talk about those other sources later. And a bundle has to be executed in the order that it's provided.
00:38:51.012 - 00:39:21.756, Speaker B: And so I can tell miners in a very granular way, I want my transaction to end, to be executed precisely behind someone else's. That gives me the ability to, in a granular way, do things like arbitrage a particular decentralized exchange in the wake of a large trade. So the first property of a bundle is this extremely granular way to express transaction ordering preferences.
00:39:21.756 - 00:39:41.400, Speaker B: And that enables a lot of new types of mev extraction. That is not possible when you don't have that level of granularity. And I think the second important property of a bundle is that all of it needs to be executed and included on chain or none of it is included on chain.
00:39:41.400 - 00:40:14.296, Speaker B: The third thing that I would note is that bundles are sent through the Flashbots relay and then to a miner and not through the public mempool. If it went through the public mempool, it could be seen by hungry sandwich bots, it could be seen by other people that would do malicious things. But since it goes through Flashbots to the miner or maybe through a different relay to the miner, there's less opportunity for malicious parties to do things with your bundle.
00:40:14.296 - 00:40:19.220, Speaker B: I think those are the three important properties of bundles.
00:40:19.560 - 00:40:30.168, Speaker A: So one, the targeting of transactions at precisely the right spot. Second, it's executed atomically. So either entirely or not at all.
00:40:30.168 - 00:40:39.480, Speaker A: Meaning also it cannot be unbundled. And the third being it's private. So the miner sees the bundle and the contents of it, but not other searchers.
00:40:40.620 - 00:40:52.744, Speaker B: Yes. And I feel like Georgia will yell at me if we don't caveat this with. It's not entirely private, it is direct to the miner in that it doesn't go to the public mempool.
00:40:52.744 - 00:41:05.920, Speaker B: But the miner and Flashbots both can see my bundle and the transactions in it. So it's not truly private, but it is direct to the miner and it's private from sandwich bots and other bots in the public mempool.
00:41:06.280 - 00:41:25.720, Speaker A: I see. So basically, this guarantee that a bundle executes atomically, it's not cryptographic or anything it's basically a social contract between the miners that participates in Flashbots and the Flashbots relay.
00:41:26.300 - 00:41:40.380, Speaker B: Yes, precisely. And I'm always mindful of this non cryptographic guarantee, this guarantee that's more based on social incentives and trust rather than cryptography.
00:41:41.520 - 00:41:51.120, Speaker A: What do you think would happen if Mina unbundled a Flashbots bundle and broke this social contract?
00:41:52.340 - 00:42:13.480, Speaker B: It's a good question. I don't know if it's happened, I guess I don't know unless it has happened to me how you would figure out whether that happened or not. I think only Flashbots would be able to say definitively or the searcher that it's happened to whether someone had unbundled a bundle.
00:42:13.480 - 00:42:42.348, Speaker B: But what I'm guessing would happen is we would hear some kind of summary of the evidence of what happened from the Flashbots team on their discords and Twitter and then nothing else would really happen. And in particular because Flashbots is not the only game in town. Like I was hinting before that I was submitting bundles to other places other than Flashbots.
00:42:42.348 - 00:43:09.800, Speaker B: I don't think that they actually have the power to take remediative action like removing a miner from the relay, because that's just going to force miners to look for other sources of private transaction flow and it could devolve into that permissioned enclosed system that we were talking about earlier. I'm not really sure what the team could do other than kind of naming and shaming the miner.
00:43:11.760 - 00:43:25.200, Speaker A: Yes, there are other relays, but they have the same problem, right? Their relays also use their usefulness when their miners start to unbundle. So doesn't every relay have the incentive to kick out miners to break the social contract?
00:43:26.420 - 00:43:44.576, Speaker B: You are right, every relay does. But what I would note is that some mev extraction strategies are at more risk of unbundling than others. So in particular, mev extraction strategies which have multiple transactions in their bundles are at risk of unbundling.
00:43:44.576 - 00:44:22.640, Speaker B: But there are a bunch of strategies which only have single transactions in them and they're not really susceptible to any kind of messing around by miners. And these parties that are not susceptible to unbundling will be very happy to go direct to the miner and send miners their bundles. But miners are extremely sensitive of searchers going direct to them because there is an opportunity for miners to be DDoSed by searchers who are sending them bundles.
00:44:22.640 - 00:44:44.104, Speaker B: And the reason for this is that it's not a guarantee that a miner gets paid for bundles that they accept. Oftentimes you're paying for your bundle through an internal smart contract transfer instead of gas price. And so because of this, a miner has to expend computational resources in order to find out whether a bundle is good or not.
00:44:44.104 - 00:45:12.172, Speaker B: And a malicious searcher could send you a bunch of bundles which are not good, don't pay the miner anything, and force them to expend a bunch of resources. So there's inherently a trust relationship that exists between miners and searchers. If they're sending directly to the searcher and only searchers which miners trust would be able to get the direct to minor kind of relationship with a minor.
00:45:12.172 - 00:45:38.928, Speaker B: And I worry that in a world where relays cut off miners from bundle flow, the system devolves to these high trust relationships between miners and searchers, and in particular only for searchers which are willing to send their bundles to miners who will be the ones that aren't at risk of unbundling. And then the miners maybe are the only ones that are able to extract things that are at risk of bundling.
00:45:39.124 - 00:45:45.848, Speaker A: Interesting. But doesn't Flashbots have the exact same DDoS problem in accepting untrusted searchers?
00:45:46.024 - 00:46:11.492, Speaker B: Flashbots does, and they do get Ddossed. Actually, if you're a searcher, you've noticed this over the past few weeks and it's not a problem now because they've implemented some measures that help with DDoSing, but it probably will be a problem again. So Flashbots is taking this DDoS problem instead of the miners and they will simulate every single bundle before sending it on to the miner to know whether that bundle is good or not.
00:46:11.492 - 00:46:14.868, Speaker B: And that's like the core role of the relay in the system today.
00:46:15.034 - 00:46:20.570, Speaker A: Interesting. So they are basically DDoS protection as a service for miners. That's interesting.
00:46:20.570 - 00:46:26.520, Speaker A: What measures did they integrate? I read about a reputation system for searchers.
00:46:27.580 - 00:46:52.620, Speaker B: So there's this reputation system for searchers that splits the relay into a high priority and a low priority queue. Essentially, if Flashbots has a record on chain and in their relay of you submitting high quality bundles on a regular basis, you're put into the high priority queue. And if they have no record, if you're a new searcher, then you're put into the low priority queue.
00:46:52.620 - 00:47:06.256, Speaker B: And so what we've seen is the DDoS that would previously cripple Flash bots are now just crippling the low priority queue and the high priority queue gets to submit their bundles on freely.
00:47:06.448 - 00:47:11.850, Speaker A: So the queue is just a different endpoint. If that gets DDoS, it doesn't affect the other one.
00:47:12.380 - 00:47:26.728, Speaker B: Actually, it's the same endpoint. I don't know how it works on the back end on their side, but they filter bundles by high priority or low priority depending on who sends them. So the DDoS will just go into low priority queue and then that becomes unusable.
00:47:26.728 - 00:47:36.448, Speaker B: But if you are a high priority searcher whose quality your stuff goes into the high priority queue where there's no DDoS landing, that makes sense.
00:47:36.614 - 00:48:02.330, Speaker A: You mentioned that flashboards, they simulate the block and they do this for a couple of reasons. Right? So how do they ensure that multiple bundles that are submitted because the searchers can't see what other search submit. Right? So how do we ensure that one bundle doesn't compete with another? Or that they don't compete to mutual exclusive bundles or even bundles that damage each other?
00:48:03.100 - 00:48:19.912, Speaker B: So this is actually both Flashbots and the miner. So it happens at the level of the client that miners are using to decide which transactions to include in their block. Specifically mev GEF.
00:48:19.912 - 00:48:45.684, Speaker B: If your listeners are interested in digging into the details, an Mev GEF will run a bunch of workers in parallel that are trying to make multiple bundle length blocks. So you have one worker that is trying to create a block with a single bundle. You have one worker that's trying to create a block with two bundles, a third, a three, all the way to N, however, and the worker is just.
00:48:45.722 - 00:48:48.330, Speaker A: One instance of the software running, basically.
00:48:49.340 - 00:49:01.484, Speaker B: Yes. So each of these workers is taking bundles and trying to add them on top of each other. Let me take a step back.
00:49:01.484 - 00:49:44.376, Speaker B: Actually, the first thing that happens is when a bundle is sent to a miner, it's simulated locally and you find out what the gas price of that bundle is. And then in these individual workers they will look at the simulated bundles and their gas price and take the top gas price bundle and place it within a block and say, okay, how much profit as a miner am I making if I mine a block with one bundle? Then on the second worker it'll look and say, okay, this is the top bundle. I'm going to add the bundle that has the second highest gas price right below that and look and see how much profit am I making if I mine this.
00:49:44.376 - 00:50:07.250, Speaker B: And is it higher than just mining a single bundle together and then the third as well. And note that if two bundles conflict, then one of them is going to revert. It's either going to fail and have like a failed canceled transaction, or it's just not going to pay the minor to anything.
00:50:07.250 - 00:50:24.884, Speaker B: And so the protection against conflicting bundles is that miners won't make profit from mining them and it'll send off an alert in the system if there's a failed transaction in this parallel worker kind of system that I just laid out. Did that make sense?
00:50:25.002 - 00:51:02.320, Speaker A: Yes, it did. Why did flashboards start by creating these bundles in the first place? I always thought before flashboards was created that the end game would be that absolute like, block production or the game that miners play between Attestation and sequencing of transactions in a block becomes definitely outsourced. Like there will be division of labor between those two and the miners will focus entirely on the Attestation part.
00:51:02.320 - 00:51:21.050, Speaker A: And then you have a marketplace where they can choose the best block contents. And it always felt like to me that the way that it's done right now with the bundles is basically like a stopgap to the real solution, which is an actual block template market.
00:51:22.780 - 00:51:36.776, Speaker B: I think you're totally right. I think that it's the end state of the market or this block template block templates. And I think that there are many more things that you could do with full blocks if that were a possibility.
00:51:36.776 - 00:51:58.630, Speaker B: But I think there's two problems with that. The first is I don't think many searchers are actually sophisticated enough to create full blocks. Both oftentimes searchers will specialize in an individual category like arbitrage, liquidation or sandwiches, and they don't actually know that much about the others.
00:51:58.630 - 00:52:18.520, Speaker B: So I know something about a sandwich bot and how it operates, but I have no idea how the nuances or the most efficient sandwich bots operate, nor do I really know anything about liquidations or the other weird long tail stuff that's out there. Right. And I also don't have a great view of the mempool.
00:52:18.520 - 00:52:35.570, Speaker B: And miners like, that's their job to get transactions, so they have better views of the mempool, so they may be able to create better blocks than I for those reasons. So we just haven't developed the kind of sophistication that a block producer market needs in the market. And I think that'll happen over time.
00:52:35.570 - 00:52:56.390, Speaker B: And the second is I'm not sure the politics are actually palatable in proof of work. And in particular, block producers, a lot of them, having also been miners in Bitcoin, are used to being the party that creates blocks. And I don't think that they want to relinquish that kind of control.
00:52:56.390 - 00:53:03.604, Speaker B: That's my reading on the politics of it. But we have this opportunity to reset that in proof of stake.
00:53:03.652 - 00:53:12.296, Speaker A: Right, but you mean by miners, you mean mining pools. Right. Because miners neither in Bitcoin nor in Ethereum create their own block templates.
00:53:12.296 - 00:53:13.848, Speaker A: They get it handed from you're.
00:53:13.864 - 00:53:17.608, Speaker B: Right. I'm not being precise here, but I do mean mining pools.
00:53:17.704 - 00:53:32.850, Speaker A: Yeah. So we do have this division of labor, just to a smaller degree, where miners are already sort of separated into mining pools and the pool operator and the workers, basically.
00:53:33.860 - 00:53:46.496, Speaker B: Right. And I think to your point, the way that the market is moving is we're going to turn mining pools into the equivalent of miners today, where they won't know the contents of the blocks that they're mining.
00:53:46.688 - 00:53:52.840, Speaker A: Yeah. They are only then responsible for basically smoothing the payout curve.
00:53:54.140 - 00:54:17.132, Speaker B: Yeah. And I think to loop this back to the previous conversation with bundles and privacy. In an ideal block producer market, the job of the mining pool or whoever is producing a block will just be performing the necessary work to ensure that that block is like a valid block for the network and they won't actually see the contents of the block.
00:54:17.132 - 00:54:28.500, Speaker B: So it gives more guarantees to searchers that they actually have privacy, their bundles aren't going to be broken up, and I think that'll lead to a more efficient marketplace in the long term.
00:54:28.920 - 00:54:48.890, Speaker A: Yeah. So this is sort of the question how flashboards and other relays can actually create bundle atomicity and prevent miners from seeing the contents of the transaction. So are you following what plans exist in order to guarantee that?
00:54:49.600 - 00:55:18.260, Speaker B: I think we already talked about one, which is full block production in separations between block producers and mining pools or validators that's one. But I think long term you're going to want to have bundle atomicity at the protocol layer. Intuitively it doesn't really seem like there's any reason why we shouldn't be able to sequence transactions at the protocol layer.
00:55:18.260 - 00:55:20.932, Speaker B: Maybe there are some reasons why by.
00:55:20.986 - 00:55:42.764, Speaker A: Sequencing you mean my transaction gets sort of another validity condition, meaning it's only valid in position X of block Y? Yes, I think that would be extremely useful and pretty much solve a lot of mev issues that exist today.
00:55:42.962 - 00:56:06.710, Speaker B: Yeah, I agree. I think that there's a lot of room for new types of transactions at the protocol layer that we're sort of experimenting with with flashpots right now and just makes more sense to eventually upstream into the actual protocol itself. But I don't know of the concrete plans that exist to make this happen.
00:56:06.710 - 00:56:22.632, Speaker B: The one thing that I could point to is Vitalik wrote this post on using flashbots for account abstraction on the flashbots discord, which is kind of a related but separate thing and that's the only concrete thing that I know about.
00:56:22.686 - 00:56:48.610, Speaker A: That's actually my next topic that I want to talk about. But I have one more question in this section. So we have seen some instances of unbundling that caused a small ruckus in the flashboards searcher community and these were instances when sort of people inspected what actually happened.
00:56:48.610 - 00:57:25.500, Speaker A: The block that included the original bundle had become stale, meaning it was no longer part of the heaviest chain. It had become an uncle block and this allowed the network to see the transactions in the bundle. So do you think that miners have first of all, what do you think about this? And do you think miners have uncled blocks in the past as like a way of unbundling without angering flashboards?
00:57:27.840 - 00:57:43.724, Speaker B: That's a contentious question ASU, but I will do my best to answer. So I think this is fair game. As a searcher, I need to be mindful of the risk that I end up at an uncle.
00:57:43.724 - 00:57:55.620, Speaker B: It's like a normal operation within the network just because of how proof of work and propagation of locks work. Right. And so anybody that didn't know about this just wasn't paying attention.
00:57:55.620 - 00:58:25.970, Speaker B: And at this point you should put guards on your contract to make sure that you don't get wrecked. And moreover, I would point out that for single atomic transactions like Arbitrage, this isn't a very big deal because your Arbitrage transaction really can't get wrecked. There's not anything that at least I can think of where a miner would take your ARB, put it in the main chain other than just generalized front running it themselves.
00:58:25.970 - 00:58:40.150, Speaker B: But if you are a sandwich bot, there are many ways that you could lose money. The only parties that are at risk are the ones that could have their bundle unbundled like sandwich bots. Yes.
00:58:40.150 - 00:59:20.470, Speaker B: If I think that any miners have unquote locks in the past to unbundle? If you put a gun to my head and force me to answer, I would answer yes, actually. And I think it is under investigated as a topic and there's a lot of on chain analysis that you could do as to who is uncling high mev blocks and who is capturing them. I would guess that it has happened in the past where there's deliberate, like one block deep reorgs to uncle, a high mev block.
00:59:20.470 - 00:59:29.280, Speaker B: And I'm guessing if this has happened that there is evidence of it happening. But I want to be clear that this is an intuition and I don't actually have evidence of this happening.
00:59:29.890 - 01:00:01.960, Speaker A: Yeah, and flashboard says actually, I don't know if it was today or if it's launching somehow like next week or something, but they have put out or are about to put out a reorg monitor as part of their dashboard, which I think will help getting some more insight into this. You mentioned that as a searcher, you can protect against uncling by putting basically safeguards into your smart contract. Can you give an example of how that would work?
01:00:03.230 - 01:00:20.800, Speaker B: Yeah, it's like three words require block number, equals desired block. Well, three words if you count a whole variable. Definitely more than three words there when I actually said it, but maybe I'm demoted to mev intern again?
01:00:21.170 - 01:00:22.400, Speaker A: No, you're good.
01:00:22.930 - 01:00:46.422, Speaker B: Yeah, thanks. So I think one simple protection is that you can require that your transaction only pays the miner if it lands or only takes some action if it lands in a specific block. So if you get uncled, then the miner cannot bring it into the main chain because the block number has moved on.
01:00:46.422 - 01:01:13.886, Speaker B: Past that, I think the stronger protection actually and we'll talk about this later in the conversation around reorgs is requiring that the hash of the previous block is equal to some hash that you are observing when you're sending on your bundle. So I think require block hash equals desired block hash, something like that is the actual code.
01:01:13.988 - 01:01:18.670, Speaker A: Why would the hash of the previous block change if the next block gets uncled?
01:01:19.570 - 01:01:27.234, Speaker B: Well, if you're worried about more than just uncles, you're worried about deep reorgs, you want to make sure okay, yes, that makes sense.
01:01:27.352 - 01:01:31.990, Speaker A: It would definitely protect you against reorganization of the block before that.
01:01:32.140 - 01:01:32.838, Speaker B: Yes.
01:01:33.004 - 01:01:44.890, Speaker A: Okay. So as my listeners might know, I'm very interested in trading on decentralized exchanges. I'm also very interested in the design of decentralized exchanges.
01:01:44.890 - 01:02:19.454, Speaker A: And so let's talk for a while about trading and how that relates to transaction relays. And Flashbots, in the very beginning, we talked about some of the advantages of having a relay like flashboard that replaces the public mempool or acts as an amendment to the public mempool. And we talked about how it preserves ethereum's decentralization, how it reduces the negative externalities of PTAs.
01:02:19.454 - 01:02:35.258, Speaker A: But there's also one very big benefit that sort of nobody expected. All of a sudden it was there and it's incredibly useful and you already mentioned it as well. And it's account abstraction through the back door, basically.
01:02:35.258 - 01:02:48.220, Speaker A: Vitalik has written about this. So what is account abstraction, first of all? And second of all, how do alternate mempools or relays enable it?
01:02:49.090 - 01:03:13.218, Speaker B: So account abstraction, as I understand it, is like a very specific technical term and I don't know the very specific technical details. I know the high level, so please don't add me if I get the extremely specific technical thing wrong. But the high level is that you are able to make transactions from one wallet and pay for those transactions with another wallet.
01:03:13.218 - 01:04:15.082, Speaker B: And the way that this is enabled is that the Mev Geth client that miners Run and Flashbots has created and all these relays support allows you to pay for your transaction through a smart contract call, specifically block coinbase transfer, which just transfers some money from a wallet to the miner. And in evaluating whether to mine a bundle or not, the Mev Guest client will look at the total amount paid by the bundle through either gas price or block coinbase transfer divided by the total gas that is used and it actually doesn't discriminate inside of the bundle as to where that is coming from. You can have one transaction that is paying with a really high gas price or really high block coinbase transfer, and another transaction which doesn't pay anything at all.
01:04:15.082 - 01:04:41.780, Speaker B: And since Mev Guest looks at both of them together as a bundle and evaluates whether to include that or not, you can actually sponsor transactions with one transaction, sponsoring the other that actually doesn't pay anything at all. So that's the idea of account abstraction. It's like abstracting the account that you're sending transactions from or abstracting away who is paying for transactions themselves.
01:04:42.710 - 01:04:53.270, Speaker A: Yes, very good explanation. Thank you. So what are the benefits of using account abstraction as someone who trades on a decentralized exchange?
01:04:54.090 - 01:05:28.594, Speaker B: So as a person that trades on a decentralized exchange, not necessarily as a searcher actually, but it's just a user of a decentralized exchange, I can have some ERC, 20 tokens in a wallet with no ETH in that wallet and I can trade directly between those. So I can swap from USDC to die without having any ETH in my wallet, and I can pay for that swap from USDC to die with a different wallet. I think that's one really interesting thing.
01:05:28.594 - 01:05:58.538, Speaker B: Another thing is if you care about privacy, you can use systems like Tornado cash to deposit some ETH into a privacy system and then withdraw it on the other end and not have to have third parties sponsor or pay for your transactions or not need to have ETH in a wallet in order to execute some transaction. And I think that's like a very interesting okay, okay.
01:05:58.704 - 01:06:14.480, Speaker A: Yes. Especially the latter one I actually didn't know about, but I had two other things in mind as well. And I guess you're not an active trader, so you don't make much use of those, which makes sense.
01:06:15.250 - 01:06:17.754, Speaker B: I have a lot of volume on decentralized exchanges.
01:06:17.802 - 01:06:46.374, Speaker A: I can believe that. So yes, for me, the biggest one is basically if you use a bundle and you believe in if you submit your trade not into the public mempool, but into a private relay, then you also get the benefit of bundle atomicity. So you can submit a trade and not get Sandwich attacked unless the block gets uncled, at which point you get Sandwich attacked.
01:06:46.374 - 01:06:59.246, Speaker A: But basically it allows you complete freedom from Sandwich attacks, which to many traders is a big deal. This is one big benefit. And the second is and this sort of ties into the first.
01:06:59.246 - 01:07:34.700, Speaker A: So why do Sandwich techs happen in general? It's one, because trades have price impact, but second, because traders select a non zero amount of slippage tolerance. And they do this because the market moves in front of them, so the market fills other trades. And if they set zero slippage tolerance and the price moves against them, then their transaction fails and they still land on chain and pay the cancellation fee, basically.
01:07:34.700 - 01:08:03.838, Speaker A: So this makes setting a low slippage tolerance, especially for trades where the fee is like non negligible compared to the trade size, very unattractive. But if you have count abstraction and your transaction only pays a fee if the transaction succeeds, which you can guarantee in two ways. One, via using a smart contract and second, just by paying from the output of the pool.
01:08:03.838 - 01:08:16.210, Speaker A: So you give one token in, you get one token out, and you pay from the out token. Then this would also fail if the trade doesn't succeed. So you can guarantee that your trade only pays a transaction fee if the trade succeeds.
01:08:16.210 - 01:08:31.130, Speaker A: So those two, they completely revolutionize, in my opinion, trading on decentralized exchanges because they completely remove the ability to get frontrun or to have transactions fail.
01:08:33.230 - 01:08:38.780, Speaker B: I think those were excellent descriptions. You just asked me about account abstraction, not bundles in general.
01:08:41.070 - 01:08:48.114, Speaker A: Yes, that was my bet. I was targeting the use of would.
01:08:48.152 - 01:08:50.494, Speaker B: Relays as a trader.
01:08:50.542 - 01:09:04.754, Speaker A: Yes, I guess one of those benefits has to do with the quant abstraction. If the uptrend section can't fail, yes, but yes, the bundling benefit purely comes from what? Social contract between the relayer and the miner?
01:09:04.882 - 01:09:05.462, Speaker B: Yes.
01:09:05.596 - 01:09:19.110, Speaker A: So as someone who actively watches many different relays, how many people actually use the benefits that we just discussed and submit their Dex chits through private relays?
01:09:19.270 - 01:09:35.214, Speaker B: I'd say it's on the order of hundreds of transactions a day and millions of volume. So nontrivial amounts, but it's not the majority of market share of Dex volume or something like that.
01:09:35.412 - 01:09:43.634, Speaker A: Okay, but 100 transactions a day is more than I was actually expecting. So that's pretty cool to see that it's catching on and.
01:09:43.832 - 01:10:12.362, Speaker B: Sushi, I think just integrated archerswap and they call it the Mev Protection service or something like that, natively on their interface. So a user can go to the settings, I think, and then click archerswap Mev protection and it'll send through the archerswap relay which also sends to Flashbots as well. And this is actually a great point.
01:10:12.362 - 01:10:35.662, Speaker B: I want to pressure all wallets out there to support Flashbots bundles because technically it's not easily possible to do in MetaMask today. And I think they could absolutely change the way that you sign transactions to allow users to more easily send transactions directly to miners. So this is my personal vendetta wallets.
01:10:35.662 - 01:10:44.006, Speaker B: Get on your game, change the way that transactions are signed and support Flashbots bundles so more people can get Nd protection in this way.
01:10:44.188 - 01:11:13.680, Speaker A: Yes, 100% signed from me as well. So anybody who has used something like Archer Swap maybe remembers scary, scary message that you get when you try to sign this in MetaMask where it says if you sign this transaction, you have to trust basically the application because it could steal all of your tokens and it's just scary as hell. So it would be nice if you could get some protection against that.
01:11:14.130 - 01:11:23.780, Speaker B: Yeah, and I think there's like a lot of things that wallets could do and they just don't seem to care enough to go and do them. So I think we should put more pressure on Wallets to do that.
01:11:25.510 - 01:11:40.214, Speaker A: Yeah. Dex trades, they create a lot of mev. Clearly they create back running opportunities if someone trades on one exchange and moves the price on one exchange but not another.
01:11:40.214 - 01:12:04.670, Speaker A: But sandwich attacks are clearly bigger risk. And recently we have seen in the DeFi trading space two forms of transactions catch on that to my knowledge don't leak any mev, namely batched auctions and more importantly even RFQ. So a request for flow transactions.
01:12:04.670 - 01:12:18.420, Speaker A: As someone who looks at the Mempool all the time and does this arbitrage, can you confirm that this is really true, that these transactions create no mev? And if yes, why is that the case?
01:12:19.990 - 01:12:47.566, Speaker B: It is an interesting question. What I will say is that I have found no way to make mev from these at least the same ways that you can with AMM. So I haven't seen any way that you could game a batch to auction and like front run users or make RFQ orders have worse execution than traders expect.
01:12:47.566 - 01:13:18.242, Speaker B: So in this way I think that they don't leak any at least in the same way as AMMS. You do see top bots on Flash bots, in particular, the top bot Zero XA 57 you can find on chain pretty easily by going to ether scans, gas guzzlers, they're like in the top ten. Oftentimes they will be interacting and taking things from Zero X to get better execution, I presume.
01:13:18.242 - 01:13:39.040, Speaker B: So there's probably some mev there. Maybe if you're making really large trades, it makes sense to fill part of the trade on zero X and the RFQ system that they have. But I don't think that it's Mev that creates user harms in the same way that Front running and AMM does.
01:13:39.040 - 01:14:08.454, Speaker B: And specifically on batched auctions, I think it really depends on the implementation. And you may have systems where the incentives break down if there are off chain actors that are facilitating these bashed auctions. And to give an example, I think the way that Cowswap works is through these solvers who are running off chain logic in order to give users the best execution price.
01:14:08.454 - 01:14:50.500, Speaker B: And I think that is pushing mev to the solvers and it becomes like solver extractable value and certainly they don't want to. The whole premise of Cowswap is giving users fair execution price. Right, but what happens in the Edge case where sue tries to trade a billion dollars through Cowswap and maybe there are some incentives for solvers to screw with Sue's order in a way that it isn't for the median trade? And how does Cowswap prevent solvers from extracting value from its users? So I think mev still exists in that system.
01:14:50.500 - 01:15:08.090, Speaker B: It's better and I think it's able to ameliorate user harms when compared to AMMS. But it certainly does still exist and I suspect that we haven't really found systems that don't break down at the edges.
01:15:08.990 - 01:15:20.894, Speaker A: Yeah, great answer. I think Cowswap is a good example. Chainlink's Fair sequencing service might be another and they're actually the exact same thing.
01:15:20.894 - 01:15:37.810, Speaker A: Right? Cowswap is a fair sequencing service and Chainlink is an off chain oracle or off chain sequencer. It's basically the exact same thing. And you pass on, I think, the mev to the server and just hope different.
01:15:37.810 - 01:15:51.026, Speaker A: They play according to different rules than the searchers miners would. And that's how you sort of try to minimize the mev. But yeah, it has its own trust assumptions for yep, yep, yep.
01:15:51.218 - 01:16:10.794, Speaker B: I saw Phil on Twitter once. Phil who's like the godfather of mev for your listeners who don't know Phil, Diane, I think is how you pronounce his name who created mev. And he commented that all these systems are just creating protocols that negotiate the terms on which mev can be extracted.
01:16:10.794 - 01:16:25.166, Speaker B: And I thought that was a good framing of it. You're never completely removing mev, you're just changing the terms on which it could be extracted. Maybe easier or harder to do in some systems.
01:16:25.278 - 01:16:58.590, Speaker A: That's interesting. We will come back to that quote in like five minutes, but before that so sandwich attacks, they were very prevalent in Unisop Two, but now Unisop Three has launched and it has affected the ability to perform sandwich attacks on traders. Can you talk about in what sense it has become harder on Uniswap V Three to sandwich someone even when they're not using a private relay?
01:16:59.490 - 01:17:23.522, Speaker B: The big innovation for Uniswap V Three was to allow liquidity providers to concentrate their liquidity within certain price ranges. And this makes it much more capital efficient and gives traders much deeper liquidity within those price ranges. So as a result, users can set tighter slippage and they have less price impact on their trades.
01:17:23.522 - 01:17:48.746, Speaker B: And that gives less room for sandwich bots to front run them and push them to their slippage limits and extract value from them. Moreover, on these really large pairs, it can take an extreme amount of money to move the price. And that means there's this higher upfront capital cost to run a sandwich bot and that actually just prices out a bunch of bots.
01:17:48.746 - 01:18:32.300, Speaker B: So you need like $30 million to significantly move the e USDC pair on uniswap V three. And as we were talking earlier, there's this inherent risk to being unbundled in the Flashbot system where a miner may be able to take one part of your bundle, remove it, do something with it, and sandwich bots are at risk of this and they're also at risk of being wrecked like in the Salmonella attacks. And so sandwich bots actually don't want to put up a high amount of capital because they're worried about losing it all or like being unbundled and being stuck holding $30 million of USDC when they don't want to.
01:18:32.300 - 01:19:10.054, Speaker B: So just this amount of capital that you need prices out a bunch of people and the amount of risk that it takes with that amount of capital, prices out a bunch of people as well. And then lastly, I ended up not implementing V Three in my Arbitrage bots because it's much more difficult to reason about and it's not something that I think hobbyists can easily engage with. And I know a bunch of other sandwich bots that well, I don't run a sandwich bot, but I know a bunch of sandwich bots didn't end up upgrading and it took like a month and a half for me to see the first sandwich bot come on.
01:19:10.054 - 01:19:24.458, Speaker B: So I think just the difficulty of engaging with V Three has led to less sandwiching in addition to the lower price impact that users are making and the upfront capital costs that it takes to front run on V three.
01:19:24.624 - 01:19:39.220, Speaker A: You mentioned something interesting that I kind of forgot to ask about in the very first part. So as a searcher, where do you get your capital from? Like you mentioned, some have inventory. But what about the use of Flash loans, for example?
01:19:41.430 - 01:19:48.414, Speaker B: I think almost all top searchers have inventory. Actually, I'll make that stronger. All top searchers have inventory.
01:19:48.414 - 01:19:58.518, Speaker B: And in particular, using Flash loans is very gas inefficient. It adds like 200,000 to 300,000 gas depending on the service you're using. Oh wow.
01:19:58.518 - 01:20:09.866, Speaker B: And it also adds a fee. So you're paying like 0.3%, I think, on Ave, if you are taking out a Flash loan from it.
01:20:09.866 - 01:20:16.270, Speaker B: I'm sorry, 0.3% for uniswap, for Flash loans, it's like 0.9% on Ave.
01:20:16.270 - 01:20:33.934, Speaker B: And so you're never going to win the gas price auction on Flashbots if you're adding 300,000 gas to your bundle. Right. So for that reason, a person that has capital is always going to be able to outcompete somebody that doesn't and uses loans.
01:20:34.062 - 01:20:42.258, Speaker A: This is something that I didn't know about. This is interesting. I had observed that not for every pool, of course there are Flash loans available.
01:20:42.258 - 01:21:14.622, Speaker A: But one pattern that when I first looked into sandwich attacks deeply, there was one pattern that I spotted. That is, if you trade in a smaller pool, some smaller coin, when you trade it from, let's say, eve into that coin, then the likelihood that you would get sandwiched was way higher than if you trade in the other direction. So if you trade it from the small coin into Eve, why? Because it would require the sandwich attacker to have inventory of that coin that you want to sell.
01:21:14.622 - 01:21:27.614, Speaker A: Right. Because they want to sell it in front of you and then buy it back cheaper. And if you sold the small coin, then they would needed to have inventory of the small coin, which they don't want to because it's more balance sheet risk.
01:21:27.614 - 01:21:29.618, Speaker A: Right. Interesting.
01:21:29.704 - 01:21:50.714, Speaker B: But there are samurai spots that get around that by using ETH to buy the coin that they don't have on a different exchange and then selling that on the exchange that you're trading on to create price impact before you trade. So it's way more complex to do that. But there are definitely Sandwich bots that get around that if they can.
01:21:50.714 - 01:21:52.794, Speaker B: If there are like two markets for something.
01:21:52.992 - 01:21:54.682, Speaker A: Yeah, makes sense. Makes sense.
01:21:54.816 - 01:22:18.690, Speaker B: I think you'll enjoy this. This is an alpha leak for all you traders out there. But one edge that some searchers have is keeping one token, one way of every single thing that they trade on or sandwich because it costs some gas to initialize the storage associated with an address of a token.
01:22:18.690 - 01:22:28.966, Speaker B: So if you are trading on something for the first time, it costs a little bit more gas than if you have that token in your wallet already.
01:22:29.148 - 01:22:32.950, Speaker A: And by trading on something, you mean the token contracts?
01:22:33.610 - 01:22:36.714, Speaker B: Yes, just interacting with it in general.
01:22:36.832 - 01:22:37.162, Speaker A: Interesting.
01:22:37.216 - 01:22:45.810, Speaker B: If you look at top bots, they'll have wallets that have like 1000 tokens and they only have one of each of those tokens.
01:22:45.910 - 01:22:48.494, Speaker A: Holy shit. I love it. I love it.
01:22:48.494 - 01:22:54.240, Speaker A: Yes. This is great. Very cool.
01:22:54.240 - 01:23:10.354, Speaker A: Okay. Instead of sort of sandwich taking users, we have seen that this has declined due to the rise of unisop three. And I mean more people using private relays as well.
01:23:10.354 - 01:23:19.110, Speaker A: So private relay transactions cannot get Sandwiched. Unisorp Three transactions, much more difficult to get Sandwiched. RFQ Transactions cannot get sandwiched.
01:23:19.110 - 01:23:31.980, Speaker A: But instead we have seen like a very new creative way of sandwich attack that doesn't focus on the trader, but instead focuses on the IP of an AMD. Can you talk about that?
01:23:33.790 - 01:23:41.374, Speaker B: Absolutely. So the top bot on ethereum and Flashbots. I'd say xeroxa 57.
01:23:41.374 - 01:24:11.666, Speaker B: They have started to sandwich by getting in front of trades and adding a ton of liquidity. Then the trade will be executed and then they'll immediately remove their liquidity from a pair. So it's like providing liquidity just in time and then immediately removing it as well so the user actually gets better execution than they would otherwise.
01:24:11.666 - 01:24:32.720, Speaker B: But it is this bot that is able to capture the fees that that user is creating and it's at the expense of liquidity providers that this bot is making mev as opposed to the users themselves, which is like a super interesting twist on the sandwiching game.
01:24:33.090 - 01:24:48.420, Speaker A: This may be a very obscure question, but if one searcher submits a sandwich attack around the user order and another submits an IP sandwich attack around the user's order and they both submit it to flashboards, then what happens?
01:24:49.510 - 01:25:09.450, Speaker B: That's a good question. You would need to look at the gas that is used by both bundles and then the amount that the bundles are willing to pay the miner and one of them will be more gas price efficient than the other. I'm not immediately sure which of those would be.
01:25:09.450 - 01:25:20.142, Speaker B: I'm guessing that the sandwich attack is going to be more gas efficient than the liquidity provider like sandwiching thing.
01:25:20.276 - 01:25:36.850, Speaker A: Could you in theory do both? I think yes, right. You would first do the AP sandwich attack and then sort of sandwich the other sandwich attack and you would get strictly twice the fees with no worse execution.
01:25:39.190 - 01:25:48.198, Speaker B: Yeah, I think you could do both. That intuitively makes sense. Or you could back run the trade and arbitrage it too.
01:25:48.198 - 01:26:18.740, Speaker B: But I think something that will not be immediately clear to your listeners is that this is effectively a limit order for the bot that is providing just in time liquidity. So they start with some composition of Ethereum and USDC as an example. When they provide liquidity and then given that their portfolio rebalances with the pending trade, they end up with a different composition of those two assets, ETH and USDC in My.
01:26:18.740 - 01:26:43.066, Speaker B: And so it's effectively making a trade on some small order usually. And in order for this to make sense, you need to have a broader perspective on the market of where the ETH USDC pair is going for. So it's not atomic in the same way that regular sandwiches or ARBs are.
01:26:43.066 - 01:27:06.880, Speaker B: And I think it's a tool in the broader toolboxes that bots can have in order to have the optimal portfolio according to what their view of the market is. But it's not atomic in the same way, although to your point, you should be able to backrun it or sandwich it and extract some more value.
01:27:07.410 - 01:27:35.580, Speaker A: Okay, that was a very interesting explanation. Now I think it's finally time to come to the hot topic of the day that everyone's been waiting for that dominates Twitter and the various discord and telegram groups in crypto right now. And can you summarize for us sort of the recent discussions about short term reoccs in Ethereum, like where this is coming from?
01:27:37.710 - 01:28:04.274, Speaker B: So, in proof of work systems, miners are participating in this kind of probabilistic lottery. And the first miner to win this probabilistic lottery based off of the amount of times that you're able to perform hashes of some function. And when you solve this math puzzle is the party that can create a new block in the system.
01:28:04.274 - 01:28:24.490, Speaker B: But two miners might win this probabilistic lottery at the same time or around the same time. And because of network propagation delays, you may not know that another party has won this lottery. They've successfully created and sealed a block.
01:28:24.490 - 01:28:59.922, Speaker B: And as a node in the system or a minor, you need to decide which of these two winners of the probabilistic lottery, which of these two new blocks you should append to your ledger. And the way that this is done is by looking at the total amount of computational work that has gone into either block and choosing the one that has more computational work. And there may be cases also where some miner quickly mines two blocks in a row and someone else, without knowing that has only mined one.
01:28:59.922 - 01:29:23.574, Speaker B: And so you would choose the one with more computational work. So the one with two blocks in a row over one. But the problem with this is that means you might be able to go back in time a couple of blocks, quickly perform more computational work than the actual canonical chain, and then reveal that to the network.
01:29:23.574 - 01:29:54.520, Speaker B: And because of this choice, this rule that the network follows the chain that has the heaviest amount of use, the heaviest amount of computational work associated with it, that would now be the canonical chain. And there's a lot of really bad things that you could potentially do if you are able to go back many blocks in a row and perform this. I would note that this is extremely difficult to do and to pull off.
01:29:54.520 - 01:30:19.354, Speaker B: But if you could theoretically make this happen, you could go back in time and maybe take a liquidation that someone else got. And now, as a miner, perform that liquidation yourself and capture all the mev from it. Or maybe sequence users transactions in such a way that you capture a ton of mev or play some other kinds of games in order to capture mev.
01:30:19.354 - 01:30:48.978, Speaker B: And this is called a time bandit attack. If it were to transpire, it would be super destabilizing. But there was some discussion at a recent research summit called mevwtf, people were discussing this and some of the speakers thought that this either already happens or that it was inevitable and it would happen on a very short term, like one to four block kind of reorgs.
01:30:48.978 - 01:31:24.930, Speaker B: And personally, I heard whispers in the community and there's some public discussion about people who were pursuing software that would programmatically enable miners to facilitate these kind of attacks on the system reorganizations. And if you start with the premise that a couple of people said at the research summit that this is inevitable, then I think the question that follows is should this be accelerated or democratized? And that conversation wasn't happening. I think actually a lot of the discussion started because I tweeted about it and then a Twitter conversation escalated to a fever pitch.
01:31:24.930 - 01:31:54.460, Speaker B: But then over the coming days and thinking about it, I came to the conclusion that this wasn't inevitable at all. And that actually a small group of searchers and people with vested interest in this happening were pursuing creating this software to programmatically reorg the network. And that really reframed the conversation for me and I think for everyone else and maybe revisit how I was thinking about the natural conclusions of whether this is inevitable or not or what to do.
01:31:54.460 - 01:32:10.794, Speaker B: And I think were this to transpire and if people created this kind of software, it would be stupidly, destructive, and value destroying and gaming it out. I don't even think it really makes sense. Like if you were to pay a miner.
01:32:10.794 - 01:32:26.434, Speaker B: To try to go back in time, build on top of a block, and reorg this system, then simply another miner would try to reorg you. In order to capture the mev. And say, okay, now you're going to need to pay the other miner some of your mev.
01:32:26.434 - 01:32:42.842, Speaker B: In order to build on top of your chain. And then someone else decides, well, I'm going to try to reorg you again, and I'm going to pay more forward to other miners to build on top of my chain. And then you respond by saying, okay, well, I'll pay you even more to do that.
01:32:42.842 - 01:32:59.854, Speaker B: And there's like this tit for tat back and forth where you're just like escalating and paying more and more. And at the end of the day, I don't even know that it's profitable to do these kind of reorg tax at all. Because I think the game theory is you end up paying miners to build on your chain until you don't capture any value at all.
01:32:59.854 - 01:33:08.510, Speaker B: And meanwhile the chain stops moving forward. Users are like, what is happening? My transactions aren't going forward. I'm going to stop using ETH.
01:33:08.510 - 01:33:20.518, Speaker B: And the end is like a lot of instability. Users probably use the chain less. So fees go down, mev goes down, price of ETH goes down, and long term miners would make way less money.
01:33:20.518 - 01:33:31.174, Speaker B: I don't think it actually makes sense for miners to do this. I think it would be bad and I hope that the people building this kind of software don't do it. I think it's actually insane.
01:33:31.174 - 01:33:35.790, Speaker B: And it would be insanely value destructive if it were to happen, right?
01:33:35.860 - 01:33:48.320, Speaker A: I think yeah, that's a lot to unpack here, which you will super. Fascinating answer. So first of all, why you laid out.
01:33:48.320 - 01:34:17.654, Speaker A: reorgs happen naturally. Blocks become stale, then the chain reorganizes and we have this fork choice rule to select between different forks that might be viable in order for the network to stay in consensus with each other, which is the most important thing in a network like Ethereum that everyone stays in consensus with each other. And we tolerate short reorgans in order to reach this goal.
01:34:17.654 - 01:34:47.922, Speaker A: Basically. But somebody can use this mechanic that other nodes in the network will always switch to the heaviest chain without any regards for throwing away blocks that they have already mined or accepted that somebody can use this as an attack. And this has sort of received a new name in Ethereum because, let's be real, everything has a new name in Ethereum as a time bandit attack.
01:34:47.922 - 01:35:20.894, Speaker A: But it's already known long before Ethereum as sort of a reorg attack or a double spend attack. Except that in this case, who is double spend wouldn't be an exchange, which is sort of the context in which most users know this type of attack, but it would be a minor, at least in some instances. So now let's talk about why this is actually destabilizing for the chain and what the negative consequences would be.
01:35:20.894 - 01:35:35.700, Speaker A: So you gave a good example. There's a big liquidation. One minor takes the entire liquidation penalty, which I don't participate in liquidations, but I feel like it should be like something like 10%.
01:35:37.030 - 01:35:39.710, Speaker B: I think it's like eight to 10% on some protocol.
01:35:39.790 - 01:36:05.690, Speaker A: So if it's like 100 million dollar loan being liquidated, that can be eight to $10 million, which is a lot. It's understandable that miners would look at this and say the previous block has a $10 million liquidation for me, liquidation penalty to take. Why should I build on this block instead of building on the block before then also try to get this liquidation.
01:36:05.690 - 01:36:27.694, Speaker A: And yeah, and then you painted sort of the picture of miners reorgang each other until some resolution is found. And what this would basically achieve is sort of the liveness of Ethereum would stall, basically. The chain would not make progress until this is resolved.
01:36:27.694 - 01:36:49.958, Speaker A: And the thing is, you don't actually know if it is resolved, like with very high certainty. So users would generally lose a lot of confidence. So A, you don't know if this is happening right now because miners might not release their blocks immediately, which would be like a valid tactic known from selfish mining.
01:36:49.958 - 01:37:16.770, Speaker A: So you never know if such a race is actually taking place right now. And second, you don't know when it's resolved. So basically it would reduce the user's ability, in my opinion, in the settlement assurances or Ethereum, instead of looking at a transaction in Etherscan or MetaMask, after one or two confirmations, they consider it as confirmed.
01:37:16.770 - 01:37:30.150, Speaker A: They would probably demand much higher numbers of confirmations in order to see their transactions as final and basically would increase the latency of ethereum.
01:37:30.490 - 01:37:38.780, Speaker B: Yes. It's probably some function of the total mev that your transaction creates. Right.
01:37:41.470 - 01:38:23.058, Speaker A: I'm kind of worried that there might also be other ways that this could be used to not just double spend another miner, but break DeFi protocols as they exist today. Someone pointed out to me yesterday on Twitter that Oracles and this includes both chainlink and the maker Oracle, their Oracle updates are not actually tied to a specific block height or block hash. So you could use and this is sort of what you pointed out, right? You cannot enforce the sequencing at the protocol layer right now.
01:38:23.058 - 01:39:08.050, Speaker A: So someone could there could be a user who closes their liquidation, sort of who closes a loan close to liquidation in block zero, and then five blocks go by and then compound or maker or chain link, publish a price update and the user now a couple minutes later would have been liquidated. And then a miner could take this Oracle update, go back five blocks in time and liquidate the user with a future Oracle update before they can close their loan at a time when it was not actually liquidatable. This strikes me as insanely destructive.
01:39:08.050 - 01:39:11.222, Speaker A: Yeah, I hope.
01:39:11.356 - 01:39:13.334, Speaker B: Who would want to take a loan on that system?
01:39:13.532 - 01:39:24.060, Speaker A: Yes, exactly. And sort of lending and borrowing is at the heart of DeFi. Without this, everything sort of breaks down.
01:39:24.060 - 01:39:52.040, Speaker A: But this goes to, why should miners do this? Right? I mean, you could argue maybe they will reorganize another minor and leave all actual user transactions untouched so they at least minimize the fallout. But if you actually go about stealing money from users, then I think we cross a line where miners could as well go to their data center and set all of their hardware on fire.
01:39:53.290 - 01:40:05.366, Speaker B: Yeah, I think you might as well. It's so destructive to the ecosystem long term and I think to their businesses, that it's like effectively an exit scam. I think equivalent to it.
01:40:05.366 - 01:40:26.842, Speaker B: You may make like $10 million liquidating and stealing a bunch of money from people who had loans, but your business will be over forever and you might as well pack up and leave. And it's not even clear to me that this is legal either, beyond the social consequences. I'm sure that if a bunch of people were harmed this way, you would see legal action taken against the parties.
01:40:26.842 - 01:40:33.090, Speaker B: Because all the mining pools are docs, right? They have individual people at the head of them that make these kind of decisions.
01:40:34.790 - 01:40:53.720, Speaker A: Yeah. I mean, fortunately, we have seen, for example, Etamine, one of the largest pools right now, already come out and say that they will never participate in something like this, which I think is important. It's important that some mining pools step up and create a shelling point of behavior for other mining pools to follow.
01:40:54.330 - 01:41:19.330, Speaker B: And actually, if you ask searchers which mining pools worry them the most or which they think are the most aggressive or willing to take kind of action in this line. I think 99 out of 100 people would tell you ether mine. And so it's a pretty big deal that they particularly said that they weren't going to do this because they have that perception as being technically capable as well as aggressive.
01:41:20.470 - 01:41:39.270, Speaker A: You said it would be basically an exit scam from miners. How do you think about this in the context of the upcoming proof of stake merge? Isn't it the case that miners will have less and less future revenue at stake the closer we get to the merge?
01:41:40.250 - 01:42:04.826, Speaker B: This is true, but a bunch of the top pools actually have staking services as well. So I think f two pool, I want to say Ethermine and spark pool are doing things in that area as well, but people should do due diligence on that before you quote me on ether mine and spark pool. But f two pool for sure with stake fish.
01:42:04.938 - 01:42:05.214, Speaker A: Yes.
01:42:05.252 - 01:42:27.858, Speaker B: So a bunch of the top pools also have vested interests in proof of stake as well. And I think they're structurally long ETH. And I'd also note that this is in part a social game and these are individuals who got into mining more often than not because they're nerds like me and they really care about ethereum.
01:42:27.858 - 01:42:44.860, Speaker B: And so there's some ideological component as well to miners. And I don't necessarily think that they're this giant monster that some people seem to think that they are. I haven't seen them do anything that would lead me to believe that.
01:42:44.860 - 01:42:59.540, Speaker B: I think there's social incentives as well as for the large ones, some business incentives too. But I do think as we get closer to the merge, it is more dangerous. So I don't want to completely minimize that.
01:43:00.070 - 01:43:39.774, Speaker A: Yeah, I think one more argument that could be made is that many pools also mine other chains, right? A couple the of largest ethereum pools also mine bitcoin and a couple mine other GPU minable chains. And I think if this was normalized in the second biggest proof of work coin, this would have a fallout across the entire remaining proof of work ecosystem and probably accelerate like a crypto wide transition to proof of stake. At least it seems possible.
01:43:39.774 - 01:43:47.360, Speaker A: This would be something that I would worry about as a miner, even as ethereum proof of work mining comes to an end.
01:43:48.450 - 01:44:20.842, Speaker B: And one last thing on that note was I was listening to a podcast by James Lovejoy and Nick Carter on the topic of reorgs. James Lovejoy was, I think, a master's student who wrote this great paper on reorgs and like empirical evidence on whether or not double spend attacks and reorgs were happening in chains. And he said one of the reasons why miners don't reorg these smaller coins is because they think of the market in terms of the hashes as opposed to the individual coins and they don't want.
01:44:20.842 - 01:44:43.010, Speaker B: To make the overall market for that hash, like Shaw 256, smaller. And they felt that by double spending and performing these more malicious types of behavior on an individual coin, it would make the larger market for that hash smaller and that wasn't in their interest. Yes, this is exactly right.
01:44:43.010 - 01:44:45.938, Speaker B: Yes, precisely to what you're saying.
01:44:46.024 - 01:45:08.634, Speaker A: Yes, a lot of Bitcoin maximalists were also saying and yes, in this case, I'm using this as a derogatory term. Thank you very much. We're saying after the BCH BTC split that the Bitcoin miners, or many miners loyal to Bitcoin should or will attack BCH any day now.
01:45:08.634 - 01:45:27.694, Speaker A: And it would just become an inevitability like the smaller hash it would get. But like, what you said is exactly like as a BTC miner, you have zero interest in attacking BCH because it will like, by destroying it, you just reduce the value of every hash that you produce. It's as simple as that.
01:45:27.694 - 01:45:39.090, Speaker A: So, yes, every BTC miner has a vested interest in seeing BCH succeed. And every BCH miner is a vested interest in seeing BTC succeed. Yeah, I think that's just about the reality.
01:45:39.090 - 01:45:40.274, Speaker A: Yeah.
01:45:40.312 - 01:45:43.300, Speaker B: More well put than I could put it. Thank you.
01:45:45.930 - 01:46:07.642, Speaker A: So we talked about why it's very unlikely that miners would actually participate in this. So I think it's important to say, even if someone wrote the software and by the way, we can talk about a bit more like how that would work. We talked about how Flashbots is a market for bundles, transaction bundles for miners to include.
01:46:07.642 - 01:46:25.102, Speaker A: We talked about how the end game of mev or just of mining in general might be a separation of assessation and block template markets. So this is sort of the next step. I think you could mentally combine both of these concepts.
01:46:25.102 - 01:46:35.334, Speaker A: A bundle that consists of several transactions and a block template that is like one block full of transactions. You could combine this into like block template bundles. Right.
01:46:35.334 - 01:46:50.726, Speaker A: And this is what we are talking about here. So it's basically flashboards, but where someone can propose several block templates, if you will, in a row to replace existing blocks that exist in the ethereum chain.
01:46:50.758 - 01:47:00.666, Speaker B: Right now, you know what I just thought, in the same way that you can unbundle bundles of transactions, miners will be able to unbundle bundles of blocks.
01:47:00.858 - 01:47:05.680, Speaker A: Yes, this would even be like completely unpreventable, I think.
01:47:06.690 - 01:47:16.850, Speaker B: Yeah. Because you can enforce the transaction bundles at the protocol level, but you wouldn't be able to enforce the bundles of blocks. Yeah, that's interesting.
01:47:16.920 - 01:47:46.958, Speaker A: This has a lot of intricacies to think through. But my point being this software is not easy to write in an incentive compatible way where it makes sense for miners to adopt it even if they were interested in doing this, which I believe firmly that they are not. But it just goes to show that even if someone was to write the software and release it, the likelihood that it would still need to get adopted by the miners, by a significant number of them.
01:47:46.958 - 01:47:57.070, Speaker A: And the chance or the risk that this happens, I see, is very low. Just to put this recent drama into a bit more context.
01:47:57.830 - 01:48:14.374, Speaker B: Yeah. And I would also note, looking out into the future, the way that ETH Two works will mitigate all of this. I think at least it's much more difficult to perform these kind of attacks in E two.
01:48:14.492 - 01:48:15.638, Speaker A: This is correct.
01:48:15.724 - 01:48:15.974, Speaker B: Yes.
01:48:16.012 - 01:48:34.778, Speaker A: So the way that Ethereum and both bitcoin work, they have basically not basically, they have the exact same consensus mechanism called Nakamoto Consensus. And in Nakamoto, there's one leader who proposes a block and then everybody else switches to the heaviest chain. Right.
01:48:34.778 - 01:49:33.786, Speaker A: And how it will work in eve two is that there's a two step process to the consensus mechanism where you have one person still who is the leader to propose a block in a particular slot, but then you have sort of a voting or I think it's called attestation game happening on top of that block in e two, and you have like, a whole number of different stakers who all attest to the block at a particular height, and that gives the block its weight in the forktrass rule. So what was previously the work, the amount of computation giving a block weight in the forktrass rule is now the number of attestations by different stakers. And someone who attested to a block once to one block at a particular height cannot attest to another block at the same height because this would be detectable by the protocol and they would get slashed.
01:49:33.786 - 01:49:57.826, Speaker A: So that's why you cannot actually have one person change their mind about what block they attested to and yeah. So that's why I think particular forms of liveness attacks become much easier in proof of stake, but attacks on sort of the safety of the system, which includes these reorgs, become significantly harder.
01:49:57.938 - 01:50:15.482, Speaker B: Exactly. And so this kind of has an element of a timeout on this whereby the distant risk of this happening, as low as it is, will time out after the merge happens. And I think that there's probably some game theory to be done there.
01:50:15.482 - 01:50:21.840, Speaker B: And I don't really know what the status of the merge is, but maybe it'll accelerate the merge that we're even having this conversation too.
01:50:22.290 - 01:50:50.360, Speaker A: Yeah, agree. But notwithstanding what defensive options we talked about, why it's like, super unlikely someone will actually finish the software and then it's unlikely that someone will adopt it. But if it were adopted, sort of what defensive options exist beyond that? If you were a minor, what would you do to protect against this?
01:50:51.450 - 01:50:53.538, Speaker B: If I was a minor, or not.
01:50:53.564 - 01:50:59.910, Speaker A: Necessarily just as a minor, but I mean, many options sort of touch all kinds of participants.
01:51:00.070 - 01:51:10.000, Speaker B: Yeah. So I think the final word is probably on the social layer, and I think you were more eloquent than I am on that. So I'll just let you answer in a moment.
01:51:10.000 - 01:51:39.874, Speaker B: And then I think that there are all kinds of games that can be played that give more incentive for miners to build on your chain or the canonical chain. So in particular paying some future value to the next miner, which gives them more of an incentive to build on top of your block as opposed to going in the past. This can either be done by the miner themselves, maybe they receive like 1000 ETH liquidation.
01:51:39.874 - 01:52:09.250, Speaker B: And so you're just going to pay a bounty to the person that mines the next block, or you might be able to do it at the Mev guest level and flashbots as an organization getting all miners to agree to smooth their Mev payments out over time. And so there's not like this huge variance in Mev revenue from miners. And instead the liquidation that's 1000 east today that goes to one minor is instead paid out over 20 blocks and so it's 50 each.
01:52:09.250 - 01:52:28.200, Speaker B: Or adjust your numbers accordingly. That can be done I think, at the flashbot level or the protocol level as well. And then lastly, I think DApps should immediately start thinking about this and design in a more reorg aware way.
01:52:28.200 - 01:52:45.686, Speaker B: I don't have a concrete suggestion, but I think Oracles in particular should be thinking about reorgs more and have to design them such that you can't play the kind of liquidation Oracle update games that you described earlier hasu.
01:52:45.878 - 01:53:01.858, Speaker A: Yeah, I think that makes a lot of sense. Yeah. The solution of paying rewards forward, I think that ties nicely into sort of the example that we used earlier on, where you have a large liquidation of 10 million whatever and miners fighting over it.
01:53:01.858 - 01:53:32.090, Speaker A: But if you only took like five hundred K and paid 500K forward to the next 19 miners, right, then you would still have, I hope I got my math right here, but you should have also 10 million total, but the much larger incentive to build on every future block of this chain. So you get at least 500K even if you don't get 10 million. But this is not as trivial as it sounds to implement.
01:53:32.090 - 01:54:04.760, Speaker A: It is actually like if reorg is actually happening and you as the 10 million liquidation miner, have to be worried about getting reor, then you don't even have to implement anything. This is the miner can just do this individually and still be better off and then the solution is extremely obvious. So that's why if it actually happened, then we would see this solution getting kick in immediately, pretty much.
01:54:04.760 - 01:54:30.046, Speaker A: And then the problem would sort of, at least for these liquidations and so on, would fix itself. The problem is basically when they are not happening, like when there are no reorgs and so there's no individual threat to miners. And then you could argue, why don't we sort of implement the defensive measure to even prevent this from happening.
01:54:30.046 - 01:55:03.190, Speaker A: And here's where I only in the last days sort of realized that this is actually prisoner's dilemma because as a miner you're not actually incentivized to share your revenue with anyone else as long as sort of you don't fear the individual threat of getting reor. So you cannot do this as a preemptive measure very easily. And that is because miners who don't participate will always be better off than as long as no reoccurs are happening than those who do participate.
01:55:03.190 - 01:55:28.110, Speaker A: There are a bunch of games to be played there around how do I receive money out of band, for example, from a searcher that doesn't get included in this big pot that's being paid forward to everyone else? So yeah, it's very alluring but tricky.
01:55:28.610 - 01:55:44.210, Speaker B: Yeah, I think all these mechanisms to pay miners to reorg the chain are not reorg resistant themselves. And that's like the core problem about these. I think it's way more complicated than people are making it out to be in the Twitter audi.
01:55:44.370 - 01:56:03.782, Speaker A: Yes. I mean, optimally you would have basically an auction system, an off chain auction system where miners decide on what the next chain should be and they get money according to their hash power. Well, we just reinvented ethereum.
01:56:03.782 - 01:56:04.890, Speaker A: Congratulations.
01:56:07.010 - 01:56:25.570, Speaker B: I think the big difference there is there's an argument to be made for Flashbots being aligned with Ethereum and cryptocurrency more broadly in the long term, but I struggle to see why building that kind of system would be long term aligned with crypto.
01:56:27.110 - 01:56:51.930, Speaker A: Yeah. You mean the Rioc system? Yeah, I mean, this could sort of be the last question in this block, but it's really an open question like how Flashbots should react to this and how proactive they should be about sort of navigating the discussion on this. Especially considering that the person who started all this is working for Flashbots.
01:56:51.930 - 01:57:27.350, Speaker A: And Flashbots, at least according to their own communication, has the mission of allowing safe and democratized mev extraction that's actively protecting Ethereum consensus and not harming it. So I must say, I can say very openly, like, how disappointed I was by their communication the first few days. I mean, to me they're sort of put into question how strongly they actually stand behind the values they proclaimed.
01:57:29.050 - 01:57:43.340, Speaker B: I agree. I think it's been pretty dark from the team. Like there's that one loud person on Twitter's communications and then maybe one tweet from Phil and Robert and I think that's about it.
01:57:43.340 - 01:58:11.426, Speaker B: And it's not immediately clear what the relationship is, what they stand for at this point, and I'm not immediately certain how they should react on the broader issue too. I think actually what they should do is being the experts on the subject of mev. They are like Phil has probably thought about this more than anyone and what the defensive measures are.
01:58:11.426 - 01:58:57.042, Speaker B: So I think they should rally the horses, so to speak, around how to defend against these reorg games if they are to transpire. And they should probably prepare for a world in which it happens, but not release any software that could possibly lead to reorgs happening regularly on Ethereum. I think the moment that the games start and it becomes certain with hard evidence that this is inevitable, I think they should launch into some action plan on how to defend against this and how to make it as not harmful as possible, either through defense, or maybe there's an argument for writing the software themselves.
01:58:57.042 - 01:59:06.790, Speaker B: If it is inevitable and you know that this is happening and making it democratized, then that would be my take.
01:59:06.940 - 01:59:43.474, Speaker A: Yeah, I think that's a very sensible take. And to Flashboard's credit, after a few days, I mean, at least behind the scenes, they have started really to ramp up, I think, the effort around finding solutions. They have started work on gathering information about if reoccurs are happening today at the margin, their reorg dashboard, and had several meetings, public meetings about possible countermeasures and the position that they should take on this.
01:59:43.474 - 01:59:53.560, Speaker A: So, even though I would say the initial reaction was far from perfect, I think they are now on the right track. At least I hope so.
01:59:55.290 - 01:59:55.990, Speaker B: Agree.
01:59:56.140 - 02:00:20.234, Speaker A: Okay, then let's put a tie on that and move to slightly more optimistic and final topic. I labeled this here sort of the future of mev and starting out. You mentioned you're using Flashbots, but as a searcher, you're also submitting to several other relays.
02:00:20.234 - 02:00:28.820, Speaker A: Can you talk about sort of what are sort of the top relays that you work with and that people should know about?
02:00:30.310 - 02:00:46.550, Speaker B: So I submit to flashbots that's first. Like you said, I also submit to Archer Dao's relay and they also run Archer Swap, which we mentioned for mev protection. And then I also submit to blocksroute.
02:00:46.550 - 02:01:10.874, Speaker B: So blocks route, I think, works slightly different than the other relays. What's the best way to describe blocktrap? I think they are a lot more mindful about direct connections to miners and latency. And so if that's important to your strategies, then you should be also submitting to Blockchrop and Archer Dao.
02:01:10.874 - 02:01:31.474, Speaker B: I actually haven't verified this, but they claim to have some percentage of hash rate, which is exclusive and different from the miners that flashpot supports. And so I just have better coverage on average of the blocks that my bundles will be included in. And then lastly, I also have direct to Miner relays.
02:01:31.474 - 02:01:46.700, Speaker B: So I submit some bundles directly to a set of miners that we have a pretty high trust relationship. I don't DDoS them, they take my bundles directly and I won't DOX those miners, I don't think they would like that.
02:01:48.190 - 02:01:54.540, Speaker A: If you have a bundle, do you submit it? You mentioned like, getting high coverage, do you submit it to all relays all the time?
02:01:55.230 - 02:02:13.482, Speaker B: It depends on my bundle. So if I'm doing something long tail, I probably won't submit it to flashbots for the reason that I said before of, like, all of a sudden it's under this giant spotlight, and it's pretty easy to see in the flashbots API. So I'll submit it to Archer Dao Blocksroute and Directominer.
02:02:13.482 - 02:02:24.014, Speaker B: And do I leak this alpha? Do I not? I'll leave a crumb here for smart? Yes, my whole account is an alpha leak.
02:02:24.062 - 02:02:26.630, Speaker A: We have a responsibility here toward our listeners.
02:02:29.850 - 02:02:54.254, Speaker B: Here'S. A crumb that your smart listeners can pick up on is at least direct to minor and blocks route as relays. They have different properties than the flashbots relay does, and it enables you to do different types of strategies that the way that flashbots works isn't possible.
02:02:54.254 - 02:03:05.358, Speaker B: There are some long tail strategies which just are not possible to do through the flashbots relay that you need these other kind of relays for. And of course, I don't submit those to the flashpots relay.
02:03:05.534 - 02:03:12.694, Speaker A: Interesting. I see. I didn't pick up on the crump, but I will hopefully listening back to it.
02:03:12.892 - 02:03:17.270, Speaker B: I hope you don't. This is like, my livelihood as a searcher. Right.
02:03:17.420 - 02:03:20.450, Speaker A: Okay. Yes. Then understood.
02:03:20.450 - 02:03:21.160, Speaker A: Okay.
02:03:21.610 - 02:03:23.842, Speaker B: You can include it, though. I said it. That's fine.
02:03:23.916 - 02:03:44.218, Speaker A: As long as I don't become the mev intern, then there's probably no risk of me picking up on it. Okay. In the mev WTF conference, I also had a presentation on the future of mev.
02:03:44.218 - 02:03:59.250, Speaker A: And I said, well, apart from some obvious things like, hey, we should minimize mev where we can. What we can minimize, we should democratize. I was probably the most hopeful person at the entire conference.
02:03:59.250 - 02:04:09.400, Speaker A: I felt so about our power to minimize mev. Like everybody else was saying, it's completely inevitable. Like, we have no chance.
02:04:09.400 - 02:04:15.594, Speaker A: We have to use fair ordering or whatever. And as you said, this stuff doesn't serve anything. Right.
02:04:15.594 - 02:04:52.770, Speaker A: It just gives basically the mev to the sequencer and then hopes that they don't act on the incentive which still exists. But one way that we have already started to effectively completely mitigate mev is via mempool segregation. So instead of one mempool, you mentioned at least four different relays that you use, and these relays all have an incentive to bid for your order flow that you submit as a searcher.
02:04:52.770 - 02:05:05.014, Speaker A: Right. So who's actually in the privileged position here? Like, if there's one mempool, then you have many searchers, and by searcher can be anyone. Like, not even just searchers users.
02:05:05.062 - 02:05:05.370, Speaker B: Right.
02:05:05.440 - 02:05:51.670, Speaker A: You have many users bidding for inclusion in the one mempool, and they're in intense competition with each other, and that's why miners capture all the mev. But what if there's one user and many mempools? Doesn't that sort of change the whole dynamic of who competes with whom and who gets to capture the mev? You said in our pre discussion to this conversation, you said something very interesting, and I hope it's fine if I sort of quote this, but you said that you're basically bidding to receive private transaction flow from certain wallets or applications.
02:05:53.310 - 02:06:10.560, Speaker B: Yeah, so this is something that isn't in place now, but I'm in discussions and these kind of relationships are happening with different either wallets or applications in the ecosystem. Yeah, that is true. I do offer my arbitrage services.
02:06:10.560 - 02:06:37.222, Speaker B: And the way that that works is if I get sent a transaction from these other wallets or applications, I will look to see if I can arbitrage the user in their wake and kick back some amount of the profits to the user in order to give them a better execution price or maybe to pay for gas or something like that. Right.
02:06:37.276 - 02:06:54.570, Speaker A: This is sort of what blocksroute sort of backgroundme.com does. And I think some other exchanges are also thinking about this in order to make it cheaper for users to trade on the individual exchange rather than using an aggregator.
02:06:54.570 - 02:07:19.170, Speaker A: Because if you trade on uniswap or SushiSwap, most of the time you're actually making a big mistake. You should be using an aggregator who fills your order across many pools. But if you're using a single exchange, a single market, then you create a background opportunity and if you just publish your transaction to the public mempool, then you give away this opportunity like you give away the mev for free.
02:07:19.170 - 02:07:43.340, Speaker A: But if you take the same transaction and say, hey, here's this transaction, it creates this amount of mev and have different searchers or miners, doesn't matter, bid for who gets to mine this transaction and fill the arbitrage opportunity, the background opportunity, then all of a sudden the user can capture most of the opportunity.
02:07:45.470 - 02:08:15.730, Speaker B: I totally agree. And to circle back to that comment that Phil made about different protocols either on the base layer like a bearer ordering system to replace the way that transactions are done for Ethereum or these Arbitrage Me backrun Me games that you're playing. They are negotiating the terms on which Mev is extracted and they are negotiating them in better favor of the end user.
02:08:15.730 - 02:08:42.270, Speaker B: Yeah, you're sort of changing the rules of the game in a systematic way that benefits the user. And I think what you're hinting at here that the party in a privileged position to extract mev doesn't necessarily have to be miners. And there are all sorts of structures like private mem pools that can help users or other actors in the system, maybe a dow or a protocol capture that mev instead.
02:08:42.270 - 02:08:45.600, Speaker B: And I think it's a super underexplored design space today.
02:08:46.130 - 02:09:00.754, Speaker A: Yeah, exactly. So basically the protocol can kick back or the wallet can kick back a lot of the mev to the user because they are starting to realize that they are actually in the privileged position to extract it. Right.
02:09:00.754 - 02:09:21.498, Speaker A: So one quote from our conversation from earlier, and this is also a citation, I think from the flashboards 2.0 PayPal is that miners are in a privileged position to extract this value and that's why it's called mev, right? Because the end game is for miners to extract it. But I think what we are learning today is that this is not true.
02:09:21.498 - 02:09:41.860, Speaker A: It's simply not true. Like, this has always been wrong. And basically, the person who submits the transaction, they are in a dominant position to extract the mev because they get to choose who to give it to, right? As long as they don't blindly give it away, as long as they negotiate who gets it.
02:09:41.860 - 02:09:52.840, Speaker A: Their unpublished transaction has financial value, and they are the one. Like, if they do it right, then they are the one who can extract that value.
02:09:54.570 - 02:10:18.542, Speaker B: Agreed. And this is why you see the Flashpots people call it maximal extractable value instead of minor extractable value. There are many actors that are in privileged positions to capture some value, although at the end, I do agree that users are in the ultimate position to choose where their transaction flow goes.
02:10:18.542 - 02:10:34.834, Speaker B: But you need to have either wallets or DApps that are set up such that they have that negotiating power at all. I think we're just beginning to think about this. And wallets, DApps, other parties are just beginning to build around this.
02:10:34.834 - 02:10:51.494, Speaker B: I think in Ethereum, like, a year ago, users didn't really have any ability to negotiate or to capture the mev themselves. So if those options exist, I would agree with your argument. But they need to and we need to build mev aware systems first.
02:10:51.692 - 02:11:20.610, Speaker A: Yes, exactly. So as a user who is educated, who knows how mev works and how to capture use, I would argue, I would posit that you can use DeFi today while causing zero mev, basically almost zero leakage to miners. And I think the fact that this is possible for one educated user proves that it will be possible at scale.
02:11:20.610 - 02:11:23.890, Speaker A: That's my thesis to end this conversation.
02:11:24.950 - 02:11:50.234, Speaker B: Do you think that always holds? Like, is there no condition under which a wallet decides to do something? Maybe there's an edge case, but since a wallet is an iterative game in the long term, you would think not. Maybe they don't do something to screw you over. But I'm not sure that I fully agree that there is no mev in that transaction, even for the most educated user possible.
02:11:50.234 - 02:11:52.346, Speaker B: But it's provocative. At least.
02:11:52.368 - 02:11:55.802, Speaker A: It's provocative. Yeah. Let the people talk about it.
02:11:55.802 - 02:11:59.194, Speaker A: Okay. I'm happy to be proven wrong. I agree.
02:11:59.194 - 02:12:06.620, Speaker A: It's a bullet thesis. Perfect to end on this. So mev sent.
02:12:06.620 - 02:12:15.460, Speaker A: This was the most fun conversation that I've had in a few months. So thank you very much. I've had immense fun today.
02:12:16.150 - 02:12:18.526, Speaker B: Thank you so much. Likewise, Hasu.
02:12:18.718 - 02:12:19.746, Speaker A: Take care.
02:12:19.928 - 02:12:20.400, Speaker B: Take care.
