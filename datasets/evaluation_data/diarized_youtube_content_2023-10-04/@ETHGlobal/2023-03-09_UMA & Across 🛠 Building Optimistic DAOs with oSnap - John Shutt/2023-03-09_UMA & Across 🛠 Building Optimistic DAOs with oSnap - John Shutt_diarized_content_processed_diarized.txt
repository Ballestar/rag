00:00:06.090 - 00:00:06.990, Speaker A: All right. Hello everybody.
00:00:07.060 - 00:00:16.714, Speaker B: Welcome to Uma workshop uma and across building. Optimistic DAOs with OSAP. We have joining us today John Ashud, who will be taking us through the session.
00:00:16.714 - 00:00:20.880, Speaker B: And with that, I will pass it over to John to introduce himself and get this session started.
00:00:22.610 - 00:00:35.798, Speaker A: Hey, everybody, thanks for joining. So I'm going to focus today on a new product that came out from Uma that we're pretty excited about called OSNAP. And we'll just run through some slides that kind of explain how Uma works, how OSNAP works.
00:00:35.798 - 00:00:57.242, Speaker A: Then we'll go through the process of actually deploying OSNAP with a safe and a snapshot space and show how you can do easy optimistic execution without having a multi SIG in the loop. And we'll have some time for questions at the end, too. All right, so using OSNAP to actually decentralize your dao, a lot of DAOs are not particularly decentralized.
00:00:57.242 - 00:01:07.860, Speaker A: They are reliant on a multi SIG to actually execute the will of the voters on snapshot. They also aren't particularly autonomous or organized. So we're working on that.
00:01:07.860 - 00:01:19.318, Speaker A: Uma is an optimistic oracle. So if you're familiar with optimistic roll ups, it's kind of a similar idea. The way that Uma works is that you assert some truth about the world.
00:01:19.318 - 00:01:36.442, Speaker A: Like the temperature was below 70 as a high in Las Vegas today, and anybody can dispute that within a challenge window. And it basically works as a decentralized truth machine following a shelling point mechanism that has pretty strong economic security. And it's really flexible too.
00:01:36.442 - 00:02:01.540, Speaker A: It can handle any kind of real world cross chain off chain kind of calculation type question. So a common misconception based on how Oracles are used in DeFi is that Oracles are just for relaying price data onto a blockchain, which is really limited. I think most Oracle protocols would disagree with this characterization of what Oracles are about, but that's what most people think about.
00:02:01.540 - 00:02:10.950, Speaker A: But really, an Oracle is a truth machine. You can record any kind of truth about the world. We talked about weather, but it could be about real world events.
00:02:10.950 - 00:02:26.746, Speaker A: It could be a price, or it could be, did this governance proposal pass? And that's what this is going to be about. So optimistic Oracles are about enforcing correctness after a dispute. So normally proposals are correct.
00:02:26.746 - 00:02:39.946, Speaker A: If you make a proposal of this is the truth, you have to post a bond with that, which you're going to lose if you're disputed and you turn out to be incorrect. So 99.9% of proposals are correct right out of the gate, and you just have to wait for that challenge window.
00:02:39.946 - 00:02:57.086, Speaker A: So that's different from a price feed style Oracle that you might be more familiar with, where you have a network of nodes that are paid to try to determine in advance what the answer is and then push that answer on chain, and then you can use that. It gives you recourse. Dispute functions are kind of an undo.
00:02:57.086 - 00:03:14.650, Speaker A: It has a computable cost to actually manipulate it. And it's really flexible because Uma doesn't have to anticipate in advance what your questions are going to be. As long as they're human readable, as long as they're comprehensible, as long as there is a clear correct answer, you can ask that question to the Oracle.
00:03:14.650 - 00:03:49.958, Speaker A: So what goes into it? You have a requester asking for some data or asserting some data, in some cases a proposer that's saying here's what the data is. And you have a disputer network that's watching and wants to try to take bonds from people that are making bad proposals, so they have a financial incentive to watch closely. You have a dispute resolution process, which is basically a vote from the, uma, token holders, which we'll get into in a a documented methodology of truth, so that those token holders, when they're trying to determine what the correct answer is, they have some guidelines that you might have set in advance of, like, here's how you calculate this.
00:03:49.958 - 00:04:06.150, Speaker A: If it's some kind of complex calculation, and you have economic guarantees that give you an upper bound of the cost to manipulate the system. So we're pretty flexible. We've done a whole lot of integrations.
00:04:06.150 - 00:04:29.314, Speaker A: You can ask stuff like did the sports team win for prediction markets that's live? You can build DeFi insurance things, asking if a protocol was hacked. There's no data source you could go to that you need to have something like an optimistic Oracle nexus actually works in a similar way too. You could build an entire protocol like across this crosschain bridge, that's kind of our sister protocol, which is also hiring, by the way.
00:04:29.314 - 00:04:57.242, Speaker A: We have the hiring slide at the end. And they're asking, was this bundle of relayer refunds calculated correctly? Did they do all of the relays correctly? Did they do fees correctly? So it's this very bot driven, kind of machine driven system there. You could do success tokens shapeshift, did some on chain VC fundraising in an incentive aligned way where the VCs get paid out if the token price goes above a certain point at the expiration date of March 1, 2024.
00:04:57.242 - 00:05:11.280, Speaker A: And it's not like they're getting a discount in advance that they still make a profit if the token doesn't do too well. And then another example is just sort of like TBL KPI options. You could reward very specific things for your dow, which is kind of cool.
00:05:11.280 - 00:05:23.726, Speaker A: So, yeah, just kind of like an outline of things highlighted optimistic governance because this is what this is going to be about. So this is kind of a typical flow. You have a forum discussion, you have a snapshot vote.
00:05:23.726 - 00:05:37.106, Speaker A: Snapshot votes are not actually binding in most cases. You can't really execute them. You do a snapshot vote and then the multi SIG that is actually running things decides whether or not they want to enforce that snapshot vote.
00:05:37.106 - 00:05:50.214, Speaker A: And even if they do want to enforce it, they have to go around and collect signatures. Even though the Dow has theoretically made its decision, you have to chase down a bunch of signers. They have to make sure the transactions are correct, and then it runs through the multisig.
00:05:50.214 - 00:05:58.640, Speaker A: So it's not very efficient. Sometimes the multi SIG signers decide they don't want to enforce the governance vote if it goes against their personal interest. That's happened a few times.
00:05:58.640 - 00:06:15.822, Speaker A: But even in the normal case where they do want to do what the Dow says, it's really inefficient and annoying. It's not fun to be a multi SIG signer. So OSNAP, in this, your Dao is basically replacing the multi SIG.
00:06:15.822 - 00:06:23.894, Speaker A: Anyone can initiate a transaction. Everyone can dispute the transaction. The truth is economically incentivized, like all the other things running through.
00:06:23.894 - 00:06:32.940, Speaker A: Uma, and you can set it up really quickly, just in an afternoon, basically. And we'll walk through a setup process, which is not an afternoon. It's going to be like a couple of minutes.
00:06:32.940 - 00:06:38.886, Speaker A: This is the basic flow. You deploy this module. You're going to attach it to your safe.
00:06:38.886 - 00:06:49.610, Speaker A: You set some basic parameters which will show, and you create a Snapshot proposal with some transactions attached. If it passes, you can execute them. If it doesn't pass, it gets disputed.
00:06:49.610 - 00:07:00.660, Speaker A: There's going to be a vote to settle the bonds between the proposer and the disputer. But if it was a valid proposal, you don't have to wait for the result of that vote. You can just repropose again so it doesn't slow you down.
00:07:00.660 - 00:07:13.426, Speaker A: And it's kind of built for tools that a lot of people are already using. You're using safes. You're using Snapshot, this cool symbol in the middle, this is the Zodiac framework for adding modules to a safe.
00:07:13.426 - 00:07:23.598, Speaker A: There's a lot of other cool Zodiac modules. You should definitely check that out if you're building a Dow, because the Dow toolkit is getting way more sophisticated now. It's not just about multi sigs.
00:07:23.598 - 00:07:34.800, Speaker A: And safes are not just about multisigs. Safes are a whole operating system for building organizations, is the way I think about them. All right, so getting it set up.
00:07:34.800 - 00:07:45.178, Speaker A: Let's actually jump out of the slide deck and we'll set one up. How do I escape this? Okay. All right, so we got a safe.
00:07:45.178 - 00:07:50.530, Speaker A: It's a test safe. It's a one of one multi SIG. Not super secure, but good for demo purposes.
00:07:50.530 - 00:07:57.240, Speaker A: So you just want to go to apps here. And I do see questions coming in the chat. I'll answer them at the end.
00:07:57.240 - 00:08:11.302, Speaker A: And you want to go and search for Zodiac? If it lets me type it. There we go. So you want to add this app if you don't have it already.
00:08:11.302 - 00:08:19.146, Speaker A: In this case, it's a demo space that we use a lot. So it's already added in there. See a whole bunch of modules and modifiers here.
00:08:19.146 - 00:08:32.318, Speaker A: The one that we're interested in is the uma, OSNAP module. And this is designed to allow you to execute successful snapshot proposals on chain. And we'll set some basics here.
00:08:32.318 - 00:08:40.206, Speaker A: We'll say like 0.1 width. As a demo space, you get some warnings if you set parameters that look kind of unsafe.
00:08:40.206 - 00:08:48.334, Speaker A: So it's saying a minimum bond of one is recommended liveness. If you set this low, it's going to warn you about that. Liveness is the challenge window.
00:08:48.334 - 00:09:13.386, Speaker A: So if you get a bad proposal that comes through and you set this to 48 hours, you basically have two days that anybody can come in and dispute that bad proposal. And that might be somebody from your Dow, it might be somebody that would be a multisig signer traditionally and is paying attention to these things. It could be third parties because we have a really robust kind of party disputer network that's watching for proposals primarily from prediction markets because they're very high volume.
00:09:13.386 - 00:09:26.626, Speaker A: We settle a lot of markets every day. So people are watching to check and they are actively disputing and these are very easy ones to dispute. You just go and see if a snapshot vote passed or not.
00:09:26.626 - 00:09:41.910, Speaker A: Did the transactions match or not, if not dispute. So I would actually expect these to get disputed within ten minutes or less. But it's good to set a long liveness just for security purposes, which is why we have these warnings.
00:09:41.910 - 00:09:59.254, Speaker A: You would enter your snapshot space URL. You would set some quorum and voting period rules and these are basically getting added to your written rules. This string here is your rules that are going on chain that Uma is going to use to interpret whether or not something passed.
00:09:59.254 - 00:10:20.910, Speaker A: You might set a quorum of like 100 and a voting period on snapshot of, let's say it's like three days. And then if you have a snapshot admin that goes rogue and they create a vote and the voting period is 1 minute and the quorum is one and they vote to give themselves all the money that'll contradict this rules parameter on chain. So then they'll propose that and that'll still get disputed.
00:10:20.910 - 00:10:41.914, Speaker A: It doesn't matter that it technically passed on snapshot. A human can look at these rules. They can clearly see that this didn't meet the minimum quorum, minimum voting period and dispute that it's invalid even though it passed on snapshot, which kind of shows the flexibility of an optimistic Oracle type system that you're able to apply that human reasonableness to it.
00:10:41.914 - 00:11:03.440, Speaker A: So at this point we would go and try to move this zoom stuff out of the way and add the module got all these zoom little thumbnail things. So we would go and just attach this to our safe here. And because gas fees are kind of high, we're probably not going to actually do this.
00:11:03.440 - 00:11:21.702, Speaker A: Yeah, we'll just reject that because we already have one that we can use. So we'll just kind of cancel and exit out of that, and we'll just use one of our existing things. So going over to our snapshot space, if we did deploy it, adding it to your space is really simple.
00:11:21.702 - 00:11:40.566, Speaker A: You just go to Settings, and then if you scroll all the way down to the bottom of your snapshot space settings, you can add a plugin. You would look for Gnosisnap, which is already added here. And then you just add your network address and where it says, uma, address, you would add the address of the module that you just deployed.
00:11:40.566 - 00:11:55.440, Speaker A: Or in this case, we have a module that's already deployed and added to this snapshot space. And this is going to be tied to our safe back here. So that is this one here, I think, actually, which is going to execute the result of this proposal that we're about to create.
00:11:55.440 - 00:12:04.178, Speaker A: So that's all set up. You can see it actually only takes a couple of minutes. Once it is set up, nobody else has to really think about it.
00:12:04.178 - 00:12:12.534, Speaker A: It's really easy to create a proposal and just start using this as a user. And it's all like point and click. What you see is what you get.
00:12:12.534 - 00:12:27.722, Speaker A: Type interfaces. You don't have to know how to code. And we'll just kind of walk through creating a basic transaction, create a basic transaction, do some stuff.
00:12:27.722 - 00:12:48.802, Speaker A: Please vote yes. And you can use any kind of voting scheme again, because what you're checking on, uma's, side is just, did this vote pass? It doesn't matter how potentially complex your snapshot space strategy is or what kind of voting system you're using. You're able to just look and see as a human being.
00:12:48.802 - 00:13:29.330, Speaker A: Did this pass or not? But we'll do basic voting for again, substance, and we will do something once I get Zoom out of the way again. Okay, so we're going to set this to settle and sorry, Zoom is like the bane of my existence. How do I get this thing out of the way? Okay, I hid the floating meeting controls, so this should go more smoothly now.
00:13:29.330 - 00:13:43.762, Speaker A: All right, so we're going to have a really short voting period because we basically want to vote on this and then pass it and execute it within the confines of this demo. So let's add a transaction. We're just going to transfer some ETH.
00:13:43.762 - 00:13:54.300, Speaker A: It's really easy to do kind of common transactions. You can do contract interactions. You can do any transaction just like raw transactions that you composed in some way.
00:13:54.300 - 00:14:20.580, Speaker A: But we'll just transfer some funds to ourself here, do a small amount of ETH on Gurley, and then we could add more transactions if we want to, and it'll execute this whole bundle as a batch. But we'll just do one as an example sign to create that going to vote for it. I like this proposal that sends some money to myself.
00:14:20.580 - 00:14:47.366, Speaker A: Great, vote is in. And we just have to wait a minute until we are able to execute this, we have 1 minute left for the voting period. All right, I think that we might be able to execute this now.
00:14:47.366 - 00:14:56.518, Speaker A: Let's see or propose it. All right, so this little thing here is where OSNAP is doing its thing. Everything else is normal.
00:14:56.518 - 00:15:07.078, Speaker A: If you have your snapshot space set up, it's all going to look the same. Except now there's going to be a little button here you can click to request proposal execution. And this is just where you double check.
00:15:07.078 - 00:15:17.034, Speaker A: Did this actually pass? Because you might have some complex kind of voting system to determine whether or not something passed. You might have different quorum rules. You might have yada, yada yada.
00:15:17.034 - 00:15:31.770, Speaker A: So just to double check, sanity check it, and then you can request execution. And this is going to actually make the on chain proposal with that transaction and say, hey, this is a valid proposal. Please execute this on chain.
00:15:31.770 - 00:15:50.374, Speaker A: And you'll have a challenge window where anybody can come in and dispute that. For instance, if people voted no, this would not be a valid proposal and the person would lose their bond, which because this is a demo, the bond is zero. But in real life, it would probably be like might be like 1500 USDC.
00:15:50.374 - 00:16:03.514, Speaker A: It might be one WETH something like that. Something that's going to hurt a little bit if you get it wrong, because that's your incentive as a disputer to go and dispute bad proposals. And so this is, uma's, Oracle interface.
00:16:03.514 - 00:16:21.214, Speaker A: All of our Oracle requests go to the same interface. They kind of go to the same alerting system. So you kind of have a network effect there where this is going in with a dozen prediction market settlement requests, like all of the insurance protocol things, like the people that have bots that are monitoring for bad requests.
00:16:21.214 - 00:16:32.374, Speaker A: They are going to see every proposal that comes through from your dow. And it'll be very easy for them to spot a bad one. You have a liveness period here about a minute left to dispute this.
00:16:32.374 - 00:16:39.834, Speaker A: If this is wrong, we're not going to dispute it. But if we wanted to, we could do it from here. You could even potentially have bots that do this.
00:16:39.834 - 00:17:01.140, Speaker A: If you have like a bot that's smart enough to know whether or not a snapshot vote passed, then you can race and beat all of the other disputers and collect that disputer reward, which is basically half the proposer's bond. Now we just wait around for 40 seconds. Some more stuff in the Oracle interface, which is nice.
00:17:01.140 - 00:17:21.606, Speaker A: You can see in the explanation, this is kind of cool. This is like an IPFS CID for the specific snapshot vote that this is tied to. So this vote right here has a specific kind of IPFS identifier, which includes all the details about it.
00:17:21.606 - 00:17:38.410, Speaker A: And that's going to be the same one that is referenced here and there's, like some slow load times to pull it up, but it's basically going to be like a JSON file with all the details. It'll show the transactions, it'll show the description, et cetera. And that's how you can tie what's being proposed here to a specific Snapshot vote.
00:17:38.410 - 00:17:43.786, Speaker A: And if you don't see one, I mean, that's an easy rejection. That means it's not tied to a vote. It's a bad proposal.
00:17:43.786 - 00:17:53.374, Speaker A: It probably didn't come through the Snapshot interface at all. And that's just IPFS loading. Yeah, if you have a better IPFS node that would load faster.
00:17:53.374 - 00:17:59.030, Speaker A: So this is done now. So what this means is this was not disputed. This was a good proposal.
00:17:59.030 - 00:18:08.870, Speaker A: The Dow did vote yes on it. So we can go back here. This time has passed, let's refresh and we can execute.
00:18:08.870 - 00:18:21.834, Speaker A: Can see most of the time is actually just waiting for Gurley to do stuff. Going to execute here. This is another on chain thing.
00:18:21.834 - 00:18:31.726, Speaker A: Anybody can execute. You could have a bot that automatically executes once you see that this has passed. So you might not even be manually doing this.
00:18:31.726 - 00:18:40.420, Speaker A: But at this point, it's not up to a multi SIG signer. Like anybody can do it because the Dow did approve it. It's been verified through, uma Nobody disputed it.
00:18:40.420 - 00:18:55.826, Speaker A: And by the way, if it does get disputed and it was a valid proposal, you can just repropose. You don't have to wait for the Uma voting period to determine what the outcome was. That voting is basically just going to settle the bonds between the proposer and the disputer.
00:18:55.826 - 00:19:08.326, Speaker A: It's not going to affect this flow and it's not going to slow you down because that voting period does take a couple of days. So that is executing. It's going to transfer a tiny bit of ETH.
00:19:08.326 - 00:19:22.810, Speaker A: All transactions have been executed. Anybody coming back to this vote can see that we're done here. We did what we wanted to do, and if we go back here, we should be able to see in the internal transactions that got some ETH.
00:19:22.810 - 00:19:31.220, Speaker A: So that's what we were out here to do. So that's pretty much it. I'll skip ahead to some extras here.
00:19:31.220 - 00:19:41.742, Speaker A: All right, so this is audited. We audit everything at Uma fully integrated with snapshot and Zodiac safe. You can set it up on all these different chains, really beginner friendly.
00:19:41.742 - 00:19:49.554, Speaker A: You don't have to code to deploy it or to use it. You don't have to use the command line to deploy it or use it. I just walk through the whole flow.
00:19:49.554 - 00:19:58.266, Speaker A: It only takes a couple of minutes. It's exactly the same when you're setting it up for your own space. And the human readable rules means that you actually understand what it's doing.
00:19:58.266 - 00:20:28.722, Speaker A: You don't have to wonder about this code and just sort of trust that the coders got this right. You can read the rules of your Dow and it's really easy to participate. So moving beyond you might have thought to yourself, if you can write the rules that say, oh, enforce snapshot votes, could you write other rules as well? Like you're not allowed to transfer any more than this amount in a given day, or this person is allowed to transfer that amount over the next month because that's their budget? Yes you can.
00:20:28.722 - 00:20:34.160, Speaker A: So you can write down any rules, the Optimistic Oracle can enforce them. We're just trying to.
