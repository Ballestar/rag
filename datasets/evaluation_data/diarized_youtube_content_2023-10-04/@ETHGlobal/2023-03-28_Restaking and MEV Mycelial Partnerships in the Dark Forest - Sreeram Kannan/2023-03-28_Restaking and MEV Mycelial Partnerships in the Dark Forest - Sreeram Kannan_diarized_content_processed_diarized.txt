00:00:06.650 - 00:00:15.066, Speaker A: Hi everybody. I'm Sriram. I'm a faculty member at the University of Washington, Seattle, also working on this project called Eigen Layer.
00:00:15.066 - 00:00:39.638, Speaker A: Today I'm here to talk about how mev intersects with restaking. And the subtitle of the talk is mycelial networks at the root of the dark far first. So mycelia are these like fungi that help connect and interconnect the roots of various trees, basically helping them pass along nutrients to each other.
00:00:39.638 - 00:01:10.238, Speaker A: So we take of restaking as basically something like that. And in this talk we are going to kind of examine how mev intersects with restaking and how we can think about it. Okay, so what is mev? Right, one way to define mev? There are many different generalizations of this, but one way to define mev is it arises from the freedom of block proposals to order transactions.
00:01:10.238 - 00:01:28.594, Speaker A: So the protocol, for example, in Ethereum, the Consensus protocol, constrains various actions of block proposals. But there is still a remarkable amount of freedom when it comes to transaction ordering. And this gives race to both markets as well as some negative externalities.
00:01:28.594 - 00:01:58.014, Speaker A: And one example of a clearly negative externality is rear. So for example, if there is a block proposal and they see there is some valuable transactions in a previous block, they may want to rear the chain because of this. And while something like this is much more likely with proof of stake and much more difficult with much easier with proof of work and more difficult with proof of stake because there is a certain amount of voting accumulating.
00:01:58.014 - 00:02:26.230, Speaker A: For example, in Ethereum today, one way to mitigate this is by using things like single slot finality. So in proof of stake, what happens is once you have enough votes cost on a given block, then you can actually move on and finalize that block and any finality which breaks. If two blocks are proposed with different orders, then the block proposals can be slashed.
00:02:26.230 - 00:02:42.720, Speaker A: So one way of thinking about it is the mitigation is possible. The mitigation is possible because there is a certain amount of staking and there is a certain amount of slashing. And one way we can think about this is if we want to generalize this.
00:02:42.720 - 00:03:04.950, Speaker A: So what is happening here is single store finality is basically a commitment from block proposals to hold a certain rule. Even though they have a certain ordering freedom, they cannot exceed a certain bound on the ordering freedom because they've made a certain commitment. In the case of finality, a commitment not to rearg and a commitment not to rearg is enforced because of slashing.
00:03:04.950 - 00:03:41.278, Speaker A: And essentially one way of thinking about how to generalize this is if there were a mechanism to do programmable staking and slashing, then block proposers can commit to more such rules. And this gives rise to new kinds of terrible commitments that block proposers can make that gives rise to more interesting mechanisms from manage mev. So before we go and explore some of these interfaces, I just want to give a high level overview of what is restaking through the lens of Eigen layer, the first restaking protocol.
00:03:41.278 - 00:03:58.662, Speaker A: So what happens in Eigen layer is if you're an ethereum staker block proposers are ethereum stakers. So if you're an ethereum staker, you stake in ethereum and then you make a credible commitment on the eigen layer protocol. It's just a series of smart contracts on which you can set your withdrawal credentials.
00:03:58.662 - 00:04:16.842, Speaker A: And when you set your withdrawal credentials, you can basically opt in into new commitments with the same stake. So you could be running middlewares, but you could also run more particularly commitments. On how to run your transaction ordering preferences.
00:04:16.842 - 00:04:40.166, Speaker A: And here, just to give a kind of mental model for how this collector works. Is it's really a two sided market? One side is Ethereum stakers who opt in into securing these new services or to holding by the ordering commitments. Each middleware contains, like, an off chain container that you download and run.
00:04:40.166 - 00:05:04.138, Speaker A: And it also contains a new smart contract that you have to write. Eigenve itself is just a smart contract on Ethereum, which is a container which holds your withdrawal credentials and the Icon contracts can talk to any middleware contract and enforce the series of registration, payment and slashing conditions. So that's the primitive of restaking.
00:05:04.138 - 00:05:30.466, Speaker A: It's called restaking because you're staking in ethereum core as well as opting into other kinds of commitments. Okay, so what I'm going to do with the rest of the talk is give, like, a few examples of what are the possibilities at this interface. I'll also talk a little bit about what are some negative externalities that we want to think about and mitigate in this interface.
00:05:30.466 - 00:05:47.718, Speaker A: One example is event driven activation. So what is going on here? Is imagine that there is a lending protocol, or there is, let's say, CryptoKitties. And if you're on a CryptoKitty, there's this concept called the birth of a CryptoKitty.
00:05:47.718 - 00:06:07.774, Speaker A: In a lending protocol, there's a concept of either refueling your collateral or liquidating somebody. And these are essentially event driven actions. Event driven actions basically means if the state of the Ethereum protocol is something, then the Ethereum blockchain is something, then a certain event needs to be triggered.
00:06:07.774 - 00:06:31.660, Speaker A: This is like a cron job in Linux and right now we do not have a need to blockchain framework to do this. Event driven activations all happen potentially off chain. And what you can do with Eigen layer is if like block proposals are restaked on Eigen layer, then they can opt in to fulfill certain event driven activation services.
00:06:31.660 - 00:07:13.186, Speaker A: And if the transaction that you need to trigger is a function purely of the ethereum state, then what happens? Is, for example, in this case the collateral refueling or repayment or any of these actions is actually a deterministic function of the ethereum state, then the block proposer who's creating this block actually has made a credible commitment on this event activation service. Then essentially they have to include that liquidation or cryptokitty's birth or whatever that is. Otherwise the proposal can get slashed.
00:07:13.186 - 00:07:45.446, Speaker A: So what is happening here is there's already markets for this. For example, there's Gelato and Keeper and chain link keepers and so on, which actually do services like this, but there is no tethering between that service and the block proposer. And so what happens is there is a non attributability if a gelato triggers a transaction and the transaction did not get included, it's not attributable whether Gelato actually triggered the transaction and the proposal didn't include it or something else happened in the middle because things are not attributable.
00:07:45.446 - 00:08:22.730, Speaker A: You do not get strong crypto economic guarantees of these actions. But once you have strong crypto economic guarantees of these actions, you actually change the structure of the protocol quite a bit. Because now, for example, what happens is, let's say if you know that people can set up collateral refueling within a few blocks because there is some significant fraction of proposals opted into this market, then what could happen is for margin lending or for stable coins or any other protocol, the over collateralization ratio is basically just the time to liquidation.
00:08:22.730 - 00:08:43.342, Speaker A: So because you can have very tight time to liquidation, you can actually build much more efficient financial protocols if you had event driven activation. So this is one example of how mev and something like V staking can interact with each other. I'll give another example which I've talked about before called partial block auctions.
00:08:43.342 - 00:09:13.818, Speaker A: We called it also Mev boost plus plus. And the core idea here is mev boost is a mechanism to sell your entire block to a block builder and instead we can think about whether it is possible to sell only portions of the block to the block builder. And the main reason why only the entire block is sold in the mev boost market is if a block proposer double signs a block header, then they will get slashed.
00:09:13.818 - 00:09:39.750, Speaker A: So by having them commit to signing a block header, we get a credible commitment that they will actually include that entire block. But by opting into something like eigen layer, a block proposer can express much more fine grained degrees of freedom. For example saying that I will include a chunk with this hash as the prefix of my block and the remaining I have freedom to fill in myself.
00:09:39.750 - 00:09:44.390, Speaker A: So that's the high level idea. I mean I could just dive into one level. More details here.
00:09:44.390 - 00:10:09.146, Speaker A: The idea is that block builders can send a certain portion of the block which is you can call it the builder part. And a block proposer basically includes the builder part at the front of the block and the remaining is a freedom from the block proposer to include whatever transactions they want at the end of the block. So instead of the block proposer, selling the entirety of the block.
00:10:09.146 - 00:10:36.710, Speaker A: They are only selling one portion of the block and they have freedom to fill in whatever they want at the end of the block. And why is a mechanism like this interesting is because now block proposers can express their own agency in figuring out how to fill the rest of the block. And if you look at the whole mev boost architecture it is tailored around actually making sure that block proposals remain decentralized.
00:10:36.710 - 00:11:14.974, Speaker A: But if the block proposals are decentralized but have no agency in expressing any transactions, then it's not clear what benefit that is. But in a mechanism like this, if the block proposes can express their agency, then you actually get something quite powerful. Okay, so there is a lot more details there I don't want to get into but I just want to keep this conversation at a high level of what are possible synergies of once you have block proposals in ethereum l one restaked, what other things can you start doing? Okay, so another thing that you could do is you basically have a bunch of nodes participating in eigen layer.
00:11:14.974 - 00:12:01.326, Speaker A: Like let's say a block proposer has opted into this threshold cryptography. Then what could happen is transactions that come in come encrypted to a threshold cryptography method where there is a secret share of the keys among the many nodes which are operating which are also restaked on eigen layer. And essentially what they can do is the client sends in transactions which are encrypted to the threshold group and once the transactions are committed with the encrypted with the threshold group, an eigen layer block proposer can take in and sign off that they're going to include only a decrypted version of these transactions.
00:12:01.326 - 00:12:24.650, Speaker A: And once they receive the decrypted version of these transactions from the once the decryption key is available, you can actually go in and include the right version of transactions. A block proposal that commits to an encrypted transaction but doesn't include the decrypted transaction could get slashed here. There is an honesty assumption on this keeper group.
00:12:24.650 - 00:12:43.402, Speaker A: The keeper group is majority honest. Basically it is possible that the decrypted version of transactions is not included. So one way to protect against this is you would say that if you did not get the decrypted transactions you have to just waste your block space for that portion of gas that you sold for the encrypted lane.
00:12:43.402 - 00:13:10.380, Speaker A: And so this helps protect against like even if a majority of these are dishonest and do not reveal the threshold key, then the block proposal just proposes an empty block. There are a lot of ways to tune the incentives here but high level idea is because the block proposal is committing to include the threshold encrypted transactions, they don't include the decrypted ones, then they can get slashed. Okay, so that's another example.
00:13:10.380 - 00:13:26.558, Speaker A: I'll give one more example here before switching to any mitigations. One example is is it possible to sell Blockspace futures. So Blockspace Futures is like I want to reserve a portion of block space from this validator in the future.
00:13:26.558 - 00:13:40.206, Speaker A: And the idea here is you send your transactions to kind of like a super fast mev chain. It could be something like Swao. And this chain needs some amount of reorg resistance and some amount of Zenshit resistance.
00:13:40.206 - 00:14:05.958, Speaker A: And you buy block space a priority and you send your transactions to this like super fast chain. And if the transaction gets included in this super fast chain, then a block proposer who has opted into this block space future actually has to include these transactions in the block. And so essentially block proposers can make credible commitments to include transactions from the future block if they get included into the mev chain.
00:14:05.958 - 00:14:31.022, Speaker A: So this is another example of what we can build. And it's possible to take all these different modules and compose them to build a block. Where some aspect of the blocks come from event driven transactions, some aspects come from options sold to builders, some aspects of the transactions come from threshold encrypted lane, some other aspects come from the proposer having their own freedom.
00:14:31.022 - 00:14:44.774, Speaker A: So this is in some sense like a modular roadmap for how mev can be built on Ethereum by using something like recycling. There are also some risks. I want to just spend the last minute on this.
00:14:44.774 - 00:15:08.510, Speaker A: One risk is because you may need proposals to be more sophisticated. It may lead to more centralization if you have mechanisms like this. But one way to contain this centralization is by basically if there is enough of a rich language for the proposer to express their constraints to the builders and to the relays, then the builders and relays can actually satisfy all these constraints, all the proposals.
00:15:08.510 - 00:15:38.634, Speaker A: There are also other really interesting things that happen with restaking is because in some of these services building on restaked, Eigen layer services can only request the more decentralized committees to participate. It's possible for promoting naturally decentralization and Ethereum itself. There is the possibility of cross domain mev because the same set of nodes now participate in many different domains or services.
00:15:38.634 - 00:16:04.542, Speaker A: And again, the solution here is to opt into rich general purpose cross domain mev markets like Swab to actually build these things. And finally there is risk of actually potentially building censorship markets on something like Agonair. I think this is something we can only keep vigil socially and use social consensus to deal with situations like this.
00:16:04.542 - 00:16:20.900, Speaker A: So that's a high level tour of ban. I think there are interesting intersections between something like Eigen layer or General restaking and MEB and look forward to having discussing with some of you. Thank you.
