00:00:19.470 - 00:00:20.020, Speaker A: You.
00:00:21.990 - 00:00:34.180, Speaker B: Hello, everyone, and welcome to the SuperHack Optimism Workshop how to ship Adapt on Op, Mainet in less than 30 minutes. Joining us today is Soyboy, who will be taking us through this session. And with that, I will pass it over to Soy Boy to get the session started.
00:00:35.350 - 00:00:35.934, Speaker A: Sweet.
00:00:35.982 - 00:00:39.380, Speaker C: Thank you. I'm going to share my screen real quick and then we can get into it.
00:00:42.150 - 00:00:45.546, Speaker A: All right? All hello, everyone.
00:00:45.648 - 00:00:59.040, Speaker C: Thank you for attending this workshop. In the next 30 minutes, I am going to show you how to ship a DAP on Op mainnet using our Optimism Starter kit. So just quick rundown what you should expect.
00:00:59.040 - 00:01:20.654, Speaker C: I'm going to do a quick introduction and background on myself, a demo on how to use our hackathon starter kit and where you can get more support. And I'll try and get some questions in during the presentation, but most likely I'll take them at the end. So, first off, I'm soyboy.
00:01:20.654 - 00:01:36.890, Speaker C: I'm both excited and a little nervous to be presenting this workshop to you today. Not too long ago, I was on the other side of these workshops, and I couldn't be more excited to share that. A couple months ago, just under a couple of months, I started as a developer support engineer at Op Labs.
00:01:36.890 - 00:01:58.506, Speaker C: Kind of been in this space for over five years, just like, floundering around, running nodes, doing hackathons, starting and abandoning side projects, until I stumbled upon Optimism. About two years ago, I was doing a little reading and saw a couple of Carl's presentations, and I was very intrigued. So I started contributing to the collective.
00:01:58.506 - 00:02:15.800, Speaker C: But my red pill moment happened over a short span of time this year when I received retroactive public goods funding. And at the same time, my employer at the time just nuked the company of over 900 people because they were embezzling money. So obviously it wasn't a great situation.
00:02:15.800 - 00:02:29.100, Speaker C: My son wasn't even six months old. My wife just left her job to take care of him, and my last paycheck bounced. But thankfully, I had a nice safety net that came from contributing to a future that I believe in.
00:02:29.100 - 00:02:44.640, Speaker C: And this is kind of why I'm here today. I have that bandwidth to apply at Op Labs, and this is how I'm going to show you how to deploy adapt to Op mainnet in under 28 minutes. So let's get into it.
00:02:44.640 - 00:02:56.866, Speaker C: Cool. So first off, if you need testnet ether, optimism has a faucet. Let me move this out of the way.
00:02:56.866 - 00:03:10.960, Speaker C: I can share a QR code. So Optimism just put out a super chain faucet. Other testnet coins are coming soon.
00:03:10.960 - 00:03:22.100, Speaker C: You can get a little bit by connecting your GitHub account. Or if you have an optimist NFT, you can get one testnet ether per day. So you can go ahead and check that out.
00:03:22.100 - 00:03:41.270, Speaker C: Today I'm going to be running through this starter kit here. Basically, this is a boilerplate for you all to get up and running during this hackathon. I'm going to open up my terminal.
00:03:41.270 - 00:03:58.310, Speaker C: Are you guys getting background noise? I'm going to put in my AirPods because it's kind of loud. One SEC.
00:04:00.920 - 00:04:01.332, Speaker A: Okay.
00:04:01.386 - 00:04:04.890, Speaker C: I'm sorry about that. Got my terminal open.
00:04:06.140 - 00:04:07.290, Speaker A: Okay, cool.
00:04:14.140 - 00:04:17.548, Speaker C: And to start, we're going to make.
00:04:17.554 - 00:04:20.876, Speaker A: Sure that we have Node installed, which.
00:04:20.898 - 00:04:34.560, Speaker C: I'm pretty sure we do. This one was tested on version 18, so I'm going to use version 18. And then you're going to need Foundry, which is like a smart contract development framework.
00:04:34.560 - 00:04:44.964, Speaker C: You can download it simply by doing this curl command and then doing Foundry up, and that'll download it for you.
00:04:45.162 - 00:04:45.910, Speaker A: So.
00:04:47.640 - 00:05:05.690, Speaker C: I already have it downloaded, so it should be fine, hopefully. And then the next step is to clone the repository so you can grab the URL here, but I have it already cloned, so I am going to open that up and share my screen.
00:05:07.180 - 00:05:07.880, Speaker A: Cool.
00:05:08.030 - 00:05:14.252, Speaker C: So before we get running, the first step you want to do is you're going to want to copy this env.
00:05:14.386 - 00:05:17.148, Speaker A: Example file, and you're going to want.
00:05:17.154 - 00:05:33.252, Speaker C: To fill this out with API keys from the different services that we're using and the RPC URLs. This will help power the back end, and it'll get you up and running quickly. It is a requirement, but all this stuff is free, so it shouldn't be a big deal.
00:05:33.252 - 00:05:34.756, Speaker C: You're going to copy it to your.
00:05:34.778 - 00:05:37.472, Speaker A: Own file, a env file.
00:05:37.616 - 00:05:51.272, Speaker C: I'm not going to open it up because then I will share all my keys, and that's not ideal for me. And then once you have your environment variable set up, the next thing to.
00:05:51.326 - 00:05:57.272, Speaker A: Do is install your dependencies.
00:05:57.336 - 00:06:06.190, Speaker C: So you get your Node modules. You got all your dependencies, and you're ready to rock and roll. And then you can do NPM run dev.
00:06:06.190 - 00:06:21.376, Speaker C: And if that all went smoothly, you're going to be able to open up and see this screen here. And then I can kind of talk about what's here. You can connect your wallet.
00:06:21.376 - 00:06:35.384, Speaker C: This is my testing wallet. And what we have here is this is the front end. It's powered by the server thing, VEAT, and it's an extremely quick tool.
00:06:35.384 - 00:06:53.310, Speaker C: We have the Rainbow Kit, which gives you a great connect wallet button that you just saw. It'll let you switch between networks and see the account information here. It lets you kind of abstract away the wallet connect stuff so you can start building the interesting stuff.
00:06:53.310 - 00:07:08.400, Speaker C: And then on the back end, which we'll walk through, is we have Wagme, which powers and generates the react hooks for the DAP. All this stuff is really cool. I wasn't digging into a lot of the developer tools, and they've gotten a lot better lately.
00:07:08.400 - 00:07:24.428, Speaker C: So this DAP here is hooked up to our V Zero of the Attestation station. It's a very simple, smart contract that allows you to make Attestations about wallet addresses. Basically, it's just very straightforward reason rights.
00:07:24.428 - 00:07:31.930, Speaker C: You can add a message, confirm the transaction wallet and then we can get going from there. So I'm going to switch to.
00:07:33.900 - 00:07:34.552, Speaker A: Actually.
00:07:34.686 - 00:07:45.100, Speaker C: I'm going to switch to Op Correlli, this test network. And I'm going to show you a quick demo, hello, Super Hackers.
00:07:45.680 - 00:07:46.590, Speaker A: A test.
00:07:47.280 - 00:07:57.600, Speaker C: They should open up the wallet. You can confirm the transaction. It gives you a nice link to Ether scan it, indexes it ideally pretty quickly.
00:07:57.600 - 00:08:11.700, Speaker C: Yeah, very fast. And then it updates the smart contracts with a new Attestation, Hello Super Hackers. And then the Wagme hook, it kind of waits in the background, grabs that information and it displays it for your users.
00:08:11.700 - 00:08:21.284, Speaker C: So this is like the high level on the outside of the DAP, so we can go ahead and do a quick code walkthrough as well. So I'm going to kind of migrate.
00:08:21.332 - 00:08:24.936, Speaker A: Over here and I'll try and make.
00:08:24.958 - 00:08:38.132, Speaker C: This a little bit bigger for you. Maybe too big to start. I guess I'll start with the front end code.
00:08:38.186 - 00:08:40.244, Speaker A: It's all in the source directory here.
00:08:40.442 - 00:08:52.440, Speaker C: It's pretty straightforward react stuff. You got your root of your project in here, your components, which you're going to add in. This is the attestation component.
00:08:52.440 - 00:08:55.544, Speaker C: What I was talking about with Wagme.
00:08:55.592 - 00:09:01.116, Speaker A: Is in our scripts here we have.
00:09:01.138 - 00:09:16.396, Speaker C: A very nice when we run the Dev script, we do run Wagme. And this generates all of the smart contracts, abi information, all of the functions.
00:09:16.428 - 00:09:18.448, Speaker A: And so you can use it kind.
00:09:18.454 - 00:09:28.580, Speaker C: Of natively in your front end part. So it creates this generated file. And this has all the information that you're going to need to interact with the smart contract.
00:09:28.580 - 00:09:51.852, Speaker C: I checked it out, it's pretty neat. So just walking through the simple component, what we have is you're going to grabbing the address from the connected wallet, just some state for setting that testation, a key value pair. This is just how the version zero of this contract works.
00:09:51.852 - 00:10:18.180, Speaker C: You just write and read basically like a JSON or a dictionary or whatever like that. And then this is the cool part right here with Wagme, it generates these hooks, so it prepares the write to the smart contract with your arguments. You feed it in there and when that's all set and ready to go, you're going to use the Attestation write, which is also generated by Wagme.
00:10:18.180 - 00:10:38.620, Speaker C: And then this hook right here, this one, it waits for the transactions. And then this is going to guide your user flow. So like on success, you can direct what happens next if it refreshes the page or maybe it shows something else to kind of guide this user journey.
00:10:38.620 - 00:10:53.484, Speaker C: Yeah. So that's an overview of the front end stuff, getting into the actual smart contract code. This is the Foundry arena in contracts.
00:10:53.484 - 00:11:15.880, Speaker C: Here in Source, you're going to see that test station station, like I said, V zero of this contract. And it comes with a counter, a simple counter contract, some tests for it, and scripts. So these are the deploy scripts that will take your environment variables and then deploy it onto the blockchain.
00:11:15.880 - 00:11:40.666, Speaker C: So I'm going to clear out all this mess and we're going to kind of show you the next part, which is kind of neat. Not that I'll show you that later. Okay, so we got through generating the APIs and react hooks, deploying the contracts.
00:11:40.666 - 00:11:51.490, Speaker C: So this is pretty cool. So we killed that. We have a very nice deploy script already set up and ready to go.
00:11:51.490 - 00:11:58.430, Speaker C: It's here. It grabs your environment variables. It uses Foundry to compile your contracts.
00:11:58.430 - 00:12:16.242, Speaker C: Oh, this is an older version. It uses the RPC URL to write this onto the smart contract. It uses your private key for your testing wallet to sign it and pay for gas.
00:12:16.242 - 00:12:29.150, Speaker C: And then it uses Ether scan to verify. So if you wanted to deploy this counter contract, all you have to do is do NPM run deploy.
00:12:31.250 - 00:12:33.774, Speaker A: And that.
00:12:33.812 - 00:12:50.926, Speaker C: Command that I walked you through, it'll start compiling the contracts, and then it'll deploy onto the test network. So this is my address that I deployed from. This is the address that we're deploying to transaction hash, and that it was verified.
00:12:50.926 - 00:12:53.330, Speaker C: So if I go on to Ether scan.
00:12:55.290 - 00:12:56.040, Speaker A: Here.
00:12:58.490 - 00:13:10.540, Speaker C: You'Ll see it's deployed. You have all the contract information from its verification, and you're able to even interact with it directly through Ether scan, which is pretty cool.
00:13:12.830 - 00:13:14.140, Speaker A: The next step.
00:13:16.670 - 00:13:40.606, Speaker C: Is how you can develop with the front end and the smart contracts together in a local environment. So what we're going to be doing here is we're going to be developing with Anvil, which is take a fork of an op chain and then it'll allow us to deploy to it and work locally. So I actually updated this, but I don't have the most updated version.
00:13:40.606 - 00:13:53.334, Speaker C: So it looks like we're going to deploy Anvil. But what we want here is Station. That's that's the contract so we can set it up.
00:13:53.334 - 00:14:08.194, Speaker C: I didn't pull the latest version. Sorry about that. So, to get your local Anvil fork running, you do NPM run dev boundary, and that'll spin up the front end on that server.
00:14:08.194 - 00:14:17.966, Speaker C: And it'll also give you ten testing addresses. So these are the available accounts. They give you 10,000 Ether and the.
00:14:17.988 - 00:14:21.582, Speaker A: Private keys and the wallet mnemonics.
00:14:21.726 - 00:14:46.422, Speaker C: And right now, it's listening to the local blockchain for different events to happen. So if we want to deploy our smart contracts, we can do NPM run deploy Anvil. And this will deploy the Attestation Station smart contract onto our local development blockchain.
00:14:46.422 - 00:15:06.750, Speaker C: So this is the Anvil wallet that they generated for me. And you can see on our blockchain, our local blockchain, it was deployed there. So what's really neat, too, is that now we can connect our wallet.
00:15:08.210 - 00:15:12.814, Speaker A: Oh, no, we've been logged out.
00:15:12.852 - 00:15:13.840, Speaker C: Give me a SEC.
00:15:40.140 - 00:15:41.450, Speaker A: Sorry about that.
00:15:42.620 - 00:16:05.368, Speaker C: We can connect to the Foundry local blockchain. So as you can see, it updated locally as we connected. And what's really cool is that we can take these addresses here and we can just import them directly into our testing wallet import account there.
00:16:05.368 - 00:16:25.810, Speaker C: You take the private key from anvil import, and now you're testnet rich here. So if you want to switch, you can go ahead and connect this new wallet here. And now we have the front end connected to the local blockchain that we're running.
00:16:25.810 - 00:16:35.840, Speaker C: And if we make any interactions with the front end, it'll process it through this forked blockchain. So, hello super hackers.
00:16:37.860 - 00:16:41.076, Speaker A: We're going to test we're going to.
00:16:41.098 - 00:16:46.244, Speaker C: Use our Foundry wallet here to confirm. And it's all very quick. It goes here.
00:16:46.244 - 00:17:02.350, Speaker C: Hello, super hackers. And the information is Prudent process there. I'm going to take a pause here and take a look at the questions that are coming through.
00:17:02.350 - 00:17:20.976, Speaker C: Looks like does this deploy to base as well? Can you show what does that say? Ether scan interaction? Yes to the first question. I don't know about the second one. If you want to deploy to a.
00:17:20.998 - 00:17:23.136, Speaker A: Different chain, you're going to go ahead.
00:17:23.158 - 00:17:25.552, Speaker C: And go to your Wagme configuration here.
00:17:25.686 - 00:17:28.404, Speaker A: In the root of your directory and.
00:17:28.442 - 00:17:41.496, Speaker C: You'Re going to add different chains here, right? So if we are adding base, you're going to want to add base and the address there. And then you'll want to take a.
00:17:41.518 - 00:17:44.856, Speaker A: Look at this deploy script and make.
00:17:44.878 - 00:17:59.390, Speaker C: Sure that you're using the right RPC URL. So you're going to want to talk to the base RPC and then you want to make sure that you have testnet ether in a base wallet as well. So that should work.
00:17:59.390 - 00:18:23.780, Speaker C: What's the main difference between the Starter kit and Scaffold ETH? I think that it's just like the tech stack that we're using. What's the shitload at the top here? This one is with optimism. Wagme Foundry rainbow, kit and veet.
00:18:23.780 - 00:18:38.584, Speaker C: And it's the most modern and robust Web three full stack development stack. I don't know what the stack is for Scaffold, but I'm assuming that it's got to be somewhat different, otherwise we.
00:18:38.622 - 00:18:42.110, Speaker A: Probably wouldn't have made it.
00:18:42.720 - 00:18:49.550, Speaker C: Okay, so that answers those two questions kind of getting back into this.
00:18:50.480 - 00:18:54.688, Speaker A: So we now have showed you how.
00:18:54.694 - 00:19:04.860, Speaker C: To deploy onto a local testnet. We have Foundry up and running. We can use the command line to do deploys or interact with the contract.
00:19:04.860 - 00:19:15.552, Speaker C: We also have the front end running and going so you can iterate on your projects quickly. So you can be making changes on your front end without having to configure the back end. So that's kind of like the takeaway.
00:19:15.552 - 00:19:42.520, Speaker C: Ideally, we'd be able to use all this together in conjunction to make a cool DAP for the hackathon. And I realized the name of this is a bit of a misnomer and I don't know if I'm going to have to shave my head for this reason, but I'm not actually going to deploy onto Mainnet because I don't have a wallet with Ether in it on this computer. So kind of a bummer shave.
00:19:42.520 - 00:19:45.116, Speaker C: Yeah. All right. I'm pretty close, honestly.
00:19:45.116 - 00:19:49.312, Speaker C: I was talking to the ETH Global guys before this, like, the buzz cut.
00:19:49.366 - 00:19:52.576, Speaker A: No big deal, but yeah.
00:19:52.598 - 00:20:00.450, Speaker C: So that's the quick run through. Okay, sweet. I guess I can get through the rest of this.
00:20:00.450 - 00:20:09.930, Speaker C: Yes, I ran through all of that. I guess I can go through and do some more Shills really quick.
00:20:10.620 - 00:20:14.936, Speaker A: So this was actually a demonstration with.
00:20:14.958 - 00:20:32.604, Speaker C: Our Attestation version, station version zero. What we're trying to do is we're trying to get more experiments with identities on decentralized identity. So if you're interested in that, we have some information on our docs that you can scroll through.
00:20:32.604 - 00:21:01.432, Speaker C: Like, if you're looking for ideas for your hackathon, these are available. Lewis says, I'm not familiar with Wagme, but does it abstract away direct calls to Ethersjs? Wagme is responsible for making or generating the hooks, so it does do some of that abstracting away? Like, you don't have to deal with getting the Abi. So, I guess.
00:21:01.432 - 00:21:08.100, Speaker C: Yes. The answer to that is yes. And then in this project specifically, we actually don't use Ethers.
00:21:08.100 - 00:21:09.130, Speaker C: We use.
00:21:12.160 - 00:21:14.220, Speaker A: I've never said this word out loud.
00:21:15.200 - 00:21:21.756, Speaker C: Viem vim. It's like a newer version. And on their documentation, I was checking it out.
00:21:21.756 - 00:21:29.760, Speaker C: If you're used to Ethers version five, there is a translation guide there that you can look on their documentation.
00:21:30.500 - 00:21:31.250, Speaker A: Sure.
00:21:32.580 - 00:21:50.028, Speaker C: Back to my shill. We just launched our Attestation Station version one in conjunction with EAS, who is another partner of this hackathon. So that's pretty neat.
00:21:50.028 - 00:22:06.264, Speaker C: If you're looking for something to experiment with, I think that's a good place to check it out. And if you're still looking for new ideas, we have this great repository called Ecosystem Contributors Contributions.
00:22:06.312 - 00:22:07.276, Speaker A: Excuse me.
00:22:07.458 - 00:22:26.372, Speaker C: And there's a lot of different projects and ideas that have been put out here, so if you're looking for a DAP, you can check it out. All of the ideas here are as issues, so you can scroll through and try and get some inspiration that way. But yes, that's it.
00:22:26.372 - 00:22:37.156, Speaker C: And then kind of reeling it back. We if you're used to working with promises wagme will make you use try and catch. Okay.
00:22:37.156 - 00:22:40.280, Speaker C: Sorry. Reading the questions out loud.
00:22:41.180 - 00:22:42.200, Speaker A: I think that's correct.
00:22:42.270 - 00:22:54.508, Speaker C: Yeah. If you need additional support throughout the hackathon, you can find me in the discord. I'm in the Partner optimism channel.
00:22:54.508 - 00:23:06.268, Speaker C: So I'll be doing my best to answer questions there. And please do your best to help each other out in there. And then I kind of did run through this really quickly.
00:23:06.268 - 00:23:26.610, Speaker C: I think I was a little extra nervous. But if you have any more questions, please drop them in the chat and we can kind of talk about them right now. I can stop sharing my screen.
00:23:30.710 - 00:23:36.082, Speaker B: Yeah, I guess you could have made that the head shaving bet and it would have worked out.
00:23:36.216 - 00:23:40.360, Speaker C: Yeah, I guess so. I didn't deploy, but I showed you how to do it, so we'll see.
00:23:41.850 - 00:23:47.560, Speaker B: Yeah. If anybody has any questions, feel free to type them in the chat or take yourself off mute. We still have some time.
00:23:53.410 - 00:23:56.330, Speaker C: Looks like we still have some AIS in the chat.
00:23:56.490 - 00:23:58.350, Speaker B: Yeah, people's otters.
00:24:02.530 - 00:24:06.660, Speaker C: But yeah. Can you share the Optimus ideas page? Yes, I can.
00:24:12.390 - 00:24:26.980, Speaker A: Here we go. I had a quick question. What's up? I'm, like, really new to this stuff.
00:24:27.130 - 00:24:29.092, Speaker C: But would you say because the focus.
00:24:29.146 - 00:24:30.468, Speaker A: Is on Op stack that a lot.
00:24:30.474 - 00:24:37.480, Speaker C: Of the submissions should be in this framework, or really?
00:24:37.550 - 00:24:45.000, Speaker A: As long as you have a smart contract and some front end code to make it adapt, is that a viable submission?
00:24:45.580 - 00:24:53.790, Speaker C: That's definitely a viable submission. This is ideally to help you just get up off the ground, up and running, because it's just ready to go.
00:24:54.320 - 00:24:55.020, Speaker A: Right.
00:24:55.170 - 00:25:04.530, Speaker C: So if you start running this project, you can just make Tweaks into it, but if you have a stack that you're more comfortable with, you should definitely use that.
00:25:06.980 - 00:25:10.850, Speaker A: Awesome. Okay, cool. I'm definitely looking to that.
00:25:10.850 - 00:25:12.530, Speaker A: Yeah.
00:25:13.460 - 00:25:19.190, Speaker C: And then, like I said, I'll try and be in discord too. So if you have any follow up questions, I can try and help.
00:25:32.280 - 00:25:45.910, Speaker B: Awesome. Anybody else have any other questions before we close the session? And yeah, if not, thank you, Soy Boy, for the great workshop. Under 30 minutes.
00:25:45.910 - 00:25:56.502, Speaker B: So fantastic. And thank you all people, everybody, for attending the second workshop of the day. We have one more and then the team formations after this.
00:25:56.502 - 00:26:02.154, Speaker B: After that. But yeah, if there are no more questions, we'll go ahead and close it up early. So cheers.
00:26:02.154 - 00:26:03.470, Speaker B: Thanks again. Sorry, boy.
00:26:03.620 - 00:26:04.780, Speaker C: Yeah, for sure. Thank you.
