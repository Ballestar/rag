00:00:00.410 - 00:00:00.606, Speaker A: All right?
00:00:00.628 - 00:01:07.090, Speaker B: So in this video, let me introduce you to what's you know, probably the most kind of the most natural sort of reasonable solution to how to set transaction fees in a blockchain protocol, namely by having the users submit them themselves in what's known as a first price auction. So Nakamoto's original proposal for Bitcoin that included first price auctions as a transaction fee mechanism, it's still used in Bitcoin for that purpose this to this day. It was also used by Ethereum until August 2021, when they switched to a new transaction fee mechanism that we'll talk about later in this lecture. So in a blockchain protocol that uses a first price auction to select transactions, that means that you, as the creator of a transaction, when you submit it into the network, you are responsible not just for providing things like your digital signature. You're also responsible for offering a bid how much you would be willing to pay for your transaction to be included in the blockchain and executed. And naturally enough, that bid is going to be denominated in the protocol's native currency, which is obviously super convenient.
00:01:08.470 - 00:01:08.946, Speaker A: All right?
00:01:08.968 - 00:02:06.210, Speaker B: So naturally enough, if your transaction never gets executed, never gets included into a block, you don't have to pay your bid. But if it does, if it is sort of chosen to belong to some block in the blockchain, then you are going to have to pay your bid. So the question you may then ask is, okay, pay it to whom exactly? To whom is that payment directed? Well, if you think about it, it was the block producer that made the decision to include your transaction rather than other transactions. So I guess the natural place for this payment to go is to the producer of the block. So in a proof of work blockchain like Bitcoin or today's Ethereum, that would be going to the miner of the block that includes your transaction. Okay? So if you submit something like a simple currency transfer as a transaction moving sort of native coins from account A to account B, when that gets executed, actually two things happen. So, first of all, the movement of coins that you put in your transaction, but then secondly, also some of your coins goes to the miner of the block.
00:02:06.210 - 00:03:10.262, Speaker B: Now, so the usual wrinkle with the longest chain protocol like Bitcoin or Ethereum, it's not really accurate to say that the transaction creator's bid is transferred immediately to the miner because it's only going to count. It's only going to be a valid transfer that other people pay attention to if this block winds up on the longest chain and then extended by some number K of additional blocks. But whenever that happens, whenever this block is sufficiently deeply ensconced in the longest chain that other people are sort of willing to accept those coins as payment, at that point, you should think of this bid as being permanently transferred to the miner. Now, given that all of these bids are just passed on to the producer of a block, it starts becoming pretty easy to guess how a typical block producer, how it's going to choose which transactions go in its block. And indeed, this is consistent with what you often see in practice, which is the block producer is going to, first of all, pack the block as full as possible, right? And we're happy about that. We want 100% utilization. And furthermore, it's going to pack it with the transactions that have offered the highest bids.
00:03:10.262 - 00:04:00.060, Speaker B: That's how this block producer will be able to maximize its revenue from transaction fees. And if you think about it, we're actually perfectly fine with this. Also, a miner or a block producer maximizing transaction fee revenue by including the highest tips. We wanted to make sure that users who are creating very high value transactions have a way to differentiate themselves. And they can do that by submitting a high bid, and then they can expect it to be included in a block relatively quickly. Okay, so that's a first price auction, right? Simple enough. Users just submit bids along with their transactions, and block producers can do whatever they want, but one expects typically they're going to select the transactions that offer the highest bids.
00:04:00.060 - 00:04:30.528, Speaker B: Now, I want to point out that these rewards to the block producer, this transfer of the transaction fees, that is additive with the rewards we were talking about. Last lecture, lecture ten, the block rewards. So a block producer just gets the sum of both of those, the block reward, that's newly minted coins. So like 6.25 Bitcoins or two ether per block. Whereas the transaction fees, they're not newly minted coins. They're a transfer of existing coins from the creators of the transaction to the producer of the block.
00:04:30.528 - 00:05:03.760, Speaker B: So this is really a second stream of revenue for block producers, additive with the block reward. And I want to emphasize that these two sources of rewards, they're really quite different. So I would actually think of them conceptually as distinct things. For example, the block reward, that's sort of predictable, that's sort of embedded in the protocol code. What the block rewards are going to be, it's computed by the protocol. The only thing the protocol knows about is its own native currency. So of course, those block rewards will be denominated in the native currency.
00:05:03.760 - 00:05:57.200, Speaker B: Now, while the block rewards may be predictable in terms of the amount of native currency, it's unpredictable in terms of the USD cost, right? So as the coin price rises and falls in USD terms, so too will the value of the block reward. So in effect, what really is controlling the US. Dollar value of the block rewards is the current demand for coins, demand for the native currency. For example, if there's a bigger demand for Bitcoins, that's going to lead to a higher USD price of Bitcoins, and that's going to lead to a higher USD value of bitcoin's block rewards. Transaction fees, meanwhile, differ from block rewards in pretty much all of these dimensions. So first of all, transaction fees are definitely not set by the protocol, not with the first price auction. They are set by users themselves.
00:05:57.200 - 00:06:45.708, Speaker B: So they're dictated by the market. And so here I mean the market for space on the blockchain as opposed to with the block rewards, where we were talking about the coin price, that's really the market for the coin itself, the market for the currency. What determines the transaction fees is the market for execution on the blockchain. And let me emphasize, these two are not the same thing. So each of these two notions of demand can vary independently of each other. For example, it's possible that for some reason sort of speculation increases around some blockchain protocol driving up the price of the coin, even though the sort of demand for using the chain is staying exactly the same. Maybe the speculation is based on a prediction that in the future there will be higher demand for that blockchain's resources.
00:06:45.708 - 00:07:23.628, Speaker B: Conversely, you might have an NFT drop on a blockchain like ethereum, which makes all of a sudden the demand to get execution on the ethereum blockchain very high because everyone wants to sort of mint one of a limited run NFTs. But it could be that sort of in the sense of investing in the currency, nothing's changed. So the ether price could stay exactly the same even though the demand for blockchain execution has gone up a lot. So these are different things. So the market for the coin is what determines the USD value of the black rewards, the market for space on the blockchain. That's what dictates the size of the.
00:07:23.634 - 00:07:27.416, Speaker A: Transaction fees again in USD terms now.
00:07:27.458 - 00:07:46.452, Speaker B: Because transaction fees are really dictated by sort of external demand how much people are willing to pay in dollar terms for the transactions to be executed, even though technically it's going to be implemented as a native currency transfer. Conceptually, it's worth thinking about transaction fees as fundamentally denominated in US.
00:07:46.506 - 00:07:50.404, Speaker A: Dollar terms, not in the native currency, right?
00:07:50.442 - 00:08:34.112, Speaker B: So for example, let's go back to the example of ethereum. And let's imagine that the coin price doubles, but actually the exact same people as before want to use the blockchain, and they're willing to pay exactly the same thing they were before in USD terms to use the blockchain. So then on the one hand, the block reward will have doubled in USD terms because the block reward was fixed in the native currency and the price just doubled, whereas you would expect the transaction fees to be quite stable in USD terms. So in the native currency terms, you'd actually see transaction fees only half as high. And that's because each coin is now worth twice as much. So that would give you transaction fees with the same USD level as you were seeing before. And that reflects the fact that there's been no change in how much people are willing to pay to have their transactions included.
00:08:34.112 - 00:09:24.000, Speaker B: That's the same as before. So the coin price being higher just means you're going to use fewer of those coins to pay the exact same dollar amount. So I hope that makes clear the fact that these two different sources of revenue, the block rewards and the transaction fees, they're really conceptually quite different. They have quite different properties and depend on quite different things. And in fact, what we're going to do in the next video is we're going to see that large transaction fees actually exacerbates the selfish mining attacks that we talked about last lecture in lecture ten. So if transaction fees are both sort of generally high and quite variable, there's actually stronger incentives to do the sorts of forking attacks that we were thinking about in the last lecture. So we'll talk about that in detail in the next video, and then we'll move on to talking about Ethereum Williams new transaction fee mechanism, EIP 1559.
00:09:24.070 - 00:09:25.740, Speaker A: So I'll see you there. Bye.
