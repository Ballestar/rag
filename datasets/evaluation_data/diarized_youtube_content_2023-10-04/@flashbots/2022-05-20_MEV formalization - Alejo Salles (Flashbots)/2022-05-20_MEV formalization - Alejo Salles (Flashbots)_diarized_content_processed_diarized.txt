00:00:00.330 - 00:00:22.240, Speaker A: Hello. All right, welcome everyone, to the Dark Mode. So when I've given talks about mev in nonmev specific context, I always start with some explanation of what mev is.
00:00:22.240 - 00:00:49.686, Speaker A: I have these slides with colorful emoji or have the Dark Forest, but here, I don't really think I need to explain mev to you all. It's a pity I like using these lights, but yeah, not needed here yet. I would say that we don't have definition we all agree on around mev.
00:00:49.686 - 00:01:03.822, Speaker A: So this is a definition you already saw in Phil stock. The definition in the OG Flashrots paper, it's mev is the total amount of ether miners, blah, blah, blah. So here you already have one thing that stands out ether.
00:01:03.822 - 00:01:13.554, Speaker A: Right? There's mev in other chains. So we know that. So this is already outdated, right? And miners in particular is going to be outdated soon.
00:01:13.554 - 00:01:26.482, Speaker A: So perhaps another more recent definition goes, mev is a measure of the profit and minor but wait, there we're talking about profit. The I was more talking about value extracted. So revenue.
00:01:26.482 - 00:01:39.110, Speaker A: So are we talking about profit? Are we including costs or not here in the definition? Another definition this is from mev. Explore. Mev is a measure of the total value that can be extracted.
00:01:39.110 - 00:01:50.462, Speaker A: permissionlessly? permissionlessly. We haven't been talking about that before. Is it permission? Is it permissionless? What are we talking about here? So these are subtle differences, right? But I'm taking all this.
00:01:50.462 - 00:01:55.066, Speaker A: This is an OG paper. Second one is from mev. And me by Charlie.
00:01:55.066 - 00:02:01.806, Speaker A: Noyes. Third one is from flashboard semi v explorer. So all these are like, what I would call mainstream definitions of mev.
00:02:01.806 - 00:02:23.622, Speaker A: If you venture far out there, you have statements like, ARBs are not mev. Yeah, I don't know what they had in mind here, really, what definition they have in mind in this case. But anyway, what I'm saying is, it's to me apparent that we do not have yet consensus on definition.
00:02:23.622 - 00:02:36.666, Speaker A: And if you look at the acronym, even, there's no consensus on what that means, right? It was minor extractable value. We rebranded it to Maximal Extractable value. So which is it? I'm talking about the colloquial definitions.
00:02:36.666 - 00:03:05.154, Speaker A: But if you want to answer research questions, important research questions, as like, does this certain fair ordering protocol eliminate mev, for instance, right? This question requires a formal definition, right? I want a theorem to like, I want, given protocol P, that implies mev equal to zero, right? For that I need a formula for what mev is. We don't have that right now, is my claim. Other questions that we're interested in is like, which decentralized exchange design minimizes mev exposure.
00:03:05.154 - 00:03:24.074, Speaker A: Again, we need a formal definition for this, right? So we don't have like, a colloquial one, much less we don't have a formal one that we agree upon. But wait, we have data, right? We have this in Mev explorer you explore. You see this number? $600 million extracted mev.
00:03:24.074 - 00:03:36.498, Speaker A: And we have plots about how that changes in time and so on. So what's going on here? Computers still prefer symbols to natural language, right? So there's something, certainly a formula. We're plugging in there to compute that.
00:03:36.498 - 00:03:51.558, Speaker A: And, yeah, certainly enough. If you hover with the mouse, you see that I there, and you click on it, and there's like extracted mev includes successful mev transactions without remove. Anyway, that's like an attempt of an explanation of what that number is.
00:03:51.558 - 00:04:06.454, Speaker A: Then there's a data page there that you can go and certainly after the formulas there. But I'm not sure if all of you have checked those formulas. I'm not sure if all of you would agree in that those formulas up there are what you think about when you think about mev.
00:04:06.454 - 00:04:36.030, Speaker A: Right? So, anyway, there's, again, several things one can talk about when talking about mev. And so in this talk, what I will attempt to do is convince you that there's no consensus around what mev is, in particular, a formal version of it, and try to give you a few pointers of why this is why it's difficult to get a consistent definition of me. Or what are the caveats one has to take into account to get to a definition.
00:04:36.030 - 00:05:04.554, Speaker A: Right? So first thing I'm going to do, I'm going to separate between two different concepts that we sometimes mix together. And these are the concept of mev on the right hand as a theoretical entity, the extractable value, the total extractable value, that's very much theoretical thing. It's the one we want to minimize or want to talk about in these formal questions like which decentralized exchange design minimizes semicosure.
00:05:04.554 - 00:05:34.934, Speaker A: That's like the big set, unattainable, if you will, that we want to talk about in theory, right? But then on the left hand, we have this other quantity, the one more tied to the graphs I was showing you before that I like to call realized extractable value. That's the actual value that's being extracted, right? What of that mev is actually realized in extraction? This is a bottom sub approach, right? In Mev Explorer, if you look at the code behind that, that's mev inspect. There's like inspectors there.
00:05:34.934 - 00:05:50.042, Speaker A: And okay, they look, they see an ARP, okay, they add up to the count. They look around, they see some liquidation, they add up to the counter. So this is like sort of growing set of value that we are taking into account, like expanding into this vast thing.
00:05:50.042 - 00:06:04.314, Speaker A: That's the theoretical extractable value that's out there. So I think it's important to make a difference between these two things because, again, when we saw the graphs, we're calling that mev. But that's very different from the theoretical notion of extractable in principle.
00:06:04.314 - 00:06:12.340, Speaker A: So I'm going to talk a little bit about each of these. We're going to start with the realized extractable value. A few words on that.
00:06:12.340 - 00:06:21.682, Speaker A: So realized extractable value. Think you have let's do some schematics. Here we have like a chain, right? And a P is a producer miner.
00:06:21.682 - 00:06:41.510, Speaker A: Now, in proof of work, that's extracting value from the chain. So this is the simplest setting, right? There's an arrow of value flowing from the blockchain to the producer. So this could be thought of as, okay, is this blue arrow the realized extractable value? Perhaps.
00:06:41.510 - 00:07:19.580, Speaker A: But we know that in practice, the picture is a bit more complex, right? It's typically not the producers that particularly with flashboards, right? It's not the producers who extract mev directly, but searchers who do the extracting. So there's searchers extracting mev and then searchers paying some cut of that mev to producers, right? So there's a red arrow going from the chain to the searchers and then some red blue arrow going from searchers to producers. This already makes the picture more complicated because which is the realized extract value? Is it the red arrow? Is it the sum? Is it the subtraction of the arrows? So you have to choose, right? Define it.
00:07:19.580 - 00:08:09.990, Speaker A: If you dig a bit further, it's actually more complex, right? Producers are actually paying an opportunity cost to include like an mev extracting transaction as opposed to a vanilla transaction from the mempool, right? So there's an arrow that's flowing out, right? So what do we do with this arrow again? Do we subtract it, do we not? Again, more complex picture. In actuality, if you think about priority gas auctions, there's other searchers, perhaps S Prime also trying to extract mev and are fighting with S to get the opportunity and they sometimes lose, so they don't get the mev, but they still pay minor fees, right? So it's another arrow here flowing from searchers to producers. Should we include that? Should we not? So my approach here is to think out the total mev activity in the network with three terms.
00:08:09.990 - 00:08:21.578, Speaker A: Right? There's the realized extracted value for the searchers. And these are the red arrows. So the arrows going in enter the equation with a plus sign and the arrows going out enter the equation with a minus sign.
00:08:21.578 - 00:08:36.930, Speaker A: So it will be the red arrow minus the red arrow going out for revs. That's a realized external value for searchers. There's a realized external value for proposers that's again, arrow going in with a plus arrow going out, the opportunity cost with a minus.
00:08:36.930 - 00:08:57.634, Speaker A: All of that is the rev. And note that there's two arrows, the blue and red there, that cancel each other because they enter with different signs, right? So this is the total realized extractable value in this picture. And then there's a separate arrow that I choose not to include in realized extractable value that I call the extractable value cost.
00:08:57.634 - 00:09:37.490, Speaker A: Note that this arrow is only there because there's mev extraction going on, right? We have this process of mev extraction and that sort of yields this new activity that searchers paying miners for something they're not getting. Right? So this Green Arrow only exists because there's extractions. So I don't think this is part of the actual extracted value, but it's an extra thing and this is exactly what imposes a cost to the network, right? This is what penalizes users, this is what blows the chain, this is what raises gas fees and this is what ultimately, I believe Flashrots was successful in reducing this cost for the network.
00:09:37.490 - 00:09:55.740, Speaker A: This PGA. Now in Flashrots, if you use Flashrots, doesn't happen, right? So you don't have this extra Ro that's bad for the network, right? So anyway, if you're interested about this, I have like a write up I did a while back. So I'm more than happy to discuss these ideas with anybody interested.
00:09:55.740 - 00:10:13.522, Speaker A: Okay, so that's in the rev front. So now I'm going to talk a little bit about mev. So first let me say that as Phil mentioned in his talk just now, there's no formal definition in the OG Flashboys 2.0
00:10:13.522 - 00:10:32.646, Speaker A: paper, which some of you might find surprising. So I'm going to start quoting the clockwork finance definition phil already explained here. It's rewritten a little bit to simplify notation, but conceptually it's the same, right? And I'm not going to dig too deep here because Phil already explained it.
00:10:32.646 - 00:11:00.062, Speaker A: And essentially what you have to take out here is that it's a difference of balances, the extracurricular value, essentially it's a difference of balances that a certain player can attain by choosing a certain set of blocks. Right? So Phil said some people disagree that that's the definition and probably referring to me, I disagree. I think there's problems with this definition as there is with any definition out there, really.
00:11:00.062 - 00:11:13.134, Speaker A: So what's the problem with this definition? Because again, it's tricky to get one definition that works. So to me the main problem with this definition is the idea of player. So what is where P there in the equations above is a player.
00:11:13.134 - 00:11:31.234, Speaker A: But in that paper they don't elaborate really on what a player is. And if you think of it, there's like at least three distinct notions of what a player could be. And so the first one is and again, they're all intertwined, but I think they're distinct and we have to clarify that a little bit further.
00:11:31.234 - 00:11:46.942, Speaker A: So first meaning, possible meaning of player is a player as a transaction signer, right? An ethereum signer with an address and some balance in it. Okay? So that's one meaning in which P can be a player. Second meaning is the player as an actor in the protocol game.
00:11:46.942 - 00:12:05.654, Speaker A: A player like a node operator that has some stake and is validating and so on and has ordering rights or doesn't have them. It's their turn to propose or not. And even third notion of player, it's a player as a node operator, right.
00:12:05.654 - 00:12:16.962, Speaker A: Player as a peer to peer, part of a peer to peer network that has to think about latencies and so on. So this is yet another possible meaning. And again, these are all tangled together, but it's not explicit.
00:12:16.962 - 00:12:37.002, Speaker A: What are we talking about when we talk about that? And I think we have to make it explicit. So this is one problem, but more importantly, I think there's a problem with permissionless. Remember that idea? And one of the definitions that mev is a permissionless value, I think that's critical, right? To me, mev is about the permissionless extraction.
00:12:37.002 - 00:13:14.874, Speaker A: Because think about what would happen if a player here has a pending AirDrop to claim, right? This definition of mev would be very different for that player than for other players simply because they can claim an AirDrop and there's value for them there. So I don't think this is actually mev. I don't think mev is what we're talking about when we are thinking about a pending AirDrop, right? So to me, we could use a notion of mev that's permissionless that talks about what can any player in the network actually extract, right? So anyway, I think this is a problem with this formulation and I think we can do better and deal with the player better.
00:13:14.874 - 00:13:28.378, Speaker A: So I'm going to list a couple of other caveats. So I talk about the player and the potential dependence on the player. I think that's something we have to think out deeper if we want a good definition of mev.
00:13:28.378 - 00:13:50.482, Speaker A: A second point is the treatment of reverted transactions. I touch upon this when I was talking about realized extractable value, right? We have transactions that are reverted and are there only because of mev extraction. How do we deal with those in the mev definition? Do we include them? Do we not? Third one is transactions or blocks versus state transactions.
00:13:50.482 - 00:14:09.558, Speaker A: Here all the definitions. We're talking about transactions and blocks when we want to think about other domains, like centralized exchanges. Phil mentioned this idea of like, okay, centralized exchanges might have a lot mev we don't know about, but they probably don't run on a blockchain, right? They have different type of databases.
00:14:09.558 - 00:14:22.270, Speaker A: So perhaps we want to make a definition that's more flexible and that wants to do something more general than blocks and transactions. So perhaps we want to move to state transitions instead. Another point is the unit of account.
00:14:22.270 - 00:14:42.210, Speaker A: Here I've been using implicitly the unit of account of the native domain. But as Phil mentioned, in the cross domain, things get trickier, right? We have different native units of account in each chain. We're going to use pricing functions to map one to the other, right? And in particular, there's another thing here that's a context dependency.
00:14:42.210 - 00:15:06.618, Speaker A: How does the mev in one domain change because there is mev in a different domain or because even another domain is present there? This is a super important question. There's going to be a talk by Alex soon on context dependency and cross chain mev in general, so I encourage you to check that. But this is a very important topic that we certainly want to cover in our mev definitions.
00:15:06.618 - 00:15:48.006, Speaker A: Another one is revenue versus costs. I already also touched upon this very briefly, but are we talking, is mev a revenue or are we also including the costs incurred in extracting this mev? Is it the profit or the revenue? Right? And one tricky thing here is that the revenue is typically thought of as the revenue in the scale of which you have extracting rights in a block, typically. Whereas a cost one typically thinks about in unit of time, right? If you're a miner, you're not thinking how many dollars it cost me to mine a block because there's like a stochastic dependence between two, right? Because there's a stochastic processing by which you get to mine a block.
00:15:48.006 - 00:16:17.086, Speaker A: This is a random process. So typically you think of unit of time, how much does it cost for me to operate this rig per hour or something, right? So anyway, the fact that stochastic process linking these two makes it a bit tricky. And again, another decision to make where we include that or not in the definition final consideration I have here is a single block versus multi block, right? These are like two different types of mev.
00:16:17.086 - 00:16:52.906, Speaker A: There's a reorderings and censoring in the single block, but there's a reorgs in the multi block and that touches finality and so on. So what do we want the definition to encompass too? But how do we deal with this? So for me, the best way to deal with this is actually think of mev as have a definition of given ordering rights. So we consider the ordering rights granted and then we can think of the multi block mev as a distribution over these rights, right? It's independent of how you got those rights.
00:16:52.906 - 00:17:06.402, Speaker A: And then you think about that as a separate question, right? I'm going to explain that in a second. So with this I will wrap up to be a bit more constructive. I will give you some more thought provoking definition.
00:17:06.402 - 00:17:15.462, Speaker A: I don't expect this definition to be the final mev definition. There's certainly points that do not work. But just, again, food for thought.
00:17:15.462 - 00:17:28.870, Speaker A: So this is the extractable value still depends on a player. And I'm talking about states as opposed to blocks. Don't feel too strongly about this, but I think it might be good to have a more general definition.
00:17:28.870 - 00:18:03.350, Speaker A: And again, it's essentially a difference in balances. We have the balance after the change of state and that's what the player steel p there wants to maximize, right? This is the extra value, the maximum difference in balance they can achieve by changing the state. And here, the crucial part in this definition is that the player is an ethereum signer or any chain signer that has granted ordering privileges, right? So in the definition here, I think, okay, we give the ordering privileges and then what? Maximum value.
00:18:03.350 - 00:18:09.346, Speaker A: And it doesn't matter. They might have the ordering rights because they're a proposer. They might have them because they bribe proposers.
00:18:09.346 - 00:18:27.466, Speaker A: They might have them because they bought like mining rigs, whatever, right? I don't care. And then for the multi block case, we simply average over the probability of getting many blocks of averaging rights depending on the process of how this player is getting those rights. But that's a sort of push aside.
00:18:27.466 - 00:19:18.634, Speaker A: It's a separate problem. Let's separate the problem of how I got the ordering rights and the actual extraction, right? That's what I want quantified in the extractable value. So this is the extractable value and finally the minor extractable value is a formula where I and this is the provocative part, because it's a maximum, but I take a minimum, right? And this minimum encodes the permissionless nature, right? By minimizing over players, I'm taking the mev to be the extracted value that the least privileged actor in the network can get, right? And this is certainly tricky because say you have like a smart contract which sensors some OPAC addresses, right? So for these OPAC addresses, they won't be able to interact OPEC sensor addresses, they won't be able to interact with the contract.
00:19:18.634 - 00:19:36.166, Speaker A: So for this, extractable value will be zero, right? So the whole mev will be zero for that setting. It's tricky, but it's like one approach with dealing with permissionless. And here one final comment, is I reintroduced the player here by this parameter k.
00:19:36.166 - 00:20:16.782, Speaker A: K is the capital of the player, right? So I did not want the thing, the mev, to depend on players, but I'm reintroducing a dependency in a parameterized way, right? Because we know that capital is a very important parameter in mev activity, right? We in particular expect this definition to be monotonous on the amount of capital, right? The more capital a searcher has, the more mev they will extract, typically, or they will be able to extract. So that's why we want to include that. Choosing capital again is very much a choice, right? It's very much a design of what we think is important in mev terms.
00:20:16.782 - 00:20:25.806, Speaker A: If we just put a P there, it's vague because again, we don't know what we're talking about. So my approach here is like, okay, let's be deliberate. Let's choose how to model a player.
00:20:25.806 - 00:20:58.682, Speaker A: Let's choose the parameters that are important for mev and plug those in the formula, but only those, right? And of course we leave out other things like, okay, if the player has ethical considerations and they feel like, okay, they don't feel like extracting some kind of mev, okay, for them it will be different, right? But my claim is we should be explicit about those choices. So, anyway, provocative definition. I don't expect this to be the final definition of mev, but at least to sparkle some thoughts about the problems and the difficulties with arriving at a mutually consensual definition.
00:20:58.682 - 00:21:08.750, Speaker A: And I have a write up of this too. Welcome to check it out and reach out for me for discussions. So that's all I had today.
00:21:08.750 - 00:21:15.700, Speaker A: So thank you very much for tuning in. But.
