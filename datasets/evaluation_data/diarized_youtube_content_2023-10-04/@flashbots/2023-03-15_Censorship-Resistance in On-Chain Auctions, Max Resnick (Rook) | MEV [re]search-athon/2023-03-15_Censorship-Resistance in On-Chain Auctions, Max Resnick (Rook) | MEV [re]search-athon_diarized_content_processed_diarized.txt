00:00:03.200 - 00:00:23.300, Speaker A: Hi everyone. I'm Max Rednick. I'm the head of research at Rook. I actually am the new head of research. I just joined three days ago. So there's a new sheriff in town. I'm going to be presenting some joint work today with Elijah, who's right here, and Molesh Pi, who's a professor at Rice who I nerdsnight like six months ago into working on this.
00:00:23.300 - 00:01:04.036, Speaker A: And now he's fallen so deep down the I don't know if there's any recovering for him. Anyway. So our focus is going to be on on chain auctions and whether censorship can warp the equilibria of on chain auctions and cause some issues. And you'll see what I mean by those issues in a second. So let's just talk about some motivation here. Why do we care about auctions on chain? First of all, auctions extremely versatile mechanism and it kind of slots into whatever you want to do in financial market design. So even just a central limit order book is sometimes called a continuous double auction, right? We also have even already on chain.
00:01:04.036 - 00:01:39.356, Speaker A: We have Art Gobblers with their variable rate gradual Dutch auctions. We have Maker and Euler with liquidation auctions. In some ways, Mev Boost is an auction that doesn't run directly on chain. So these are kind of existing mechanisms. One thing I want to point out is that we've been talking about LVR in our own research group a lot. LVR is loss versus rebalancing. It's kind of one of the reasons that liquidity provision on an AMM is maybe pretty bad for the liquidity providers.
00:01:39.356 - 00:02:44.036, Speaker A: So we think if you start the block off with an auction that allows you to capture the LVR, then you take the proceeds of that auction and give it back to the LPs that can start to heal some of the LVR issues that are causing a lot of the uniswap FUD on Twitter. Okay? So that was kind of the direction that we started this with is how do we hold a starter block auction to capture LBR? And I think we moved it in that direction. So why are we talking about censorship? Because if you censor bids from other people who are bidding from competing bidders, it becomes easier to win the auction, and you can win the auction for less money. Okay? And we have off chain agreements like Mev Boost that allow you to pay the proposer to censor other people's bids. What do I mean by that? If I win the block in the Mev Boost auction, I can make sure that only my bid gets in and then I'm going to win the auction for free or at the reserve price. Nobody else is going to get the bid. So that's kind of the main question that we're going for here.
00:02:44.036 - 00:03:21.408, Speaker A: Let me get into the model. So a simple model of an auction. I want to go over this because not everybody maybe is an auction theorist, but we're going to have N plus one buyers for an object. Each of these buyers is going to have a private value and that's drawn from a known distribution. What's going to happen, the seller announces that I'm selling the item, then all the bidders are going to submit their bids and their tips. So little bit of a point here is that the tips are going to be public. Tips are always going to be public.
00:03:21.408 - 00:03:50.440, Speaker A: But we're kind of giving the auction the benefit of the doubt and saying the bids are actually private. So you can do this with a commit reveal scheme. You can do this with some more fancy ZK stuff that I'm sure the cryptographers here have a lot to say about. There's a ton of ways to do this, but we're giving the auction. All the bids are perfectly sealed, but the tips are not. Okay? And then we're going to select the highest bid. And then for those of you who haven't seen second price auctions, we're going to take the second highest bid as the price that the winner pays.
00:03:50.440 - 00:04:23.636, Speaker A: And that's just for incentive compatibility. We want people to bid at true values. Okay, I'm going to add one more thing to this model. I'm going to add an opportunity to censor other people's bids. And that's going to be after all the bids are submitted, extra bidder, bidder zero is going to make an offer to the proposer. Remember, the proposer is the one who controls which bids get into the auction because they control which transactions get into the auction. And he's going to make a take it or leave it offer.
00:04:23.636 - 00:04:49.120, Speaker A: The miner is going to accept that offer if it's greater than the tips that correspond to the bids that he's censoring. Okay, let's solve the simple model. And this is going to be the only math that I make you guys do today. We're going to do the two player case. We're going to do two bidders. One of them is the colluding bidder. Colluding bidder gets to make a bribe to the proposer to omit the non colluding bidders bid.
00:04:49.120 - 00:05:39.980, Speaker A: So the first point here is that the tip that the non colluding or honest bidder pays has something to do with their valuation. If I value the item high, I'm willing to pay more to get into the auction. Simple, right? And actually we know that the honest bidder will never pay more in tip than they value the item because if they get into the auction and they end up winning the item, they value it less than their tip. And they've actually lost out because they've paid this large tip. That's more than they value the item. So even if they won the item for free, they would still not want to pay a tip which is higher than their value. Okay, knowing this, the colluding bidder can say, given the tip that I see, I know that your value is at least greater than the tip.
00:05:39.980 - 00:06:24.220, Speaker A: And what that allows us to do is say when the tip is less than the colluding bidder's value, v zero, we're going to make the bribe and we're going to try to omit the other person's bid. But when it's greater than v zero, it doesn't make sense to do that. And so it's a simple best response. And that's going to allow us to write out the expected utility for the honest bidder that's going to tell us what the tip is. So it's T, the probability that you win, the probability that you're included times your expected revenue if you are included, which is you win every time minus the tip that you pay. So just reformatting that into a simple quadratic equation. T v one minus T squared.
00:06:24.220 - 00:07:02.440, Speaker A: Take the derivative, set it equal to zero, and I promise this is all the math we're going to do. V one minus two, t equals zero, t equals v one over two. So I submit a tip which is half of how much I value the item. Okay, now we get to the non mathy part. What does this mean? How do we see what happened here? First of all, in equilibrium, the bidder who valued the item is only winning three fourth of the time, whereas without censorship, they'd be winning all the time. So one fourth of the time we have somebody winning the auction who didn't value it more. So that's a loss of efficiency in the language of auction theory.
00:07:02.440 - 00:07:53.112, Speaker A: One fourth of the time we have or the proposer is extracting actually a lot of value here. They're extracting one fourth, which is the expected tip, because either the honest bidder is paying the tip or the dishonest bidder is paying a bribe of the same amount as the tip. So this is like mev, clearly right, because the proposer is getting minor expected value of one fourth. And this is a lot if you look at the kind of expected value of the auction. So the revenue of the auction for the person who's holding is way down. That's not great. In fact, we'll see later that it's almost as if the proposer is running the auction as the number of bidders increases and the tip function, this is an important for the cryptographers and it's not going to be a fun one for you guys.
00:07:53.112 - 00:08:33.164, Speaker A: The tip function is invertible. So even though the bid is private, the tip is public. We can use the tip to back out your bid. This kind of destroys the credibility of the auction. It actually kind of raises the question of whether privacy in bids matters so much, because we have the potential that the public tips, which are associated, can reveal information about the private bids. Okay, I have some more math here, but I'm going to skip through it in the interest of time and show you the results instead. This is for the N player case as you can see the expected total tip.
00:08:33.164 - 00:09:09.570, Speaker A: So this is inversely proportional to the probability that the dishonest bidder wins. So as you can see, as N increases, which is the number of bidders, the probability that the dishonest bidder wins, the auction is going way up. Why is that? Because the tips are going down. Okay. So as we add more competing honest bidders, the dishonest bidder does even better, the miner does even better, or the poser, I should say. And we've kind of arrived at a point where we don't even have an auction anymore. Because you can see this is asymptote to zero.
00:09:09.570 - 00:09:43.420, Speaker A: There's kind of no reason to hold an auction at that point. So that's the single block case. Let me talk about this real quick. This is just with a bunch of other distributions just to show the robustness of that previous result. As you can see, this is kind of trending towards zero with a bunch of different Wacky distributions, beta distributions over here, same results. Okay, so it wasn't just the uniform. So now I'm going to talk about holding it over multiple slots, right? We would think that if we hold it over multiple slots, we're going to get more security.
00:09:43.420 - 00:10:16.330, Speaker A: And we do. But actually, let me do the next slide first. Unless the number of blocks grows faster than the number of bidders, censorship is still profitable and the auction still breaks down. Sorry, I'm jumping around a little bit here. But the point to see here is that this total tip function is decreasing sublinearly. So it's like decreasing really fast. And so if I add more blocks, I get kind of a linear security.
00:10:16.330 - 00:10:49.660, Speaker A: But this overpowers it. And that's the intuition. Let me go back to the more formal stuff. Basically, we're going to make a slightly modified assumption here and I'll explain that this is okay to do. We're going to allow the Colluding Bitters distribution to be a little bit wider from zero to K, where K is greater than M. And that is going to allow us to recover the equilibrium from the single block case. N is the number of blocks.
00:10:49.660 - 00:11:35.872, Speaker A: So now before I had one block, now I have M blocks. And if you want to see, this is maybe the trickiest result in the paper, if you want to see more about it's in the paper. But it's also the most surprising result that kind of this eventual censorship resistance that we get from liveness. That's the definition of liveness, right, isn't fast enough in practice to hold an auction. So if you have a large number of expected bidders, you probably don't want to hold an auction on ethereum or something, or you are going to need to have a ton of ton of blocks. So that's I think, maybe one of the biggest takeaways of the paper. Now I'm going to talk about, okay, since running it over multiple blocks in work, maybe we can try something else.
00:11:35.872 - 00:12:05.396, Speaker A: Maybe we can try multiple concurrent proposers. And this is an idea that I'm really excited about, Elijah's really excited about. I think even Anatoly from Solana is a bit excited about it too. So here's how it's going to work. It's not just going to be we submit one tip. We're going to submit a conditional tip, little T, which is much less than Big T, and they're going to be in a pair. Little T is going to be paid if more than one of these concurrent proposers include the transaction.
00:12:05.396 - 00:12:45.400, Speaker A: Big T is only paid if a single proposer includes and everybody else omits it. And what this is going to do, it's going to set up a kind of prisoner's dilemma. Here's the game matrix, the payoff matrix in the two proposer case. Okay? If you know prisoners Dilemma, this looks kind of exactly like that. Okay, let's think about what we have to do as a sensor in bidder. If we want to bribe the proposer to not include the bid, we have to get this up to greater than capital T. Otherwise we're still going to end up at this equilibrium.
00:12:45.400 - 00:13:25.808, Speaker A: So we need to pay at least capital T to both proposers. So what happens here is the honest bidders are paying Little T, but the dishonest bidder has to pay at least m the number of concurrent proposers times Big T. So we'd get much, much more security for a lot less of a cost. Okay? I promise, no math. So we'll skip that one bidder zero. So this is kind of solving the full equilibrium of the multiple proposer game. Here's the takeaway.
00:13:25.808 - 00:13:58.124, Speaker A: Bidder zero doesn't bribe the proposers ever. Instead, they just compete in the auction. Good. All bidders pay zero in tips on the path, which is really good because they're not giving me b, and the equilibrium tips don't reveal this. So the photographers and they can keep showing their audience. Okay, one more thing I want to talk to you guys about, which is how do we actually do this? The last slide. So the duality team has been kind of hacking hard on this.
00:13:58.124 - 00:14:35.300, Speaker A: And I think maybe if you asked Tarun, he would say that multiple concurrent proposals is really hard. I think we maybe disagree a little bit. Here's a pretty simple and practical way to get multiple proposals. So we're going to kind of take tendermint as a base. And before anything happens in tendermint that you've heard of, we're going to have all the people on the committee who are not the leader submit a special bundle of transactions, and those are the bids that we're talking about. And then we're going to require that the leader includes at least two thirds of these bundles. Otherwise the block is invalid.
00:14:35.300 - 00:15:03.590, Speaker A: So in order to make a valid block, you have to basically provide the censorship, persistence, and then just the takeaway from that is if you want to make a block that omits a transaction. It's very hard if it was included in greater than one third of the stake weighted bundles. Okay, that's my last slide. I don't know how much time we have left, but happy to take any questions if I have time.
00:15:04.120 - 00:15:16.010, Speaker B: Just a note. Anyone cannot see the screen. All of the slides are up on the hack on Date, so can read it on your phone. So any questions?
00:15:17.740 - 00:15:18.788, Speaker A: Quintess?
00:15:18.964 - 00:15:46.508, Speaker C: One question. I think it would be interesting to speak to. We've spoken about before, but in the multiple proposals, sequential proposals result, you have a different value distribution for the Censoring bidder versus the normal bidders. It's much larger, which intuitively seems like might support you in getting this result. Does it still hold it in the same distribution for all the bidders?
00:15:46.604 - 00:16:08.744, Speaker A: Yeah. So there's actually a footnote in the paper about this. Thanks for asking. It's a really good question. You can do it with uniform one. Here's the issue. Because if I have M blocks, I'm multiplying the security of the tip by M because the Bribing bidder has to pay the first proposer, and then the second proposer all the way up to M.
00:16:08.744 - 00:17:15.324, Speaker A: So they have to pay a tip of M times. T remember we said that the tip was actually decreasing superlinearly? So overall, the expected tip is still going to be less than one as long as M stays lower than N. But the issue from an analytical perspective is that we really want this uniform distribution, this kind of constant hazard rate. And when we multiply the tips by M, there's some probability that when we add up all the tips and multiply by M, it's greater than one. When it's greater than one, there's no chance that the Colluding bidder has a value greater than that. So there's actually no probability of buyout. Okay, what does that all mean? There's like some probability that increasing your tip doesn't do anything, and it actually means that you want to pay less of a tip if we did uniform zero one, and that means you actually get bought out more, so it's even stronger because of that.
00:17:15.324 - 00:17:36.624, Speaker A: And there's a more detailed discussion of this in the paper, but this is definitely we actually found that kind of slight issue right at the 09:00 p.m. Of the submission deadline. So I think in the next update, we're going to do the uniform one full derivation. It gets a little messy. There's a nuisance term, but it's actually a stronger result with the zero one unintuitively.
00:17:36.672 - 00:18:01.816, Speaker C: And then I guess another question about the assumptions making these results. So as I understand it, the reason that as the number of bidders increases, it doesn't really actually favor the bidders is because you have this kind of like tragedy, the commons rising from them, where no one wants to bear the price of outputting, the century bidder. But doesn't that rely on the bidders, knowing how many other bidders.
00:18:01.848 - 00:18:02.348, Speaker A: They are.
00:18:02.434 - 00:18:05.388, Speaker C: And what do you think changes if people don't know N?
00:18:05.554 - 00:18:37.130, Speaker A: I mean, if you don't know N, you probably have a prior over N. So you probably expect N is somewhere in the region of 100, right. It might be 105. So you're probably going to get kind of a similar result, maybe a little more messy, analytically. Yeah. Let me speak to that tragedy of the comments real quick because it's an important tool for understanding this. If I submit a higher tip as an honest bidder, I'm actually helping all the other honest bidders, but helping the other honest bidders get into the auction is worse for me.
00:18:37.130 - 00:19:03.410, Speaker A: So that is a force along with the fact that there's more bidders in. So I'm likely to win the auction at a higher price if I do win means. And I'm also less likely to win the auction if there's more bidders as well. So there's like all these forces driving together and that's why we get that super linear reduction in expected tip and that's why we see the colluding bidder buying up the auctioneer all the time.
00:19:07.620 - 00:19:14.116, Speaker C: The part where you show the person is the one that you're assuming the proposers don't collude. Is there any way to do that?
00:19:14.138 - 00:20:00.304, Speaker A: Practically, yeah. Well, in some ways we have already a baked in assumption that if the blockchain is working, then the proposers then not greater than one third of the proposers are Byzantine. So that's a bit of a cop up, let me say, in terms of like a game theoretic situation, right. We have repeated prisoners dilemma. We have both theorems about this. There's kind of a trade off between how often this game is repeated and how high the payoffs are that tell you whether you can have a tit for tat equilibrium or whether you can have a full colluding equilibrium like that. And if you look at ethereum, actually, the rate at which proposers are matched against the same committee is pretty low.
00:20:00.304 - 00:20:34.220, Speaker A: Right. Just because there's so many nodes. If you look at tendermint 150 nodes right. That's kept that's a lot more likely that you're going to have the repeated business dilemma and a lot more likely that you're going to be able to see kind of collusion equilibrium sustained. But also another thing to keep in mind is that if 40% of the nodes are controlled by lilo, that argument that there's a ton of other than so they're not likely to meet each other again. It kind of falls apart a little bit. Unless there's any other questions.
00:20:34.220 - 00:20:36.490, Speaker A: Thank you, guys. Thank.
