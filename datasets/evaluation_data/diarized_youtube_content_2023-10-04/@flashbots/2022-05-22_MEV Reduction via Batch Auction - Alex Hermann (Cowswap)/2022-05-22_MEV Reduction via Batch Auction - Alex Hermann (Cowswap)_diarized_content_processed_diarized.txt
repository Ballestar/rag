00:00:09.450 - 00:00:31.730, Speaker A: My name is Alex and I'm from Kaosov and super excited to talk to you today about Mev reduction, how that actually could be achieved and is currently also achieved with batch auctions. I want to start with a small segue with a comparison between between mev and high frequency trading. I want to do that because I think there are quite some similarities.
00:00:31.730 - 00:01:01.818, Speaker A: If you are looking at it from the core principles, actually, they both represent a race to exploit market opportunities, but then how it actually plays out, yes, they are quite different. For example, how can you actually win the race in the thank you. How can you actually win this race in the MUV space? In all blockchain space, definitely you have to tip or bribe the miners.
00:01:01.818 - 00:01:17.134, Speaker A: And in high frequency trading it's actually all just about the speed. You just have to be the fastest. And so what you usually kind of end up doing is kind of buying the speed technology that is offered by the different exchanges and so it's also some kind of driving.
00:01:17.134 - 00:01:39.690, Speaker A: Right. And then who is actually suffering from the negative externalities? Well, if you have ever been frontrun on the blockchain space, definitely you're suffering from it. But I think in general mev is kind of introducing inefficiencies and so every retail and institutional investor is kind of suffering from it and quite similar it's also in the high frequency space.
00:01:39.690 - 00:02:17.906, Speaker A: Like all the Sniping that is going on kind of causes market makers to price it in and then they are offering bigger spreads and so kind of everyone loses a little bit because everyone gets a little bit worse the price. But well, high frequency trading has been around now for quite some time and yeah, lots of academics looked into it and the most promising solution actually seems to be the frequent batch. There's a very popular paper proposed by Eric, Peter and John and they explain how frequent batch auctions can actually help with all the Sniping that's going on and all the other negative externalities.
00:02:17.906 - 00:02:39.550, Speaker A: And so the thesis that I now want to take a look with this talk is actually do frequent batch auctions really able to reduce the MEB and to which extent? And I would like to do it with the following agenda. So first we want to look one more time at the exact definition of a frequent batch auction system. Then we want to compare this sequential and the batch execution.
00:02:39.550 - 00:02:54.750, Speaker A: Then we will look exactly how that actually plays out with Me de protection. But of course, after seeing all the positive sides, we also then want to look into the challenges that are currently still out with frequent bad tractions. And then we would come to the conclusion.
00:02:54.750 - 00:03:06.978, Speaker A: So let's start with the first point. What are frequent bad tractions? Well, what one has to do is one has to discretize the trading in time. That means one collects all the different orders over a longer time period.
00:03:06.978 - 00:03:18.566, Speaker A: And then with that, you are able to build up these kind of order books. As you can see it on the left side. So you have on the one hand side the order selling something that are kind of the blue orders.
00:03:18.566 - 00:03:31.370, Speaker A: And then on the other hand side you have the orders that are selling the opposite. And that kind of builds up just the normal order books. And then what batch auctions actually doing is they are looking where the buy demand and the sell demand is actually meeting.
00:03:31.370 - 00:03:45.946, Speaker A: And that's exactly where they are setting the clearing price. And then everyone is settled exactly at that clearing price. And what is really striking over here is definitely that the first two points of these characteristics, they are naturally given in web three because we put everything into blocks.
00:03:45.946 - 00:04:06.646, Speaker A: We always batch all the orders that are coming in, all the trades. And so it's very natural that actually frequent batch options could very fit, very natural and well into the blockchain space. Now I want to do some visualizations, like how does it actually differ the sequential and the batch trading.
00:04:06.646 - 00:04:21.454, Speaker A: And so for that, we first want to look at here some random example. Imagine you have here these three different buy orders that are trading in one direction. I'm selling one token for the other.
00:04:21.454 - 00:04:38.326, Speaker A: And then you have a sell order that actually trades in the opposite direction. And now depending on what the actual order is, if they are trading against the M's, the picture will look really completely different. Like actually they are all executed exactly at the same time.
00:04:38.326 - 00:04:59.594, Speaker A: But depending on the order, it will really look quite different. But how could that same thing actually look with batch auctions? Well, what we would want to do is kind of we on the one hand side sum up the buy demand, on the other hand side sum up the sell demand. And then we have a certain portion that we can match against each other.
00:04:59.594 - 00:05:33.240, Speaker A: And then we have only kind of a leftover that then actually needs to be traded against the AMMS. And then what one usually does is one looks okay, what is the effective clearing price of the leftover against the AMM? And then one settles all the orders exactly with this clearing price. And now I'm really curious on your opinion, if you compare just these two different mechanisms, what do you think intuitively is more fair? Which one would you prefer? Please raise your hand if you like this one more.
00:05:33.240 - 00:05:40.598, Speaker A: Cool. And who likes this one more? Some more people. Cool.
00:05:40.598 - 00:05:43.530, Speaker A: That's also my favorite. But obvious. I'm I'm biased.
00:05:43.530 - 00:06:03.466, Speaker A: I want to quickly highlight that this of course was now a made up example. But it is also happening right now in ethereum space in every block. Basically, I just picked here some block and I plotted on the x axis the price that people got on an ESUST trade.
00:06:03.466 - 00:06:18.646, Speaker A: So it's super illiquid pair. But we can still see that there are very various prices. On the one hand side we have people who got matched at the price of 2700 and on the other extreme we got people who were matched at 2070.
00:06:18.646 - 00:06:28.680, Speaker A: So there's really a price spread of 1.4%. I think that's huge. Like everyone who would trade would love to be either on the one side or the other side.
00:06:28.680 - 00:06:56.398, Speaker A: And yeah, this is kind of showing a little bit what is all going on with the Ambs. And well, if we would actually apply the whole auction mechanism, what we would do, we would kind of try to settle everyone exactly at the same price, the uniform clearing price. And because if we are doing that, if we are trading them against each other and not against the AMMS, we have less AMM fees, we have less slippage.
00:06:56.398 - 00:07:11.750, Speaker A: And all that sums up to an additional price improvement of $2,500 that we can contribute to all the traders. It's just money that appears that we can re. It's basically mev that we can distribute to all the different traders.
00:07:11.750 - 00:07:24.102, Speaker A: And you might say, okay, 2500 is not that big. But we at Kauswab did some studies like how much that actually sums up over the year. And here are two trading pairs.
00:07:24.102 - 00:07:38.030, Speaker A: For example, for Ecusdt, where you have also seen the previous example from it sums up over a year to 27 million that we can redistribute it to traders. On Ecusdc. It's 28 million.
00:07:38.030 - 00:07:57.554, Speaker A: And then on all the other pairs it will also be quite some substantial amounts. And yeah, if you add it all up, I think the numbers are getting quite significant. Okay, this was now basically how badge auctions can really improve the efficiency.
00:07:57.554 - 00:08:20.774, Speaker A: But then how additionally do they protect us from mev? And for that I want to look at the surface of the Mev surface of the auctions. Let's come back to our previous example where we have these green buy orders and the blue sell order. If we execute them sequentially, then basically each of these orders is prone to mev.
00:08:20.774 - 00:08:34.478, Speaker A: Like depending on the ordering, they will get different prices. They can be sandwiched, like everything can happen. But if we are looking at the batch execution, there was only this leftover trade that basically was matched against the AMMS.
00:08:34.478 - 00:08:51.720, Speaker A: And so only this one is prone to mev. All the other trades, they're basically protected from it because they are settled internally. But then protocols like Housewap, but also others and doing much more than just that.
00:08:51.720 - 00:09:12.298, Speaker A: What we are also doing is we are always trying to find the optimized trading path together with all the Dex aggregators that we are working together with. And so there's less back running opportunities. Also RFQ trading is getting more and more popular, getting more and more adoption.
00:09:12.298 - 00:09:54.010, Speaker A: And as mentioned in all the other talks, that also definitely prevents mev. And last but definitely not least, we are these days also submitting these transactions for the users via these private networks under that even the leftover trade because it kind of enters this private mempool is then not prone to mev here I also have some quantitative numbers. So we did here also a study checking on the pair Ecusdc, how much of the actual trading volume that is right now happening on the ethereum chain could be actually matched internally in a batch.
00:09:54.010 - 00:10:19.860, Speaker A: And the figure we found was roughly 13% could be matched internally in auctions. Just by these coincidence of ones where we are matching two opposite orders against each other, you might think hey, that's actually not too big. But there are other features that are coming, for example, waiting for a cow or more market maker integration and they will definitely boost this number.
00:10:19.860 - 00:10:25.750, Speaker A: Cool. These were all the upsides. Let's also look at the challenges.
00:10:25.750 - 00:10:48.170, Speaker A: So one point that auction have always been criticized for, especially in the traditional world is the latency. If we are in the web three situation, it's actually not that problematic because we are anyways having some latency between the different blocks. So over here you see the diagram block n minus one.
00:10:48.170 - 00:10:50.122, Speaker A: Then we would have sufficient time first.
00:10:50.176 - 00:10:51.286, Speaker B: We'Re talking in a way that's safe.
00:10:51.318 - 00:11:14.006, Speaker A: Is that right? In the next 13 seconds you would have sufficient time to mess with the camera a little bit and then at some point we kind of have to close the batch and say okay, all these orders should now be in the batch and then we start the actual price calculation submission. And what's definitely true is that because we have to close that a little bit early this batch, I'm just going.
00:11:14.008 - 00:11:15.586, Speaker B: To hang out here and watch the talk. Just let me know.
00:11:15.608 - 00:11:32.022, Speaker A: That is definitely drawback and then all right, thanks. Might increase for some players inventory. Then also other challenges with auctions that are just game theory take off auctions.
00:11:32.022 - 00:12:03.006, Speaker A: So one of the points that one should always kind of consider is the information leakage. If we are collecting the orders and the batches and if they are public and everybody could see that, then other people have the time to kind of react on them either by just placing also opposite orders in the current batch or alternatively kind of front run it on completely different venues. For example at the AMM, directly on the blockchain on the AMMS.
00:12:03.006 - 00:12:25.386, Speaker A: But there are different solutions out there that could tackle it. I mean private mem pools were talked before or kind of sealed orders. And then there's also this notion of incentive compatibility that basically means in the trading space that it would be the best option for each trader to really reveal the actual willing that he is.
00:12:25.488 - 00:12:30.186, Speaker B: I think the amount of panel pay for price, I'm one of four, sorry.
00:12:30.288 - 00:12:36.922, Speaker A: The actual price that he's willing to pay for it would be really nice if we would have trading.
00:12:36.986 - 00:12:38.318, Speaker B: I'm not exactly sure how you want.
00:12:38.324 - 00:12:45.294, Speaker A: To do it for freaking bad trucks. Unfortunately, it's not always holding. If you have a small order, you can definitely do that.
00:12:45.294 - 00:12:56.914, Speaker A: It will not impact it too much. But if you're a real whale and want to trade a lot of funds in one direction, that's fine. Then you basically have to kind of split up your execution.
00:12:56.914 - 00:13:10.326, Speaker A: You have to split it over several batches sometimes. But well, the same thing is also right now true with continuous trading I'll do the best I can. And there's one more point I would quickly like to get into.
00:13:10.326 - 00:13:39.702, Speaker A: So for the auctions, it's very important that they have the access to the best liquidity. And in the web three space, that definitely means that they should kind of consider all the AMMS. And one small issue is that if we are starting at Blanc N minus one and kind of observe the AMM in a particular state and then we are starting the optimization with all the collected batch orders that then sorry.
00:13:39.702 - 00:14:18.514, Speaker A: If we are starting then the optimization with this state in mind and then if in the next block there is then actually somebody who takes an arbitrage opportunity or something and kind of front runs us and puts the first transaction that actually shifts the AMM state, then kind of our calculations are no longer 100% correct. And that also causes some small issues. Right? So given all these pros and cons, what are the actual conclusions? My conclusions is that if we would trade war with frequent badge auctions, then we would have certainly some winners.
00:14:18.514 - 00:14:47.630, Speaker A: And these winners in my point of view are definitely retail investors because they would be better protected for mev and they can get better prices via cows arbitrariers, not necessarily market makers. It's a little bit divided. If you are for example, providing liquidity on an AMM, then if there is internal matching on a batch level, that means automatically the AMMS will get less fees.
00:14:47.630 - 00:15:20.250, Speaker A: So there is definitely a disadvantage for them. But in general kind of frequent batch auctions were invented to kind of help market makers from all the Sniping attacks and everything and of course to other use cases where auctions fit in very well, liquidations and I think Dow investments. So overall, I think if these actors actually the green ones over here, if they kind of convert to more and more auction trading, then definitely we can have a big mev reduction on the adapt layer.
00:15:20.250 - 00:15:29.520, Speaker A: Cool. So thank you all for listening and if you want to give it a practical try, free to kind of visit Kauswab and give it time.
00:15:46.330 - 00:16:22.302, Speaker C: Thank you for the talk. Could you talk a little bit about the censorship resistance qualities of mev protection chains like cowswap? And I know that clearly the implementation of batching is really good on the theoretical level, but curious to know, obviously going through a public mempool, the public mempool of Ethereum, it does mean that you could get front run. But the censorship resistance quality of the Ethereum mempool is so much greater than going through flashbots.
00:16:22.302 - 00:16:28.500, Speaker C: So curious to know how Cowswap kind of figures that out.
00:16:28.950 - 00:16:46.130, Speaker A: Just to make sure that I understood the question correctly, you're talking about the step where one has found a good solution that should trade the whole auction and then it's submitted to the Ethereum chain and how the censorship over there plays out.
00:16:46.300 - 00:17:08.030, Speaker C: Yeah, especially. So anytime you're bypassing the public mem pool and there's obviously great things like the batch auctions happening outside of the public mem pool. So tell me a little bit about the censorship resistance qualities of using dark pools or private pools or cow swap.
00:17:08.030 - 00:17:10.980, Speaker C: I guess probably more Cowswap for you.
00:17:11.910 - 00:17:47.642, Speaker A: So definitely the more decentralized things are, the better is actually also the property regarding censorship resistance. So right now Cowswap and I think also many other services, they are a little bit more centralized and with that basically one could censor different orders. But at the same time we and other platforms I think have a big incentive to kind of not censor all the different players because we want to offer a good service.
00:17:47.642 - 00:18:18.790, Speaker A: And that's in the short term and in the long term definitely if everything is more decentralized then you can have always different actors that actually then prevent the censorship and plug and settle the actual traits. So we are right now in the process of kind of decentralizing all on our solver network. There are kind of the guys who are finding the best solutions for the batches and if it's well decentralized then this helps definitely a lot with this censorship.
00:18:18.790 - 00:18:41.350, Speaker A: And regarding the censorships in the mem pools, regarding private submissions, I think if something like that would happen, we have professional bots running in the background and then they could detect it and choose other routes if that really happens. Thank you very much.
