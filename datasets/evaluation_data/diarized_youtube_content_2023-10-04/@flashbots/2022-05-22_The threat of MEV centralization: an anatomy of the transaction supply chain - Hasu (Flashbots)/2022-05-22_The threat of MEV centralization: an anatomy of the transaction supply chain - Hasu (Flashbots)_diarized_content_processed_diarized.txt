00:00:08.570 - 00:00:34.550, Speaker A: So welcome to my second talk, the threat of mev centralization an anatomy of the transaction supply chain. This is already my second talk of the day. If you didn't catch the first one, my name is Hasu, strategy lead at flashboards, also teach advisor at Lido and I've been thinking and writing about blockspace, market design and MUV for a couple years already.
00:00:34.550 - 00:01:17.430, Speaker A: So back in the day when designing your block space market was easy and mev didn't exist and the only threats we had to worry about were things like selfish mining attacks and so on. In this talk I want to build on a new mental model that Stefan of Flashpoint introduced in his first talk of the day and we call it the mev or transaction supply chain. This supply chain includes all of the major parties that are involved in starting from the user getting a transaction included on chain.
00:01:17.430 - 00:01:39.290, Speaker A: So it starts with the user. The user has an intent to transact and they express this intent to the wallet. The wallet turns it into a transaction and then some transactions get picked up or manipulated by searchers and turned into bundles, some don't.
00:01:39.290 - 00:01:51.920, Speaker A: And then a builder will select the transactions to be included in the next block, send this block to a minor validator who will attest to.
00:01:54.480 - 00:01:55.084, Speaker B: It.
00:01:55.202 - 00:02:35.224, Speaker A: So we often talk about the guarantees that we want to get from public blockchains and one major one is censorship resistance and the other one you could say is market power for users. And where do these guarantees really come from? Almost all of them come from the competition between miners and validators the competition that they have among each other. Right, so there are some cool cryptographic properties of blockchains, but a lot of the guarantees actually come from how the economics of the system work.
00:02:35.224 - 00:03:06.032, Speaker A: That there is not one party in control who selects what transactions go into a block, but there are several parties who all take turns making blocks, and they are in competition with each other. So that's how you end up with users to get their transactions mined at the cheapest possible price, which is the cost of production of block space. So what is the marginal cost of including another transaction? As a miner, it is only the increased uncle rate and now that we have ERP one peppermint nine, it's also slightly higher.
00:03:06.032 - 00:03:47.170, Speaker A: It's also the cost of increasing the base fee in the next block. So that is a major point and censorship resistance. Whenever you have multiple parties competing to to include a user's transaction there is really not much point in censoring because why like if you're the first miner in turn can you really say I'm not going to include this user at a price of ten way or because I don't like that they user of sushi swap instead of uniswap? No, you cannot do that because then the next miner will just include you and the miner who didn't will slowly go out of business.
00:03:47.170 - 00:04:25.284, Speaker A: So what is the scenario that we are concerned about? This is also what Steph talked about in this talk very briefly. It is what we call mev Dystopia, and that is this entire supply chain that you saw collapsing into a single vertically integrated party. And when you have this outcome, then what will happen is that all blocks on public blockchains will be made by this one party and that destroys all of the guarantees that we wanted and that we established in the previous slide.
00:04:25.284 - 00:05:02.548, Speaker A: So no competition, strong vertical integration means no competition between suppliers in the different stages of the supply chain and it means worse guarantees for users. It means a loss of censorship, resistance and a monopoly that can charge arbitrarily higher fees from users because they do not have to be worried about another block builder coming in and including the user at a cheaper price. So what we are concerned about today, what are the paths from here, which is today we say we have a reasonably flat supply chain to this Dystopia that we are trying to avoid at oil cost.
00:05:02.548 - 00:05:24.348, Speaker A: That's the topic of today's talk. We will cover both scenarios where it has been already avoided and where we are looking right now and we are concerned about increasing vertical integration in the supply chain. Before we go into the risks, I want to dive into one particular part of this to make it very clear.
00:05:24.348 - 00:05:46.256, Speaker A: The builder and the Validator miner are two separate parties and they have been two separate parties for a long time. So the validators and miners have for years not been the party who selects what transactions go into a block. So the role of the builder has for many years now been played by the mining pool.
00:05:46.256 - 00:06:22.240, Speaker A: The mining pool selects the transactions and puts them into a block and then they forward only the hash of the block header to the miner Validators, who then attest to it with a proof of work or proof of stake, giving it economic weights in the pork chase rule. And that is what allows all of the nodes in the network to come to consensus, right? It's not enough to just have a block that has transactions. All of the other nodes need to be able to see one block that has a lot of economic weight, so they know exactly which of many infinite forks they need to follow and stay in sync with the network.
00:06:22.240 - 00:06:53.588, Speaker A: So this separation between the builder and the builder and especially the focus on the builder, that will be a topic of today's talk. So we already touched on this in my previous talk, but building used to be very easy going back to this slide. So back in the day when all a mining pool had to do was have a decent view of the mempool, they had to see all of the transactions with a good latency that the users propagate in the network.
00:06:53.588 - 00:07:22.310, Speaker A: So they always have all of the inputs in order to just run a very simple algorithm which is sort these transactions by their gas price or by the price per gas and then select the highest paying ones that they can. Right? So if there's like 10 million gas available, then they select the highest 10 million gas of transactions. But mev makes building hard.
00:07:22.310 - 00:07:59.200, Speaker A: Why? Because extracting mev is not just a matter of running a simple algorithm like the miner is used to, it is a matter of identifying what the mev transactions are then making these mev transactions, possibly maintaining inventory of coins and managing risk and so on. This is all skills that has nothing to do with what a builder or a validator or a miner used to be good at in the past. This is all skills from the domain of trading.
00:07:59.200 - 00:08:32.410, Speaker A: And so what mev in the absence of a system like Flashbots has caused is that miners and builders, they had this incentive or they had to become trading firms or traders in order to most efficiently extract the mev that is available. They have no choice. If they don't, then some other miner will do it and they will make more money than them and slowly crowd them out of business.
00:08:32.410 - 00:09:17.108, Speaker A: And so, back in 2020, before Flashports launched, there was already some of this vertical integration going on. And as some mining pools were starting to strike exclusive deals with trading firms and this would have been very problematic. This is the first step on the road to a single dominant party who can make blocks more efficient and who may not be open for other searchers to join and not be open to transactions for all users and not be open for hash power from all Validators.
00:09:17.108 - 00:09:38.836, Speaker A: So this is what we had to prevent. And that's when Feshbots entered the picture with mevgaf. So what mevgaf is it is an ethereum client that the builders could run, so the mining pools and it connected to an off chain auction where searchers were competing for mev extraction.
00:09:38.836 - 00:09:59.760, Speaker A: And we already covered some of this in the previous talk, but this auction, it had a better block space market design that allowed switchers to express more complex preferences. For example, say exactly where they want the transaction to be in relation to other transactions. And it also had the nice properties of atomicity.
00:09:59.760 - 00:10:21.460, Speaker A: So one transaction could not execute without all of them executing. And if your transaction failed, it would never land on chain. So this was really a system that was tailor made for MEP extraction and it quickly gained almost 100% market share among the builders.
00:10:21.460 - 00:10:45.808, Speaker A: And so as a result, you end up with this open system instead of a closed one. So we have sort of vertically like a builder that's sort of integrated with searchers, but does it in a very open way. It makes the best block available to all validators and makes the hash power from these validators and miners available to all searchers.
00:10:45.808 - 00:11:12.136, Speaker A: So it acts like a trustless API between the validator and searchers. Now, one to two years later, we are looking at some new challenges that threaten the piece that we have right now. You could say in this supply chain and that is one of exclusive order flow.
00:11:12.136 - 00:11:48.840, Speaker A: So what is exclusive order flow? That is transactions that some builder or searcher can use that other searchers or builders can't. And the question is why is this useful? So a builder, for example, who controls a sufficient amount of order for that other builders have no access to, they can always reliably make blocks that are better than the blocks of other builders and always win. So it's basically the same thing as with mev.
00:11:48.840 - 00:12:13.584, Speaker A: There is something that lets you make more money so you take it away like you take it for yourself and you take it away from your competitor and you use that in order to create a monopoly position in the supply chain. So that is something that we are concerned about. So you might ask why would users go along with this, right? I mean the answer is very simple because they get paid.
00:12:13.584 - 00:13:16.100, Speaker A: Okay, as a user getting paid to transact is a really nice feature but the problem is in the short term so it's very good in the short term, but in the long term it leads to a scenario where the liquidity basically fragments into dark pool the same way it does in TradFi. So there's no global liquidity, there's no global market price and even worse, you end up with this one party that can monopolize the supply chain and extract a lot of rent or start extracting a lot of rent from users and other participants of the supply chain. And so the question is how can you prevent that? First of all, same as with mev, we have to acknowledge that users and wallets will follow their short term incentives.
00:13:16.100 - 00:13:42.984, Speaker A: So if somebody can pay users for their order flow then there might be some who will say no, we are not going to do this for ideological reasons, but most of them will not. So really you are in a race to who can pay users the most to transact. A system that wants to compete with that also has to compete on paying users for order flow.
00:13:42.984 - 00:14:07.392, Speaker A: Some very simple ideas here would be so if a user transaction creates mev, then this is some very obvious like you don't even have to supply any capital from the outset and you can just capture that mev and start paying it back to them. And we are raising a conjecture here. So Flashbots is a vertically integrated block builder to generate the maximum EV but it is open and permissionless.
00:14:07.392 - 00:14:54.320, Speaker A: So you could say that Flashbots is sort of this thing that we said we were worried about, which is it's a block builder that's integrated with an med market, but the difference is that it's open and permissionless. So is there an equivalence here for order flow? Does a system exist that is decentralized and that can pay users more for their order flow than any centralized system can? And I think this will be a very important research question for the next one to use in crypto. The third challenge is Flashbots and none of its competitors currently give block builders and validators exposure to cross chain mev.
00:14:54.320 - 00:15:15.432, Speaker A: So why is this important? So in a cross chain world, in a single domain world, you have this concept of atomic transactions. So you have two transactions and one and they only execute together, but you never have one without the other. So this doesn't exist in a cross chain world.
00:15:15.432 - 00:15:42.208, Speaker A: And if you're a trader who wants to do any kind of trading cross domain, then what you end up with is you end up with a lot of additional execution risk. Risk that the first leg of your trade executes, for example, on Ethereum, but the second one, for example, on Arbitrum doesn't or vice versa. And so this really adds a lot of risk.
00:15:42.208 - 00:16:10.620, Speaker A: And if you control block production, if you control the next block on several domains, you do not have this risk. You can always say either both of my transactions are going to be included or none of them. And that is a very powerful feature that will drive the incentive, that will drive block building across several domains to centralize and to be done by the same party.
00:16:10.620 - 00:16:45.160, Speaker A: So if we don't want this to happen in a proprietary way, then again, exact same logic. You cannot discuss crosschain mev away and you cannot hide from it. We have to acknowledge that this is the reality of the market and we have to design an open system and a decentralized system that can provide this access to this crosschain mev to validators and to searchers, right? Same story again as with original mev.
00:16:45.160 - 00:17:08.844, Speaker A: So what we have to do here, to be precise, is we have to allow valdez on different domains to cooperate with each other and with cross chain structures. So we have to create a new market, a new version of Flashbots that is cross chain and this is strictly better than allowing them to form a private cartel. Note that this issue affects the supply chain on any domain.
00:17:08.844 - 00:17:44.020, Speaker A: So if you are building a layer, one a layer, two, a side chain, it doesn't matter, this will affect you. So you have to deal with this problem. So taking a step back here, going back to the supply chain, what do we want? We want the supply chain to be super flat, we want maximum competition at each layer and we want order flow that is private in the sense that it's not subject to front running or other forms of financial harm to users.
00:17:44.020 - 00:18:04.210, Speaker A: But we want it in an open domain. So we want searchers and builders and vendors to have access to this order flow in a way that respects the user preferences. And we want the barriers to join the supply chain at any stage to be to be low.
00:18:04.210 - 00:18:35.960, Speaker A: So this is what creates the best guarantees for users of public blockchains and this is what it could look like. So in relation to the first slide, you can see we have here several parties at each stage that compete with each other. And then, for example, the wallet sends a transaction to a searcher or a builder and the wallet on behalf of the user can get paid for that transaction.
00:18:35.960 - 00:18:53.520, Speaker A: And you have between the searcher and the builder, you have the type of MEB auction that we know today. Between the builder and Valdez, you have a system like Map Boost or PBS. Going back to Vitalik's talk earlier, so this is sort of the end game that we envision.
00:18:53.520 - 00:19:31.368, Speaker A: What are the takeaways? The biggest risk from Mev is that of vertical integration in the transaction supply chain. The supply chain meme that we presented today is a useful mental model for understanding where incentives drive this risk of vertical integration. And what we do at Freshboards, but also in collaboration with all of you and the research community and the builders we want to keep, we have to identify what the paths are that lead to this Mev dystopia into this vertical integration in a supply chain.
00:19:31.368 - 00:20:03.812, Speaker A: And we need to make sure that we create alternate systems that are available to all that will prevent the need or the ability for these private integrated systems to win. And we need to do this in order to keep public blockchains centralized and censorship resistant. We need competition in each part of the supply chain and achieving that keeping the supply chain flat will come down to creating the APIs for trustless collaboration between the different suppliers.
00:20:03.812 - 00:20:28.848, Speaker A: So what flashboards does is, for example, to go back to that we have a trustless API between searchers and miners. It's not completely trustless, but it's trustless enough to have wide adoption today. And that is really important because if a lot of trust was required between searchers and miners to work together, then a private system will always outcompete a public one.
00:20:28.848 - 00:21:14.908, Speaker A: You need to create trustless APIs between the different parts of the supply chain, meaning between searchers and builders and builders and validators, and in the future also between wallets and searchers and builders in order to start paying users for their order flow. The final takeaway, a lot of power and responsibility will accumulate in this builder role, creating the API to the validator and creating the API on the other side to the searchers and creating the API on the third side to wallets and users to start paying for order. So this is what we see as the hardest challenge in keeping public blockchains decentralized and that is what Flashbots will focus on in the years to come.
00:21:14.908 - 00:21:28.610, Speaker A: We want to create a decentralized block builder that can outcompete any centralized one and that keeps public blockchains competitive and decentralized. Thank you. I'm now taking questions.
00:21:28.610 - 00:21:53.530, Speaker A: Hi. Hello.
00:21:54.560 - 00:22:15.120, Speaker C: So I was wondering how the node providers play into this because for example Infura runs a lot of the nodes that are used by default to send your transactions to. So would you see that on the same level as the wallet providers?
00:22:15.940 - 00:22:26.710, Speaker A: Yeah, I think the closest, I mean this is not there are some parties in here that we didn't capture but we think that the closest analogy here is the wallet, I would say.
00:22:30.520 - 00:22:50.620, Speaker B: Hey Hasu, you said that validators across different chains can bring them into synchrony and eliminate the risk of cross chain transactions. Do you see validators set overlap as a significant issue in the future when multiple chains share a huge portion of stakers?
00:22:53.040 - 00:23:20.240, Speaker A: Yeah, I think this is what we are gravitating towards in the absence of a builder that gives access to the cross chain med. So I think what will more likely happen is that the validators will be able to be separate parties. Although in practice, I mean if you look who are like the professional validators and node operators across all proof of stake blockchains, there's a huge overlap right now for other reasons.
00:23:20.240 - 00:23:41.368, Speaker A: Why? Because a lot of the same skills, basically a lot of the skills that it takes to be a good note operator on Ethereum, transfer one to one to being a good node operator on Solana and Terra and so on. Right. So you will have probably a large overlap but not because of the existence of Crosschain mev.
00:23:41.368 - 00:24:04.320, Speaker A: I think this will rather lead to the same block builders making the transactions or the blocks on all domains and then you will have a more diverse set of builders listening and connecting to this hopefully in the public domain. Cross MEB, builder.
00:24:14.140 - 00:24:37.230, Speaker D: I like the mission statement at the end about the target of an open block builder and that's a laudable aim and I think Flashbots'biggest moat that stops other people getting there first is the brains that it attracts. But in the long term, do you not think that a non open builder is still going to win one day?
00:24:40.900 - 00:24:58.660, Speaker A: I mean, it's possible. We are hoping that it doesn't. I think in case it does, it also makes a lot of sense to pursue alternate research tracks such as these side channels where you can force specific transactions to be included right.
00:24:58.660 - 00:25:13.636, Speaker A: In public blockchains. This at least gives you like censorship properties. So we should definitely do a lot of research as well into how public blockchains can keep their properties that we like today, even if the builder role is completely centralized.
00:25:13.636 - 00:25:36.896, Speaker A: But sort of one thing that I haven't seen so far that can be solved. Is this property of market power for users? Right where right now you have multiple builders competing to include the user at the cheapest price. And if you have one party, like even technology like these Cr lists, they don't help you with that.
00:25:36.896 - 00:26:01.080, Speaker A: This party can still charge arbitrary amounts of rent from users. There are a lot of things that we have to explore here, like a lot of advantages that go into being a cross chain builder. For example, inventory management across both chains, right across multiple domains.
00:26:01.080 - 00:26:20.850, Speaker A: I think if we don't want a centralized party to win, then you will have a whole industry sort of having to pop up around this idea of keeping the supply chain flat, such as inventory on demand on different domains, so that searchers and builders don't have to maintain it themselves.
00:26:25.060 - 00:26:25.680, Speaker B: All right.
00:26:25.750 - 00:26:26.096, Speaker A: Thank you.
00:26:26.118 - 00:26:26.524, Speaker C: ASU.
00:26:26.572 - 00:26:33.390, Speaker A: I think we're done with questions. Thank you. Thanks, everyone.
