00:00:00.330 - 00:00:30.950, Speaker A: You. All right? So I'm coming to you here with some minimal prep, some two year old slides and some vintage memes but using these like very humble ingredients, I'm going to do the impossible and I'm going to answer the question of do te suck? And then I'm going to convince you that SGX is the bullcase for all cryptocurrency within 20 minutes. And you probably don't believe this now, so let the magic begin, okay? Hence starting the two year old slides.
00:00:30.950 - 00:00:59.822, Speaker A: Okay? So two years ago we envisioned a post relay world basically looking towards Me D boost and said one thing we must do this is kind of even before Mevboost relays when we called the Flashbots software a relay. One thing we must do is we must remove all elements of minor and Flashbots trust in the Mev auction here system means Mev auction. Otherwise Flashbots and Mev has failed in its effort to keep crypto decentralized and we've kind of centralized crypto to some trusted points.
00:00:59.822 - 00:01:16.360, Speaker A: So I think we're all on the same page here. We all know the risks here of trust collapse if people stop trusting mev. Actors cat and mouse game when it comes to attacks on the system that may or may not be falsifiable from a technical perspective a need for constant data and policing of people's behavior within the system.
00:01:16.360 - 00:01:33.306, Speaker A: Major centralization in the ETH stack, which certainly we've seen some of and also vampire tokens that can come in and kind of sweep up various corner cases of system incentives and become politically important in the system. Eigen layer. Sorry.
00:01:33.306 - 00:01:50.682, Speaker A: So these are the risks if we don't decentralize and we don't kind of move past what the status quo we have is today. So what are the proposals to do this? So these are some old proposals, but certainly in this vein there are many new proposals. One vein of proposals people have made is an economic in nature.
00:01:50.682 - 00:02:16.040, Speaker A: So basically let's come up with some economic incentives, some crypto economic scheme where people suddenly are rationally incentivized to behave honestly aka how we expect them to in the protocol either through lost revenue or explicitly through slashing conditions, et cetera. And maybe this is enough to decentralize the auctions and the games that we rely on today, but maybe not. So today I'm going to talk about an alternative and again, keep in mind these are two year old slides but I'm going to kind of blaze through them and get to the new stuff.
00:02:16.040 - 00:02:47.934, Speaker A: So what does SGX actually help you do? Well, one way of thinking about it in a very informal kind of systems thinkers attack defense way is SGX or here we call it Voldemort because it is that which shall not be named removes the wiggle room people within your system have, assuming that it's operating correctly in many cases. So without SGX, when you're looking at someone behaving over a network and you're communicating with someone, they have all this Wiggle Room. So these things they can change in how they're communicating with you, how they're processing, how they're dealing with information, et cetera.
00:02:47.934 - 00:03:18.134, Speaker A: They can manipulate the network which kind of lies between where you are and where they are in various ways, or they can change the code they're using to generate various messages. So if there's some algorithm, some key exchange algorithm that you expect them to be running, they can, for example, modify that to use bad randomness or to log certain aspects that maybe are supposed to be kept private or et cetera. So SGX basically helps you kind of get rid of one aspect of Wiggle Room, which is the Wiggle Room people have in changing the code they're using to interact with your protocol.
00:03:18.134 - 00:03:41.714, Speaker A: It does this through a primitive called remote attestation. There's going to be a talk on that in like ten minutes, so I won't go too much into that. But it gives you this kind of very nice property that if the code is not in the Wiggle Room, you don't need to define these kind of economic conditions which at this one level up abstraction of economics have to reason about how you get code security from the messages you've seen.
00:03:41.714 - 00:03:57.718, Speaker A: So like, okay, assuming we've seen this message, someone must have at least done this much in running the code and we reason from security based on that. Here you can reason directly about what the code people are running is. Again, assuming you trust SGX, and this is a super important point we're going to get to in like five minutes.
00:03:57.718 - 00:04:22.586, Speaker A: But let's assume SGX works. Let's suspend our disbelief here. Then suddenly as an economic mechanism designer, you remove the need to reason about kind of this second layer of abstraction of what code generated the messages and what code is this actually doing? One thing we're going to argue for in this talk is basically a concept we call defense in depth, which is that assuming SGX is at all useful in some way.
00:04:22.586 - 00:04:49.240, Speaker A: Again, big assumption suspend your disbelief. Adding SGX to a stack that involves many other elements of security, maybe economic, maybe crypto techniques like MPC or zero knowledge proofs or even fully homomorphic encryption, et cetera. Combining these systems with SGX in theory can give you strictly better outcomes because SGX kind of has a different threat model and a different set of breaks than these other protocols tend to.
00:04:49.240 - 00:05:19.598, Speaker A: So this is again two years ago. I'm going to give you the updated version of this which I think is more interesting to this crowd or 18 months or whatever, but when I made these slides I was kind of arguing that SGX and economics are complementary for mev. Why? Because there are a bunch of kind of angles of each security where each kind of protocol, each type of approach falls short and in these shortfalls the other approach kind of is able to bolster and patch over some of these shortfallings.
00:05:19.598 - 00:05:41.178, Speaker A: So if you look at the capital required so how much money does it take to break your system? This is clearly an important aspect to security with SGX. We actually don't know how to quantify this yet, so it's a little bit unclear how to parameterize this in practice. With economics, maybe you have some intuition, at least a basic intuition, as to how much it would cost to basically perform some attack on your system.
00:05:41.178 - 00:06:07.502, Speaker A: So in this way, economics kind of provides a natural bolstering to SGX. That being said, there's a few aspects where SGX kind of shines. So if you look at basically the engineering expertise and capital required to break the security that you haven't designed for in the protocol to break SGX basically, and to access this attack surface that comes from modifying the code, you need to pay a pretty clear engineering penalty.
00:06:07.502 - 00:06:19.810, Speaker A: You have to solve a pretty complex engineering problem, which is basically breaking SGX, right? At least we theorize. We assume this is complex. Again, suspend your disbelief, we'll get to it later, blah blah blah.
00:06:19.810 - 00:06:42.710, Speaker A: So assuming this is the case, this kind of adds a nice layer to the economic conspiracy, right? If it takes more than just money, if you also need kind of cutting edge electronics equipment to break a system, clearly the bar becomes higher in practice for your security. Another interesting thing is, let's say you do have a lot of capital. You can actually break most economic protocols with a fairly small conspiracy.
00:06:42.710 - 00:07:05.454, Speaker A: So it takes a fairly small number of people or entities likely to pool enough capital to kind of substantially impact a lot of the protocols we're building. You can look at this in practice even with proof of stake and large stakers, or you can look at kind of weaker security models like Chainlink Oracles or something like that. The conspiracy size is pretty small in SGX to actually create a physical space where you break a chip.
00:07:05.454 - 00:07:35.422, Speaker A: Assuming that we can get past some of these lower hanging fruit attacks we've seen, you may actually need a larger conspiracy which is useful for kind of making an attack public before it happens. And also it possibly introduces some lead time. So we've seen this with Mango markets, with the famous Abby, that all these economic exploits kind of can really fully rug you, because one guy working in their basement with enough capital can just kind of go in one block and deploy this, potentially through a private mempool, potentially through Flashbots, potentially even not.
00:07:35.422 - 00:07:54.158, Speaker A: And within a block, if they've broken your security assumptions, if they've managed to gather this high capital cost, you have very little actual lead time to respond. We've seen so many protocols fall over due to this lack of lead time. We've also seen protocols try to patch around this lack of lead time, for example, delaying Oracle updates, et cetera.
00:07:54.158 - 00:08:11.954, Speaker A: And we know as kind of system designers that that introduces more trade offs. So clearly complementary here. Another fun thing is if you look at the limit of mev, which is a very spiky kind of distribution of capital, again, these are super old stats.
00:08:11.954 - 00:08:44.274, Speaker A: So the highest mev bundle then on Flashbots was 360K. I'm pretty sure we've surpassed that at this point. But when you have these spiky distributions where you may have one epic or one instance of the game where the incentives far outweigh the meta game or other instances of the game that player may be participating in, like you do in proof of stake or proof of work, you can easily see economics breaking down at the limit, whereas pure crypto solutions or even trusted hardware kind of break down a little bit harder than pure economics does.
00:08:44.274 - 00:09:13.546, Speaker A: So one example is like the collapse of Terra, right? When Terra collapses, suddenly all the economic security in every system that's kind of relying on some second order economic security that touches Terra in any way. You see this cascading failure of all these economic assumptions, whereas with technical assumptions there's a little bit more robustness across these cascading failures. So that's nice, but is SGX actually secure? We have these kind of SGX fail attacks.
00:09:13.546 - 00:09:22.158, Speaker A: It's in the required reading we've seen. Again, these are old slides. So back then Meltdown Inspector were the buzzwords, but there have certainly been many more ever since.
00:09:22.158 - 00:09:49.078, Speaker A: See Andrew's work in SGX fail for more there. So is it actually secure when we see all these breaks? Well, in my opinion, this is an unanswered question, and here's why it's unanswered. Because when you look at combining SGX with economics or combining SGX with other approaches, what you see is basically whether you can combine these ingredients successfully depends on the marginal cost of an SGX attack, not whether SGX can be broken at all.
00:09:49.078 - 00:09:56.614, Speaker A: So there's a little bit of a subtlety here. So these are two possible attack curves for SGX. In this top universe, we're screwed.
00:09:56.614 - 00:10:01.046, Speaker A: That's the crying face. In the bottom universe, we're doing pretty good. That's the party emoji.
00:10:01.046 - 00:10:14.734, Speaker A: So crying Face is basically a world in which you have to pay some upfront cost, maybe a pretty expensive one. Maybe you need to acquire some hardware, maybe you need to get together a team of PhDs for four months, et cetera. Who knows what you need to do, but you need to pay some cost.
00:10:14.734 - 00:10:29.654, Speaker A: And then once you've paid that cost, you have a break that can then be repeated on any number of chips very cheaply. So that's what we call a low marginal cost attack. So even though there's like a high upfront cost, the cost to compromise additional units of SGX is extremely low.
00:10:29.654 - 00:10:38.920, Speaker A: Meltdown Inspector are both attacks in this category, at least for some protocols? Not for all. We'll get there later. There's some spicy subtleties there too.
00:10:38.920 - 00:11:10.820, Speaker A: So if we're in this universe, we're kind of screwed. But let's say we can achieve this bottom equilibrium where a lot of these low hanging fruit attacks are patched over. And in the Iterative kind of crypto security game, the same way we've seen with symmetric encryption, the same way we've seen even with hardware enclaves on iPhones, et cetera, security increases over time and the low hanging fruits go away, right? If we're in that universe and we keep seeing investment in these protocols, maybe we live in a world where each additional compromise costs, I don't know, $100,000, $50,000.
00:11:10.820 - 00:11:44.222, Speaker A: And then if we can estimate this curve, we can parameterize our protocols to kind of be more secure than to be robust against this attack, right? So if we live in this world, we're actually doing great, and we can definitely use SGX for defense in depth. And why wouldn't we? It's like a free additional attack vector that complements economics, that complements pure cryptography in some ways, right? So great, if we're in this world, use it. So another kind of subtle question in SGX security is there are two parts to this question.
00:11:44.222 - 00:12:17.170, Speaker A: Number one is, what is your protocol relying on SGX for? And number two is what happens when it breaks? What are the consequences of one of these attacks succeeding? And those are both extremely relevant questions as to whether SGX was usable in practice, right? So if you take a look at ETH l one consensus security, you could say like, okay, why are we bothering with all this blockchain stuff with all this crypto economics? If we could just run SGX. Well, in that setting, you have billions of dollars of capital sitting on chain in AMMS, in liquidity pools. You have mev incentives going on all the time, et cetera.
00:12:17.170 - 00:12:29.990, Speaker A: You have censorship incentives. So you have massive, massive incentives around manipulating the protocol, and a massive kind of cost to a failure here. So a failure kind of erodes the very trust on which this protocol operates.
00:12:29.990 - 00:12:52.990, Speaker A: So in this case, obviously, SGX is not appropriate because you're securing a lot of money and it's completely unacceptable to have a break. Having a break is kind of the end of the system. In that game theory, you would never use SGX, right? But in some other game theories, maybe you have a case where the public can tell actually when SGX is broken and it's falsifiable, then SGX is usable for defense in depth.
00:12:52.990 - 00:13:18.630, Speaker A: Maybe you can provide objective evidence, right? If you can provide objective evidence, you have actually a very strong security model. You have a falsifiable security model for SGX, something we need to write more blog posts and go on in more depth. But that's super nice if you have objective evidence guaranteed, anytime SGX breaks, you can just show this to people and say, like, look, we're secure, and now we've detected a break and we've kind of reasoned in advance about what happens when SGX breaks.
00:13:18.630 - 00:14:23.774, Speaker A: We can just go down that path and it's fine, right? Or if the evidence is not objective, if you can just kind of detect that something funky is going on in the system, you can maybe build subjectively more secure protocols that kind of achieve these robust meta properties, right? So all this is to say I'm trying to convince you that SGX is not a zero or one, it's not a binary, right? And why do I care about SGX? Well, I care about SGX. Because if you lay out the landscape of mev auction techniques and you actually ask the question of how do you build the best possible mev auction? The one that maximizes surplus for users, the one that maximizes network security and payment for validators, the one that's maximally economically robust against actors that are willing to violate kind of these consensus norms? These are the design goals of our mev option. And when you lay out all these different techniques that we have, I mean, there are clear trade offs here, right? So I'm going to kind of just go through the techniques, take a picture of this table if you care, because I'm not going to run through the whole table, it's too boring and I just put it together in 1 minute earlier today.
00:14:23.774 - 00:14:39.746, Speaker A: So that's why there's this troll face, which by the way, many of you youths in the room may not recognize this vintage meme, I always get called out on it, but I'm old, so please let me have it. That's the one thing I ask. So trolling you with this table and not to be taken seriously.
00:14:39.746 - 00:15:02.350, Speaker A: I'm trying to articulate that there are many trade offs in what we can actually use to build mev auctions and privacy in crypto. We can have centralized privacy, which is what the Flashbots auction enforces today, which is the guarantees Flashbots provides searchers and users through protect and et cetera. You can build a committee, you can use chainlink, you can have your fair ordering set, you can try to punt it to some committee of notaries.
00:15:02.350 - 00:15:23.330, Speaker A: There are trade offs there. You can have SGX or some other te involved in this auction. You can have an economic protocol that is layered on top of this crypto economics to probably try to slash people when they misbehave or design an auction in certain ways in the public that gives users incentives, design the public mempool in a certain way, et cetera.
00:15:23.330 - 00:15:42.390, Speaker A: You can use MPC. So using MPC, we have a blog post out about this that I'm going to pump about how you can use MPC to securely negotiate a back run between a user and an Mev searcher that pays the user an mev kickback without leaking the user transaction. Right? So that's super powerful.
00:15:42.390 - 00:15:54.358, Speaker A: So you can definitely use MPC at aspects here and eventually maybe you can use stronger techniques like fully homomorphic encryption. That being said, all these things have tradeoffs. So the committee what sucks about the committee.
00:15:54.358 - 00:16:24.306, Speaker A: Well, what sucks about the committee is that a subset of this committee can cheat you in a way that no one else can actually tell. And if you combine this with the economics of hedge funds basically being incentivized to sit on this committee and profit more from these committee positions than anyone else or mev searchers or whatever else right, you end up with a subset of actors on your committee that's incentivized to behave rationally, that can cheat you without it being falsified, in many cases, in mev. Auctions and kind of private information theory.
00:16:24.306 - 00:16:41.162, Speaker A: So that seems suboptimal, right? And we have to build around that. There's also an incentive to colocate with committees. So like, if committees can profit more if there's low latency to other committee members, there's a pressure on committee members to geographically colocate, which I'm writing a blog post about.
00:16:41.162 - 00:16:51.902, Speaker A: I think this is the worst thing in crypto. If we get to geographic incentives to co locate, we're fucked. And we're all going to end up under regulation and under a single regulatory regime one day.
00:16:51.902 - 00:17:02.418, Speaker A: And that's a Dystopia, so let's not get there. Right? SGX tee, it has other trade offs. You're dealing with all these arcane attacks that are hard to model, hard to understand.
00:17:02.418 - 00:17:11.506, Speaker A: We don't understand the trust model. In some ways you're relying on intel and Intel's reputation. I would argue this provides defense in depth to the committee and economic protocols.
00:17:11.506 - 00:17:29.558, Speaker A: Because intel has less incentive to tamper with the mev game than the participants in this committee or the participants in this crypto economic protocol. Right? Because their business and their trust lies outside of the mev industry. So why not use both? Again, MPC, similar story, great security guarantees.
00:17:29.558 - 00:17:39.434, Speaker A: There a number of problems. There are no fair MPC protocols. MPC protocols are super high overhead and would require much longer block times to be effective at actually building blocks.
00:17:39.434 - 00:17:52.958, Speaker A: There's also a huge communication overhead that's geographically centralizing. Again, this is the worst thing we can have in crypto. And that means that you'll end up with Solana style kind of clusters of nodes in one data center or one locale.
00:17:52.958 - 00:18:24.062, Speaker A: So what is this table all to say? It's all to say there's no silver bullet, there's only trade offs. And what we really want to do is combine all these columns into a single system that leverages the best boxes here in an intelligent way to provide defense in depth. And I think SGX is the simplest way to bootstrap this, by giving people something usable, plugging in various aspects of all of these different security models to bolster security and build the best possible mev option.
00:18:24.062 - 00:18:48.526, Speaker A: Why do I also think SCX is great for mev? Well, because if it breaks, yes, it sucks. Yes, people will get cheated in the mev market, but we're not losing billions of dollars in consensus, right? And mainly we can build systems where we just fall back to today's more centralized or committee based status quo. Right? So in that case, a failure of SGX is much more tolerable, and the advantages it becomes are much more attractive.
00:18:48.526 - 00:19:24.362, Speaker A: So what are the trillion dollar questions? Answer these questions and you get this wonderful stock photo of a money shower. Now we've gotten to my new slides, so time to pay attention if you've been tuning me out. So the first open question is, what is the actual security model of SGX as it interfaces with economic systems? What is the attack cost curve I mentioned look like in equilibrium? What can we expect it to look like? Another open question is are there any smart tee tricks we can use to actually bolster the security a lot? So here's one fun one, which I'm going to troll the crap out of you, which is you can actually use the enclave ceiling key for a lot of security properties and privacy properties.
00:19:24.362 - 00:19:47.826, Speaker A: You don't need to use the Attestation key or even remote Attestation at all in a lot of settings. If you're in one of these settings, then all of the attacks that have basically happened on SGX so far have been on the Attestation process and the Attestation key, which is a much lower security key than the ceiling key. It's hypothesized that the only way to extract the ceiling key is to destroy the hardware because it's embedded in a 3D silicon matrix.
00:19:47.826 - 00:20:02.166, Speaker A: So even with a microscope, you can't extract this key. And the leading experts on kind of silicon manufacturer think this may actually be impossible. Even with a billion dollar budget and state of the art machinery, you may not be able to extract such a key, assuming intel is not compromised.
00:20:02.166 - 00:20:17.794, Speaker A: So what now? Can we actually use this? Can we leverage other tricks to get past these security models? To go past this binary of like, SGX is broken? SGX is not broken. What about alternative tees? So if we can build special purpose tees, we can actually do much more with SGX. I know I'm over time.
00:20:17.794 - 00:20:38.626, Speaker A: Two minutes left. I'm done, I promise. So a lot of SGX attacks come in this interface between SGX and the general purpose Intel's CPU, right? So even the ability to set this interrupt timing that Andrew was talking about, and many, many other features relate to this boundary between this general purpose processor and this special purpose processor.
00:20:38.626 - 00:21:02.986, Speaker A: What if we could just have a special purpose processor, right? And doesn't have to be fast, it just has to be secure, right? Maybe we can build that cheaply. Who knows, maybe we don't actually need to build that many of them to be effective. So that's something that as a community, why wouldn't we look into that? Also bolstering the security of SGX with defense in depth with one of three set up with other Arm Tees or et cetera, even iPhone.
00:21:02.986 - 00:21:17.326, Speaker A: Kind of secure enclaves. That's a research direction that I think is super promising for the future of crypto. So the last thing, and this is something Flashbots is doing now, which I think is kind of the missing piece in convincing you that SGX is really a bullcase for all of crypto.
00:21:17.326 - 00:21:32.054, Speaker A: And then I'm going to give you the hype after this slide to me, lies in these things that we're developing called the Suave primitives. So ask Tina about the suave primitives. This is kind of a small set of primitives that we're going to be releasing shortly.
00:21:32.054 - 00:22:12.182, Speaker A: They look a lot like functional programming. They look a lot like various concepts in information theory and theory of computation, but mapped specifically onto mev and optimizing mev options in the context of crypto. So we believe that these primitives basically provide a nice bridge between two different sides of the cryptocurrency effort mechanism design, which can be translated into these primitives to reason about what auctions can we actually build with these primitives, what information should we reveal, how do we negotiate on information, et cetera? That's a whole line of work, right? And then cryptography, how do we define cryptographic games and abstractions? And this is something we're actively collaborating with cryptographers on.
00:22:12.182 - 00:22:25.274, Speaker A: Write these things in a language that cryptographers can develop schemes for, and let's use this to turbocharge the next 20 years of crypto development. That's the bullcase for crypto. So, okay, 1 minute, I promise, 1 minute, I'm going to tell you this is real.
00:22:25.274 - 00:22:39.994, Speaker A: So Flashbots right now is running a block builder inside an SGX enclave on the ETH Sepolia testnet, and we are planning to move this block builder into mainnet testing soon. Like very soon. Right? So it's not secure.
00:22:39.994 - 00:22:59.990, Speaker A: It's an alpha product, it's experimental. There's a lot of work to do in really making this a true end to end product, but we are getting ready to kind of start moving a lot of the trust based infrastructure that we offer onto SGX to give another layer of security to people who today trust Flashbots. Not to misbehave or to not Censor transactions or to behave a certain way.
00:22:59.990 - 00:23:13.750, Speaker A: So this is the transition that we're making actively right now. So if you work on any of these questions, I promise you it will have impact, because we will make sure it has impact. Okay? The last thing I want to talk to you about is the bull narrative for all crypto.
00:23:13.750 - 00:23:26.078, Speaker A: So we're in a bear market, things are crashing, whatever, 20%, who cares, all doom and gloom, but here I am. I'm going to tell you about hypermevization. So, hypermevization is how cryptocurrency takes over the world.
00:23:26.078 - 00:23:50.214, Speaker A: So this Emoji means rocket fuel. So basically my argument here is that mev serves as rocket fuel to develop these Suave primitives and these decentralized builders and these decentralized Mev systems, and these distributed auctions, these less centralized systems than we're currently seeing today, that's going to be rocket fuel for SGX and Tee research. Suddenly you have billions of dollars relying on Tes in a way that they never have before.
00:23:50.214 - 00:24:04.874, Speaker A: Maybe not fully for security because again, we're going to do defense in depth, but certainly this, I think, will serve as a catalyst for Te development here. You don't need just one chip to kind of do a shared ML thing. We're going to really turbocharge what you can do with Tees in real time.
00:24:04.874 - 00:24:29.438, Speaker A: Now, that will catalyze Fhe development because that is our exit as a space from Tees. So this will catalyze through these crypto abstractions, new forms of cryptography which encapsulate what economically we actually need from privacy, not only in the crypto space, but in ad auctions, in TradFi, in all sorts of markets all around the world, right? These markets need privacy. These markets need crypto.
00:24:29.438 - 00:24:49.862, Speaker A: Therefore, these markets need cryptocurrency. And we need to catalyze the development of the right crypto primitives for actually solving these fucking trillion dollar problems that the world has and fixing the mess that's left to us by these trust based systems. So through this, Fhe becomes rocket fuel for crypto winning, and then that becomes rocket fuel for money.
00:24:49.862 - 00:25:06.718, Speaker A: That's parsable by the AGI, which rises from an mev bot that optimizes user preferences, and we all enter the next phase of utopic mev human evolution. And the bull beats the bear. So if you're interested in that, join us, join the Conversation flatspots net, keep up with our SGX work.
00:25:06.718 - 00:25:09.020, Speaker A: And that's all I've got to say. I'm five minutes over. Thank you.
