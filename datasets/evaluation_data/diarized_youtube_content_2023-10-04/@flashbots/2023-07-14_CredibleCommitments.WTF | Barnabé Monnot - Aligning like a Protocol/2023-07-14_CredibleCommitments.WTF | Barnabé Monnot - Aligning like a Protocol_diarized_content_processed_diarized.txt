00:00:39.890 - 00:00:40.440, Speaker A: Hello.
00:00:41.530 - 00:00:47.394, Speaker B: I could hear myself. Right, okay, yeah. Thank you everyone, for joining.
00:00:47.394 - 00:00:52.006, Speaker B: Super glad to be here. And thanks, Jin, for putting that together. Very quick intro.
00:00:52.006 - 00:01:12.754, Speaker B: I defended my PhD with Georgios Hi in 2019, after which I joined the Ethereum Foundation. In 2020, we started the Robust Incentives Group, which is a research team looking at some things that have to do with crypto economics in the Ethereum protocol. Like proof of stake consensus, EP 1559, mev more generally, mechanism design.
00:01:12.754 - 00:01:25.186, Speaker B: We have a new homepage, which is a work in progress that has all of our work. I encourage you to check it out. My goals for today is to give you mental models for VFR protocol.
00:01:25.186 - 00:01:40.282, Speaker B: Kind of tell you who does what and why. A bit of speculative discussion on alignment because I thought this would be the theme of this conference. I talked about them for quite a bit, actually for maybe the last year or two as principal agent problems.
00:01:40.282 - 00:01:58.110, Speaker B: And I realized that it's very much related to these questions that people are asking in fields like what David was presenting on commitments. And so my goal is really like a zero order information transfer. Just tell you what I know and maybe later you can tell me what you know and we can add on it and we can find a common ground.
00:01:58.110 - 00:03:05.310, Speaker B: So let me start with this idea of seeing like a protocol. It's something I wrote about a month ago and I wanted to address partly, of course, the questions of first, where does protocol credibility come from? Because we talk about credibility a lot, about, okay, it's credible when Ethereum does it's not credible when you do it out of ethereum. And so I was really wondering, what do we mean exactly? Can we find a definition that's maybe more actionable? And what is the capacity of this credibility? So how much budget we have for credibility? What is the constraints that we have? And how much can the protocol defend if the protocol has these credible mechanisms? And then what is the relation between Ethereum and other domains that may reinforce or may attack the credibility of Ethereum mechanisms directly? So this is in a post, but I'll give you, let's say, the TLDR, and I start from this perspective, which is that the Ethereum protocol is an object that is set up by a community which is fairly diffused.
00:03:05.310 - 00:03:26.458, Speaker B: You can think of them as the stakeholders of the protocol. You have this idea of the rough consensus type of governance where people are making updates. They try to figure out what do we want out of the Ethereum protocol? And really the goal, as I think of it, is the decentralized provision of block space for users to achieve maximal welfare.
00:03:26.458 - 00:03:39.722, Speaker B: So this block space is what users are using to make transactions interact with programs deployed on Ethereum. And they do that because it gives them some kind of value. And if you want to achieve maximal welfare.
00:03:39.722 - 00:04:06.750, Speaker B: The, let's say corollary is that you want to achieve minimal rents for whomever is running the platform. And so to achieve this goal of decentralized provision, the protocol party delegates its execution to a set of validators which is here. And so already you have kind of like three parties and so you have two relationships, the community setting up a protocol and then the protocol delegating that execution to the network of validators.
00:04:06.750 - 00:04:39.474, Speaker B: And so there comes the first problem and in this talk I'll often be saying is this alignment? Because I'm not exactly sure, but perhaps you can tell me after. But the first alignment problem is I see is how do you ensure that the validators who are kind of the ones that are delegated to the task of running the protocol do that in a way that is synergic with the goals of the protocol. And so two things that I observe is really when we talk about credibility or when we think about protocol, we think about these two concepts.
00:04:39.474 - 00:05:13.566, Speaker B: The first one is protocol introspection. So it's the idea that the protocol is kind of trying to gather credible signals of what's happening, how people are interacting with it, how the validators are, the quality of the job they are performing for the protocol. So the credibility of this signal is very important because then the protocol is going to want to use this signal to respond to, let's say, attacks or to defend itself or to promote something or to lower or raise the price of entry into the chain.
00:05:13.566 - 00:05:25.860, Speaker B: And so that agency part is very important. It's really how do you make these signals actionable to some extent. And so these are opportunities.
00:05:25.860 - 00:05:44.844, Speaker B: So you want to use this introspection and this agency to essentially have this protocol that satisfies your goal. But these are under threat. So one threat to introspection is that the validators may want to attack the credibility of the signal if they find that it's rational for them to do so.
00:05:44.844 - 00:06:02.310, Speaker B: For instance, they could do this. And I'll go into that a little bit more later by credibly committing to rational majority attacks. And if you have structures that allow them to make these credible commitments, you may find that some of the mechanism that you have in protocol, they are not stable any longer.
00:06:02.310 - 00:06:31.980, Speaker B: And one threat to protocol agency is when you defend certain outcomes as a protocol, it also means that you're becoming very prescriptive. Like you say, this is what I want to be realized. And so when we are very prescriptive about outcomes, we may end up optimizing for the wrong thing, which as I understand is a big question when you think about AI alignments, like what is exactly the thing that you're trying to optimize for? And if you said you optimize the wrong, you might have very weird second effects.
00:06:31.980 - 00:06:52.788, Speaker B: And so I see, let's say, a few places where the misalignments may happen. In this talk, I want to focus on these two. The first one is the Validators may subvert protocol consensus, so they may try to capture the network and extract more or all of the revenue for themselves.
00:06:52.788 - 00:07:13.876, Speaker B: That's the first one. And the second one is Validators may try to subvert user expectations who come to a trade with some kind of economic need, or they want to do some economic interaction. But the Validators who execute these transactions, they may be in a position to enforce the worst possible execution or the worst possible conditions for the execution of these transactions.
00:07:13.876 - 00:07:25.448, Speaker B: And that violates to some extent, the expectations of the user. So if the validators are not aligned with the users, you don't get this maximal welfare for users. That was your original goal.
00:07:25.448 - 00:07:44.192, Speaker B: There's a third possible misalignment, which is that you set up a protocol and it turns the Earth into a giant mining farm. But I won't talk about this one today. And so is there hope? So this is how I think about, let's say, realignment with proof of stake protocol.
00:07:44.192 - 00:08:09.628, Speaker B: Specifically, it's actually possible for the community to sort of intervene, to step in and to root out Validator misalignment, which is essentially forking out Validators from the set that is currently operating the protocol. So what you want to do is, as a community, you want to commit to a course of action, which is why you set up the protocol in the first place. You say, now the Ethereum protocol is running.
00:08:09.628 - 00:08:15.928, Speaker B: It's out of our hands. The punishment is automated. The signals are given by the, let's say, environment.
00:08:15.928 - 00:08:23.488, Speaker B: It's credible. And so you want to be as hands off as possible and say, these are the rules, they're open source. You can see what will happen if you do this.
00:08:23.488 - 00:08:38.784, Speaker B: And so you want to have this introspection and this agency. That's really the first defense that you have. But if you find that your Validators are trying to actively undermine either of them, well, you can still come in and provide this defense of last results.
00:08:38.784 - 00:08:59.244, Speaker B: And so this equation that I write is the credibility of a protocol really comes from the ability to have this introspection, the ability to respond to signals via agency. And then at the back you have this defense of last resort, which is that you have a community that set up this thing in the first place. And if the thing goes haywire, maybe you can try to realign it based on this.
00:08:59.244 - 00:09:24.150, Speaker B: And so what I find interesting is I was reading the Open Problems in cooperative AI paper. They talk a lot about this idea of institutions and how you have institutions that are defined essentially by the norms and expectations of people who interact with these institutions. And what I find here is that when I talk about this community and this defense of last resort, what I'm essentially saying is that we see Ethereum as an institution and we're willing to defend the goals that this institution has set up for.
00:09:24.150 - 00:09:31.860, Speaker B: Any questions so far? Any comments?
00:09:33.100 - 00:09:37.000, Speaker A: I'm curious if everyone is familiar with the concept of blacker validator.
00:09:39.020 - 00:09:49.790, Speaker B: Yeah, it's a good question, and I have a handy slag. Okay, yeah, I can talk about this right here.
00:09:52.160 - 00:09:53.708, Speaker A: I do have another question.
00:09:53.874 - 00:09:54.636, Speaker B: Okay.
00:09:54.818 - 00:10:05.520, Speaker A: So you say you're making this point in the low car misalignment that validators face some burden user expectations. We didn't quite understand what you meant.
00:10:07.380 - 00:10:23.050, Speaker B: I really mean like mev. So you come in with your transaction, you think you're going to do a swap and be given the best price, and then you end up being sandwiched. I'll go into that one a bit more.
00:10:23.050 - 00:10:27.930, Speaker B: Yeah.
00:10:29.980 - 00:10:31.800, Speaker A: Also means our institution.
00:10:39.260 - 00:10:42.244, Speaker B: Quickly. Yeah.
00:10:42.382 - 00:10:44.190, Speaker A: Or it's something more difficult.
00:10:46.960 - 00:11:07.044, Speaker B: It's a question that comes back often. So on the one hand, I think there's this idea that maybe you want to have a constitution and you can say, these are the things that we really want to happen. We never want people to destroy the credibility of the base leaf, which I'll talk about a bit later, you set up for yourself.
00:11:07.044 - 00:11:24.088, Speaker B: You want to write down precisely the thing that you are willing to step in and do. If you do that, it means that now you're telling opponents, I'm not willing to step in when you're going to do this. And so there's another camp which is more like the idea of rough governance, which is that it's better if it's a diffuse process.
00:11:24.088 - 00:11:42.880, Speaker B: Because first, if you have a constitution and if you have a set of people who write it, like, who's that set of people? Who's the committee that kind of makes these decisions? So yeah, I don't know that there's like a single answer, but definitely I see these two, let's say, polarities in the debate.
00:11:45.780 - 00:12:11.976, Speaker A: You think you could be a reseller approach, for example, how to track validators substantially and then read on are not necessarily, for example, rules in my I.
00:12:11.998 - 00:12:28.290, Speaker B: Think there could legitimately be some conditions. Maybe I can talk about some of them as I go through more examples in the talk. But for instance, if we saw validators consistently messing up with the timing of their test sessions, we could essentially try to step in and say, okay, you can't really do that.
00:12:28.290 - 00:12:41.680, Speaker B: But yeah, that's a good question. Maybe I can come back to that once I have more examples to give. All right, I was going to skip that slide.
00:12:41.680 - 00:12:53.060, Speaker B: What's the validators? So validators are essentially the people who are running the network. So Ethereum is a distributed system. It requires consensus over the state of the chain.
00:12:53.060 - 00:13:14.936, Speaker B: And this is done with what's called the proof of stake based mechanism. Who participates in that mechanism? These agents are called validators, and you can think of them as first class protocol operators. They are the ones who are ultimately responsible for maintaining a single view of a ledger and to do that they produce blocks and they are accountable for safety faults.
00:13:14.936 - 00:13:42.580, Speaker B: So whenever there are different use of a network that exist, perhaps because the chain has fault, they would be responsible for bringing back the state of the chain into like a single view that everybody agrees on a bit more precisely how they do this. So, to become a validator in Ethereum, you have to lock up 32 if in what's called the deposit contract. And then you wait for activation.
00:13:42.580 - 00:14:08.104, Speaker B: So you have to commit some kind of nontrivial amount of money which would be taken from you if you, let's say, do a bad job. And the jobs that you have to do is first you have to propose blocks. So every 12 seconds somebody is sampled from a validator set and they are asked okay, now you make a block and you include the transactions that you see that are pending and then more regularly the validators are expected to provide attestation.
00:14:08.104 - 00:14:41.640, Speaker B: So they give their view of the network, they emit a single message that says I believe this is the head of the chain and I believe that these are the blocks that we should finalize and say okay, this is definitely part of history and we can't fought back before that. And so you can think of it as there's a bit like two layers in the chain. The consensus layer which is responsible of coordinating people around this single view and the execution layer which is responsible with the transactions and the execution and these economic interactions that users are doing on the chain.
00:14:41.640 - 00:15:10.080, Speaker B: So this idea of validator accountability is that the protocol essentially specifies rewards and penalties. So whenever you produce a block, you get reward for the production of that block, you get reward if people vote on your block and you also get transaction fees that come from the execution payload. So whenever users are making transactions, these transactions are valuable and you get some of that value as validator.
00:15:10.080 - 00:15:41.020, Speaker B: If you don't do a good job, for instance, if you're offline and you're not voting, you will get this inactivity penalty where your stake will be reduced over time. And if you do faults that are essentially attributably very bad, such as proposing two blocks that are conflicting, you will be slashed and you will lose like a very big part of the stake that you put in the system. And so that's one way that the Ethereum protocol tries to align its goals with what the validators are doing by specifying these rewards and penalties.
00:15:41.020 - 00:15:59.888, Speaker B: And the question is, well, hopefully the blockchain that is output by the process of validators doing their job should match the specification of the protocol which is maximum throughput not too much forking, no validators being online and responsive, but that's.
00:15:59.904 - 00:16:01.350, Speaker A: Not always the case.
00:16:04.200 - 00:16:32.968, Speaker B: And so one example that we have, and it's a paper that we published recently with some people in my team, including Toma and other collaborators, study of timing games, for instance, validators, they could try to carve out more time versus the honest specifications that they're given to complete their duties. So whenever I'm going to propose a block, I can wait a little longer to accumulate more transactions that give me more fees, for instance. But if I wait longer, then there are testers who want to vote on my block.
00:16:32.968 - 00:17:02.650, Speaker B: They might have incentive to wait longer as well. So we've modeled that in a paper I just learned about faithful implementation from David Stock and I'm wondering if maybe this is related because you specify this protocol to run in a distributed system and you expect the validators to run it, but perhaps it's not rational for them to do so. But in the paper we find that you can essentially find an ash equilibrium that shows that people would do the job in time and you can coordinate them.
00:17:02.650 - 00:17:31.212, Speaker B: But the larger point I want to make is perhaps highly sophisticated validators can figure out optimal release and potentially find even more creative ways to prevent other validators from doing their duties or try to extract as much money as possible that they can from these consensus duties. Over time. If you have these very intelligent validators, they will discourage the less sophisticated ones and eventually you will have a capture of the system by these very intelligent validators.
00:17:31.212 - 00:17:59.908, Speaker B: And so I think it shows you kind of a limit of the control that you have over validator set that not everything is seen. In particular, time is one feature that is very difficult to have a credible signal for in a distributed system. Any question, the kind of a mantle model I have is that film protocol has some amount of control over the validators via these rewards and penalties.
00:17:59.908 - 00:18:16.190, Speaker B: But it doesn't see everything that the validators do. In particular, it can very partially see the timing of the actions of the validators. And because it doesn't have this full picture, it cannot precisely align its goals with what the validators are doing.
00:18:16.190 - 00:18:23.570, Speaker B: Does that answer what a validator is? Are there more questions on the.
00:18:30.500 - 00:18:30.912, Speaker A: Okay.
00:18:30.966 - 00:19:06.536, Speaker B: So now I want to that was pretty much about the first points, like how do you ensure that validators are aligned with the goals of the consensus mechanism? And now I want to move to the second locus of misalignment, which is that validators may subvert the expectations of users or may act adversarially and try to extract value from the economic activity that is happening on chain. So the protocol or Ethereum offers this general purpose virtual machine. So you have this distributed state replicated machine.
00:19:06.536 - 00:19:22.016, Speaker B: The developers write DApps, which are decentralized applications. The users send transactions to use these DApps, for instance, sending payments to one another, swapping items between one another, doing some lending, all these financial applications or domain names. And when as the user.
00:19:22.016 - 00:19:38.136, Speaker B: I do this, I do it because this transaction has value to me. But the value of my transaction is essentially conditional on the execution quality that I get. So if my transaction executes quickly, it's more value for me.
00:19:38.136 - 00:20:04.048, Speaker B: If I send a swap and it executes at a good price, it's also more valuable to me. So all of this value is really conditional and the validator, meanwhile, when they act as a block producer, when they are sampled from the set and they're told, okay, now it's your turn to make the next block, they really have ultimate control over what gets into the block or not. They have the power to reorder insert or remove transactions from the block that they build.
00:20:04.048 - 00:20:19.972, Speaker B: They even have the power to insert their own transactions from phony addresses or from their own addresses. And so for a small amount of time they have really control over the state transition function of the state of a serial. That gives them a lot of power.
00:20:19.972 - 00:20:37.464, Speaker B: And I want to talk a bit about the things that they can do with this. To talk about it, I have to introduce a bit of terminology. The first one is how do we measure, let's say, the load of computation in Ethereum.
00:20:37.464 - 00:20:53.328, Speaker B: So it's done with gas. So when you are a user and you send a transaction, your transaction is going to be executed by all the full nodes that are on the network and that kind of track the state of Ethereum. So your transaction may use, let's say, compute if it does some basic operations.
00:20:53.328 - 00:21:18.540, Speaker B: It may require some storage capacity like short term memory, state accesses or the history of all the function calls that were done by the transaction. And it may also have impose some bandwidth load on the network because if you have a very large block, it's going to take more time to get through the network. And so all of these are physical resources that are expended by the network when it executes the transactions.
00:21:18.540 - 00:21:52.730, Speaker B: So these execution payloads or the lists of transactions that are contained in the block, they consume some gas, which is a measure of resource use. And you don't want to set the gas limit too high because if you have a lot of execution then your nodes on the chain can't track the execution fast enough. And so whenever you see a block in Ethereum, it will tell you, well, the gas limit right now is set at 30 million and it will tell you how much gas the block has used or the transactions in the block has used.
00:21:52.730 - 00:22:15.340, Speaker B: And so now if you think of the validators as block producers, I think a nice mental model is to think of them as almost like market makers between these two sides. So on the one hand, the protocol is kind of giving the validators a supply of gas. It says now it's your turn to make a block and you can make it with as much as 30 million gas.
00:22:15.340 - 00:22:23.436, Speaker B: And on the other hand, you have the demand from the users. So they come with their transactions. Their transactions have some demand for the physical resources that gas represents.
00:22:23.436 - 00:22:45.704, Speaker B: And the validators are in the middle doing that market making between the two sides of that. And what happens is they output blocks as a result. Another mechanism that we have in Ethereum is called EIP 1559.
00:22:45.704 - 00:23:02.664, Speaker B: It was deployed in August 2021. And since the deployment, the Ethereum protocol is able to quote a reserve price. You can think of them as pricing dynamically, the congestion on the chain and the way it does that, it's a little bit like Uber.
00:23:02.664 - 00:23:21.364, Speaker B: So if you come to Uber and there's a lot of people who want to get right, at the same time, it will quote you a higher price. Same for Ethereum when you come in. And there's a lot of people who are also willing to transact at the same time, the protocol wants to say, okay, but now you have to pay more than you would usually pay.
00:23:21.364 - 00:23:36.404, Speaker B: And the way you get that demand signal, because again, we're in this decentralized environment, when Uber does it, they have their centralized server. They can just observe the request from the app. But when Ethereum does it, you don't trust the block proposer to quote the price fairly.
00:23:36.404 - 00:23:54.472, Speaker B: So you have to ask the question about the credibility of that auction. And the way that you get a credible signal is you say, well, we're going to target a gas use of 15 million, so we will set the block limit to 30 million. So we'll set the block limit to be twice what we are targeting.
00:23:54.472 - 00:24:10.332, Speaker B: And if we find that enough transactions are willing to pay the current reserve price, it means that the current reserve price is too low. And in that case we're going to increase the reserve price. We use a very simple update rule here and same goes in the other direction.
00:24:10.332 - 00:24:35.194, Speaker B: If I don't find enough transactions who are willing to pay the reserve price, I'm going to fill my block under the target and then I will decrease the reserve price. And so over time, you're trying to learn what the current congestion price is for the inclusion of transactions. There was quite a bit of work on the incentive compatibility of that mechanism.
00:24:35.194 - 00:24:52.690, Speaker B: This paper by Tim Rob Golden is probably the ultimate reference. And what it says essentially is that when you're quoting that reserve price and you're saying, well, transactions that are included in this block need to pay at least this much. You can't give back the reserve price to the block producer.
00:24:52.690 - 00:25:06.394, Speaker B: Otherwise they have room to enter into site contracts with users that would defeat the reserve price. And so you can't give it back to the block proposer. Today what we do is we simply burn it.
00:25:06.394 - 00:25:31.954, Speaker B: So whatever we capture from the transaction fees. As the reserve price is just removed from the circulating supply, so the user pays one if for the reserve price, that one if is sent to the burn. It also means that you can't manipulate the signal for free if you include more transaction to pretend like there's a higher demand, you're going to pay for it as the reserve price is not given back to you.
00:25:31.954 - 00:25:49.602, Speaker B: So what this gives you is this credible signal of the congestion on the chain. So back to this mental model. The Ethereum protocol has now the ability to provide gas and give that gas to the validators.
00:25:49.602 - 00:26:00.140, Speaker B: It has some amount of control. For instance, it has the block limit. It also imposes the use of VIP 1559 for the reserve price, but it doesn't control exactly everything.
00:26:00.140 - 00:26:39.558, Speaker B: So as I said earlier, the validators, even if they satisfy this EIP 1559 rule and the block limit, they can still order the transaction in whichever way they want or insert their own transactions. So what I'm saying here is that validators have a privileged position on the network and this privileged position or the amount of money that they can extract from this privileged position is known as mev or maximal extractable value. In this talk, I really think of it as all the revenue that's achievable by the validators from being the person who's controlling the state transition at this instant of time.
00:26:39.558 - 00:27:17.740, Speaker B: And that includes the revenue achievable by reordering inserting or censoring transactions. And so what are the kind of rents that they can have? So the first rent that people have considered in blockchains is the idea of congestion because the block space is coarse for bitcoin. There's a really nice result by Uberman Leshno and Molly Min 2021 that shows that essentially the miners of Bitcoin who act as block producers, they cannot enforce monopoly pricing because of its decentralized set of block producers.
00:27:17.740 - 00:27:49.950, Speaker B: If somebody tries to impose this monopoly pricing, there's going to be pressure from other block producers to come in and kind of get that surplus or that rent that the miner is extracting. So at equilibrium you find that monopoly pricing cannot be enforced credibly by the miners of Bitcoin. And now with EIP 1559 on Ethereum, what you find is that you can internalize the costs of the congestion fees in the protocol, which means you can capture them and then decide to burn them.
00:27:49.950 - 00:28:33.760, Speaker B: So yeah, that kind of solves the problem of validators abusing from their position to charge its monopoly prices on the chain. And there's a second type of thing that the validators can do and which really relies on the idea that validators have a last look on the transactions that they insert and they can capture value that comes from externalities of these transactions. So the simplest type is I'm a user, I send my transaction to be included on chain and my transaction is a swap for some token against another token on a market.
00:28:33.760 - 00:29:00.872, Speaker B: If my swap executes, it will create a price difference with a second market where the pair is also listed and so what the validator can do is after including my transaction they insert their own transaction which performs the arbitrage between the two markets and they just pocket the difference. It's risk free arbitrage, it's just pure profit opportunity. The validator is really in a privileged position to do that.
00:29:00.872 - 00:29:29.596, Speaker B: So other users may try to insert their transactions after mine but the validator can simply censor them and add their own transaction after. So they are the party in the food chain who has the greatest capacity to do these things. So arbitrage is somewhat harmless and it's a good market function but there are things that delete earth can do that seem a bit more harmful and one of them is sandwiches.
00:29:29.596 - 00:30:08.156, Speaker B: So take the same example. I'm a user who makes a swap for token A against token b when I make my swap when I send the order on chain, I typically say I'm willing to do it at this price or let's say plus or -2% of slippage because I don't exactly know the price at which my swap will be executed. It's not like a limit order book, I give bounds for the quality of execution of my swap but if a validator is very adversarial, what it can do is essentially max out the bounds that I give for my transaction and execute my transaction with the worst possible price at which I was prepared to pay.
00:30:08.156 - 00:30:27.680, Speaker B: It's kind of my fault, I told them how little I was willing to get out of it but at the same time I come into the market thinking that this is my lower bound but I hope that you give me the best price. But what the validator does here is it doesn't do that. So how it does it is the validator places the same order as the user before the user.
00:30:27.680 - 00:30:43.944, Speaker B: So that increases the price for the user. Then the user swap comes in, gets the worst efficient possible, and then the validator sells the tokens that they bought in the first place. And that's called a sandwich because validators buys low, so the user buys high and then the validator sells high.
00:30:43.944 - 00:30:56.264, Speaker B: So that seems like a problem. It is a problem, especially when it's taken out of the pocket of the user. But because you have this permissionless entry of validators, like you don't really have rules on who can be a validator.
00:30:56.264 - 00:31:20.276, Speaker B: And because you have permissionless programmability, like you don't want to prevent people from doing any kind of state transition, you can't really outgo this thing in the first place. And there's also a fairly counterintuitive result that is that sandwiches may create some actual surplus sometimes it might be nice to have these types of thing in your routing of orders because it creates higher welfare. For the user.
00:31:20.276 - 00:31:57.516, Speaker B: So you're really trying to get the profits of this coordination without outdoing it entirely today, for Validators to do this, it's pretty hard. Validators are not assumed to be very sophisticated. You require, for instance, to know about this idea of arbitrage to run some sort of program that tells you how to pack your block or you need access to exclusive order flow so users will only send their transactions to you.
00:31:57.516 - 00:32:11.244, Speaker B: And so what we've observed is that Validators started essentially doing a division of labor. They said, I'm not good at doing this job of finding the best optimal opportunity, so I'm going to ask another party to do it for me. And this party is known as a builder.
00:32:11.244 - 00:32:26.672, Speaker B: So the builders, they are parties that are specialized in packing blocks and extracting the maximum amount of value. And you can think of them as almost like a procurement auction. So there are several builders that are competing to get included by the Validator.
00:32:26.672 - 00:32:45.944, Speaker B: And so the builders extract the value and they try to bid it away so convince the Validator to use their block. But today, all of this is out of protocol, and the market has just completely emerged and was induced by this network of very intelligent players. So very sophisticated builders and searchers.
00:32:45.944 - 00:33:01.150, Speaker B: Who are the one creating these bundles of sandwiches or arbitrage? Okay, this is my last section, but is there any question at this point?
00:33:08.280 - 00:33:08.644, Speaker A: Okay.
00:33:08.682 - 00:33:56.640, Speaker B: And so having shown you the different ways that the space of mechanism that we have in protocol or the kind of interactions that we see now, I want to come back to this idea of how exactly is the protocol credible and how do we defend these mechanisms and maybe what are the threats that we see? So, as I told you, because the block construction was not really part of the Ethereum protocol specification, it was sort of left to the Validators discretion, like how they make their block. What ended up happening is that the Validators would delegate the construction of the block to a network of builders and they would organize that market based on an auction. So the builders would bid would be the ones who are making the blocks on behalf of the Validator.
00:33:56.640 - 00:34:18.536, Speaker B: And so now the question is, well, given that this market is happening, should the protocol do something about it? Like, should the protocol enshrine the market structure and visa allocation mechanism and essentially place the auction as a protocol mechanism, would that give us more credibility enshrining this market structure? Is that something that makes the protocol more powerful?
00:34:18.568 - 00:34:19.390, Speaker A: In a sense.
00:34:23.200 - 00:35:00.372, Speaker B: How we could do that is really the idea of instead of having this out of protocol market that's today organized by, let's say, a set of trusted parties that are known as relays, you want to make the protocol to be the auction and to have this permissionless auction. And if the auction is permissionless, you can enforce that whatever you see as the highest bid coming from that auction is the bid that the Validator has to select. And so what you're trying to do here, you're trying to elicit the value that can be returned by the block and understand that value and place it in consensus.
00:35:00.372 - 00:35:27.244, Speaker B: So come to consensus over the value returned by the block. And if you can come to consensus on the value, you can also internalize it in the same way that EIP 1559 placed under consensus the congestion price and internalized it, you can here understand how much value the block has and capture it. And so the idea here is that when the Validator makes a block, there's a set of attestors who vote on the block.
00:35:27.244 - 00:35:40.660, Speaker B: And if a block returns a value that's greater or equal to the best bid that they have seen, then they vote on that. So they reject blocks that don't return and have value. And the value again is elicited via this permissionless auction.
00:35:40.660 - 00:36:16.946, Speaker B: And so what we do here is saying the protocol is the one who's going to guarantee the fair exchange between the block that the builders have made and the position on the chain from the Validators. But here when we extend, let's say, the space of control of the protocol, it also means that we need to extend the set of defenses that we have, or we need to think about how exactly do we consider that mechanism in light of everything else that exists. And what I was saying earlier is this auction is only credible if a majority of the attesters are honest.
00:36:16.946 - 00:36:43.350, Speaker B: So if only a majority of attesters honestly tell you what the highest value they have seen is. But what we are seeing more work on is this idea of commitment attacks that may defeat the credibility if the attestors are rational. For instance, if you can get the attestors to commit to a strategy where they are not being honest with what they'revealing, then you might be in a situation where the mechanism that is in protocol is defeated.
00:36:43.350 - 00:37:21.890, Speaker B: And so what you see as your fence, you want to ask is it essentially robust to these coalitions of Validators attacking your mechanism, these commitment attacks? It may be one way you can also have something like bribing. If it was rational for these people to be bribed and to report the wrong thing, you might find yourself in a situation where the mechanism again is defeated. And in these cases, if you really care about the outcome of having a credible mechanism, then it might require for the community to step in or to have another mechanism on top to ensure the defense of the first mechanism.
00:37:21.890 - 00:37:38.254, Speaker B: But that mechanism again could be defected in other ways. And so what I'm saying here is that you have this SHAILING fence, which is the expectation of people regarding the ethereum protocol that extends. And now you're saying you used to have all these things to defend, now you also have this mechanism to look at.
00:37:38.254 - 00:37:58.260, Speaker B: So the mechanism first is credible because it's incentive compatible against, let's say individually rational deviations. But if you have this majority deviation then you have to do something about it. And I don't think there's any mechanism that kind of defends that other than hardwiring that outcome by the community.
00:37:58.260 - 00:38:34.122, Speaker B: And why this threat, let's say is kind of on top of our mind is we observe ethereum protocol is no longer the only institution in the game. And especially in the last two to three years with this mev and with the value extractable just increasing by a factor of ten every year, there's been a lot of sophistication and a lot new institutions and products that live in the environment that Ethereum is at. And specifically there's a lot new applications and infrastructure that directly have to do with the incentives of the validators.
00:38:34.122 - 00:38:54.470, Speaker B: And so the validators now they are not just doing their job as agents of the Ethereum protocol. They're also sometimes delegated the responsibilities by a community of liquid stakers who pull their money to activate validators. They also have to think about roll ups which are extension of Ethereum to scale.
00:38:54.470 - 00:39:38.304, Speaker B: They have this relationship with the builders who are making the blocks on their behalf. And there are also other things that directly influence or shift the incentive of validators. And so given that environment which is highly dynamic and emergent, how do you design mechanism in protocol that kind of stand the test of being warped by these different institutions? Almost done, but I wanted to come back to the user because I left the story with the user getting sandwiched and we are trying to maximize the amount that the protocol is getting from that sandwich and I don't think it's a very happy end.
00:39:38.304 - 00:40:15.692, Speaker B: And so how do we make the user defend itself? How do we create essentially credible mechanisms for the user to come to the chain and have their expectations realized without the validators being able to mess with it? There's a real tension here because we want to preserve the permissionless programmability which gives us the potential maximum coordination value. For instance, if sandwiches are part of the execution optimal pass we might need sandwiches to be around. But we also don't want to add these defensive protections and constraints because they may destroy value.
00:40:15.692 - 00:40:37.784, Speaker B: And so for instance, if we credibly commit to ordering rules we have to make sure that they don't lock us into a suboptimal welfare outcome. Are we lost? I don't think so. I think the validators may have the last book but the user is the one that's essentially, let's say initially signing the transactions.
00:40:37.784 - 00:41:05.576, Speaker B: The user has this power to commit before they act and before they do things. We see these examples more and more polar thinking about order flow options where the user doesn't allow you to execute the transaction unless you pay them something first and that something can be price discovered. You can have ideas like contextual execution where your transaction execution essentially is polymorphic and can have many different execution paths depending on how it's executed.
00:41:05.576 - 00:41:29.350, Speaker B: And you have a lot more innovation in cryptography and mechanism design that we are seeing in this space. And so yeah, questions are what are the trade offs? Can we do these things in a way that is as trust minimized as possible and who earns the rewards from having users coordinate better? And I think this is what Shane will tell you about next. And that's it.
00:41:29.350 - 00:42:24.628, Speaker B: Thank you again, I think it's a bit longer. So what I mean is when I don't want my transaction or my execution or the outcomes of my execution to be dependent only on a single party. So for instance, if part of getting good execution means that I want to not reveal the inputs of my transaction or reveal them, let's say partly I don't want to have to trust the person I reveal it to.
00:42:24.628 - 00:42:55.590, Speaker B: Like I'd rather rely on cryptography than somebody saying I promise that I won't tell anything about your transaction. And so yeah, we're always trying to think about ways to not have a single actor in this chain becoming a choke point or like a centralized party that suddenly has the power to execute that outcome fairly or not. So yeah, trust minimize is really the idea of who is accountable for.
00:42:57.640 - 00:42:57.908, Speaker A: A.
00:42:57.914 - 00:43:07.930, Speaker B: Bad outcome happening and if you have a decentralized enough set of parties you have more guarantee than otherwise. Another question.
00:43:15.420 - 00:43:30.530, Speaker A: So we keep persecution protocol foundation and then maybe what is the role that problem or is it.
00:43:32.900 - 00:44:00.170, Speaker B: Yeah, so you mean should the protocol so the way I pictured it is the bubble expense. So you're saying, okay, I see this problem or I see like the validators now they are entering into deals with builders and this is becoming like a systemic component of the way that validators are doing their job and so maybe I want to extend the bubble so that that becomes part of the ethereum protocol. Is that your question?
00:44:06.620 - 00:44:12.348, Speaker A: As minimal as possible around yes.
00:44:12.434 - 00:44:13.630, Speaker B: Then the other is of.
00:44:16.400 - 00:44:24.460, Speaker A: Smarter yes. So is there direction?
00:44:25.440 - 00:45:20.128, Speaker B: Yeah, I think it's pretty hump and it's definitely like what inspired that line of inquiry for me is asking myself what exactly do we want to put in protocol? So again the benefit is you have more control so you can enshrine certain things, you have more credibility, it does give you more power to do things but that power thins out over time. And that's what I wanted to express with this fence, is that the longer your fence is, the more difficult it becomes to defend, because any single intrusion, you might say, okay, if you really narrow your focus to a few things that you want the protocol to do, maybe it's a bit easier for that to be done properly. But if you start adding like, okay, you sort of do this and you take care of that and you look at this mechanism and you ensure that the outcome is not tampered with yeah, your fence becomes longer and longer.
00:45:20.128 - 00:45:42.840, Speaker B: And if there are, let's say, mechanism you put into protocol, but you're like, this is maybe more of a secondary, nice to have thing. But people attack this mechanism and you don't care about it because it was secondary in the first place. But then it strengthens the confidence that we can attack things that are put in protocol and move on to the more meteor or more core mechanisms of the protocol.
00:45:42.840 - 00:46:04.588, Speaker B: I don't actually think these are game theory questions. They are mechanism design questions in the sense that these mechanisms have to be incentive compatible in the first place, otherwise they're just not credible to begin with. But then it becomes maybe more something like a political economics question of how exactly do you want to draw that boundary and what are the things you want to include?
00:46:04.764 - 00:46:09.010, Speaker A: Is there an example where you think the broker pop has been sending too much?
00:46:09.960 - 00:46:29.690, Speaker B: Not yet. Yeah, right now we're still pretty minimal. But I do see that risk, especially with builders and the PBS proposal builder separation because it's a fairly new market and it's hard to tell if that will still be the mode of organization of block production in the future.
00:46:29.690 - 00:46:41.884, Speaker B: But so far I don't think we've done things that we shouldn't have done. I think we are late on doing things that we should be doing rather than the other way around. And we get quite a bit of flak on that too.
00:46:42.002 - 00:47:11.220, Speaker A: But yeah, another question when we get a question, if you can repeat that oh, yes, that's a good one, it's obvious, but this complex of mechanism is like an exact implementation of the problem that we compose those mechanisms.
00:47:11.660 - 00:47:34.920, Speaker B: Yes, and the question of composability has been asked quite a bit more precisely, especially in this thing. So I could tell you a lot more about the relationship between these different entities. But what's been interesting is that you have this auction now between the builders and the validators who are trying to bid so that their block is included.
00:47:34.920 - 00:47:54.580, Speaker B: You have searchers who are also bidding for their partial blocks to be included by the builders. And I was telling you at the end you might have these order flow auctions where the searchers are paying the users for the opportunity to execute their transaction. So now you have three auctions that are kind of sequential.
00:47:54.580 - 00:48:06.932, Speaker B: They're not just sequential, I show it as a chain, but it's really like a network with a variety of builders, variety of searchers. There may be like different paths. And so you have all these mechanisms, some of them may exist in protocol.
00:48:06.932 - 00:48:37.372, Speaker B: So EIP one, five, nine, maybe you'll have this option in protocol in the future, but some of them will rely or remain kind of outside of the view of the protocol, but it doesn't mean that they don't exist. Like, you still have this composition of mechanism and you still have these different things that are happening. And so I think having the correct language to talk about these mechanisms and especially this idea of mechanism innovation, where anybody can deploy a new thing that kind of goes and messes up with the established shoulder.
00:48:37.372 - 00:48:40.150, Speaker B: Yeah. This is something that I think is very interesting.
00:48:43.960 - 00:49:03.690, Speaker A: I feel had a chance to really sort it out. In your mind, how does he take Wild Five Nine relate to the builders who lead in? I've got myself confused about how we can get Kube to work into that.
00:49:04.540 - 00:49:38.412, Speaker B: Perhaps I can draw it. So I think of it this way. You have this is the demand curve of the users.
00:49:38.412 - 00:49:49.316, Speaker B: What EP 1559 does is it tries to find, like the so you want to target like this 15 million gas supply, and it tries to find the.
00:49:49.338 - 00:49:50.516, Speaker A: Price that does that.
00:49:50.538 - 00:50:12.514, Speaker B: So it really takes care of that part. Now, you can think of when the users are transacting, they might have this extra value, or when they transact, they induce this mev that is capturable. And so now what the mev part is it's really more concerned with what's in there.
00:50:12.514 - 00:50:33.270, Speaker B: So what comes in the surplus of the demand. And so you can think of EIP 1559 and this builder auction as separable in that EIP 1559 cares about the value of getting included by the user, and the builder auction cares more about the value from state contention.
00:50:33.790 - 00:50:50.620, Speaker A: I think about it as there'll be some amount from the builder that will be burned in the protocol. Is it included in the amount?
00:50:51.410 - 00:51:21.800, Speaker B: No. So if you have a user transaction here, let's say they have like, they pay the reserve price that's taken away, then the builder might compete over the tip so the user can add a little bit more value over the reserve price. And then the transaction itself might induce some mev and the builder will also compete on that.
00:51:23.550 - 00:51:24.346, Speaker A: Yeah.
00:51:24.528 - 00:51:28.266, Speaker B: So what's burnt is not part of the builder option.
00:51:28.368 - 00:51:51.730, Speaker A: It's part of block that doesn't and then I just asked one other thing. So when you talked about the users having power, you were talking about them being able to control, let's say, the flow of their transaction. That was the kind of thing you had in mind?
00:51:51.880 - 00:51:52.338, Speaker B: Yes.
00:51:52.424 - 00:52:21.420, Speaker A: Okay. And then do you have a viewpoint on whether or not it would be healthy to have, say, multiple credible builders, then users, multiple credible builders that they burn the marketplace and then users get the builder they want to use?
00:52:22.190 - 00:52:39.630, Speaker B: Yes. I should repeat the question. So is it a good thing for users to have multiple builders to choose from? When the builders offer credible services, such as execution of the users? Yeah, I think this is what we're heading towards.
00:52:39.630 - 00:52:48.734, Speaker B: So there's this idea. Of builder services. The builder takes care of your transaction in a sense and it provides some guarantees about your execution.
00:52:48.734 - 00:53:04.840, Speaker B: It returns value if there is some with the order flow auctions, for instance, it would be nice to have that. It would definitely help us explore the feasible space of mechanisms with respect to that user commitment. ID.
00:53:04.840 - 00:53:23.566, Speaker B: But then again, the limit is that the builders are trusted entities. And so then the question is how do you make them less trusted? And how maybe can you distribute the role of a builder across, like, a trust? Minimized infrastructure, for instance, if they were.
00:53:23.588 - 00:54:01.094, Speaker A: Credible then, would they still be chapter? What's your definition of credibility like? There's a bit strategy. There's a wall that they we commit to which they will obey would be in the walk and that's all we care about. So they can make it happy, so they can do whatever they will.
00:54:01.094 - 00:54:09.020, Speaker A: Do and that's all we care about. And that's sufficient. So they could make an ad they can sense that they can do.
00:54:09.020 - 00:54:17.840, Speaker A: Here's the rule that I'm going to use sequence. That's what it needs.
00:54:20.450 - 00:54:29.282, Speaker B: I think, credible in the sense of lee and angbarto would probably be not trusted in what.
00:54:29.336 - 00:54:30.930, Speaker A: I'm saying right now.
00:54:31.000 - 00:54:31.620, Speaker B: Yeah.
00:54:34.550 - 00:54:45.686, Speaker A: We'Re supposed to have a break. Maybe we can take the questions offline because otherwise, if we take the break adam questions. So I guess we have time for questions if you want, but there's also.
00:54:45.708 - 00:54:47.320, Speaker B: A break, and if we back at.
00:54:47.930 - 00:54:49.640, Speaker A: 20 hours, I'll be good.
00:54:50.890 - 00:54:52.120, Speaker B: Yeah. Thank you.
00:54:55.610 - 00:57:02.760, Speaker A: What's finally limited all this time where voice that are.
00:57:26.770 - 00:57:27.274, Speaker B: Movies?
00:57:27.322 - 00:58:17.760, Speaker A: Like, synergy, I thought, and have.
00:58:27.330 - 00:58:28.080, Speaker B: Been.
00:58:41.610 - 01:01:16.520, Speaker A: And, you know so yeah, so, brother. But it yeah, still coming up. Had I spread bits, I'll never change, but, like, it's study balance and public and yeah.
01:01:16.520 - 01:01:34.680, Speaker A: So.
01:01:36.530 - 01:01:37.280, Speaker B: Asking.
01:01:53.490 - 01:02:51.800, Speaker A: About privacy. Either three one dollars, but so you know and the most eight.
01:02:54.650 - 01:02:55.400, Speaker B: Yeah.
01:02:59.770 - 01:07:02.360, Speaker A: The district order to the side. Alice alex now it's I mean it's I'm gonna the list or even we use five nights basically. So I was happy 73 one six like I like no help out all kinds they are taking my name allies peter it's not really I found a bit neighbor and I had noticed so having my number some you.
01:07:04.970 - 01:07:05.720, Speaker B: And.
01:07:10.810 - 01:10:04.320, Speaker A: To me. But humanity meaning? Think she let him come when God and maybe.
01:10:11.890 - 01:10:12.880, Speaker B: Such a.
01:10:16.130 - 01:11:13.570, Speaker A: Spot which is you. December welcome, frags march like trainers.
