00:00:02.490 - 00:00:22.478, Speaker A: Hi, I'm Malesh Pai. I'm a associate professor of economics at Rice University and mechanism designer at Special Mechanisms Group. So what I want to talk today is about censorship resistance and on chain auctions in particular, try and push a slightly new definition of censorship resistance that we think is important.
00:00:22.478 - 00:00:49.866, Speaker A: So it what am I supposed to use? Yeah, it always happens. Exactly. Sorry, which one? Now they tell me.
00:00:49.866 - 00:01:21.682, Speaker A: All right, so our traditional understanding of censorship resistance, the stuff that we started thinking about was this idea that valid transactions make it onto the chain. But then when you read the fine print and there's fine print every time, what they actually guarantee is that something like liveness guarantees that valid transactions make it onto the chain eventually. Our question for the purposes of this talk is, is this enough? Can we all just go home happy? Short answer no.
00:01:21.682 - 00:01:36.486, Speaker A: Otherwise I wouldn't be giving this talk. And for a lot of valuable transactions, of course, this is not enough. The idea that you get onto the chain eventually is not enough because you have some inherent time sensitivity associated with your transactions.
00:01:36.486 - 00:01:58.846, Speaker A: So, for example, an Oracle update has to make it onto the chain in a timely fashion to be a valuable sort of Oracle that you can rely on all sorts of time sensitive financial transactions. ARBs liquidations need to execute quickly because otherwise the protocol is holding on to a loss that could get worse further. And that's our point of departure.
00:01:58.846 - 00:02:27.642, Speaker A: Being able to guarantee from the perspective of the blockchain, being able to guarantee timely inclusion opens up new mechanisms that we're not currently using. So in particular, things like on chain auctions and as a result of having things like this, you might have other downstream benefits like faster roll ups, better protocols, stuff like that. Now, when I got into this sort of blockchain research business, people told me that every idea you could have vitalik had it a few years ago.
00:02:27.642 - 00:02:40.462, Speaker A: So then we started googling, and it turned out he had thought about this except eight years ago. So I'm really catching up. All right, so here's sort of the thought experiment I want you to think about.
00:02:40.462 - 00:02:49.826, Speaker A: Suppose I write you a European option that expires on block X. So what's? A European auction? It's basically I write you something. Think of an object that has a reference price.
00:02:49.826 - 00:03:12.520, Speaker A: I agree that I will pay you the difference between the reference price 50 and the current price at block X, as long as that difference is positive. The catch is that to exercise it, you have to submit a transaction on block X saying, I want to execute this transaction. I want you to pay out your option that you sold to me.
00:03:12.520 - 00:03:20.314, Speaker A: Now, think forward to suppose what happens when block X comes around. Suppose the option is worth $10. So the price has moved up to $60.
00:03:20.314 - 00:03:24.842, Speaker A: The reference price was 50. So you say, okay, Malaysia, time to pay up. Pay me $10.
00:03:24.842 - 00:03:46.610, Speaker A: Now, how much would you be willing to pay to include this transaction on chain? Well, anything under $10 gets you a profit, so you'd be willing to pay up to $10. The trouble is that I understand this. I know that if your transaction gets on chain, I am on the hook for $10, which means I am willing to pay up to $10 to censor your transaction.
00:03:46.610 - 00:04:04.886, Speaker A: That means if you think about sort of the economics of this, there's an auction, there's an implicit auction between you and me. You trying to get your transaction on chain, me trying to get your transaction censored. That auction will close at $10, the common value that we're both willing to pay.
00:04:04.886 - 00:04:27.214, Speaker A: And of course, that means that all the value of this economic transaction, the $10 realized, is all going to have to go to the proposer. If the economic value of transactions needs to go to the proposer, then why do DeFi in the first place? That's sort of the thought experiment. Our claim, of course, is that this is not just a theoretical problem.
00:04:27.214 - 00:04:38.114, Speaker A: This is potentially a practical problem that we're dealing with right now. So we all love PBS in this room. We're all sort of applied PBS researchers, or many of us.
00:04:38.114 - 00:04:55.810, Speaker A: But a side effect, I would claim, of the explicit PBS auction market is that it sets up a market for censorship. Blocks are auctioned off to the highest bidder, which means that you don't need to know the proposer per se. You don't need to write a side contract with them to exclude a transaction.
00:04:55.810 - 00:05:02.374, Speaker A: You just need to bid more for the block. At SMG, we did a simple version of this a couple of weeks ago. So check the chain.
00:05:02.374 - 00:05:08.550, Speaker A: Here's the link. That number. That block contained exactly one transaction.
00:05:08.550 - 00:05:19.440, Speaker A: That transaction was a link to our paper. Nothing else on the transaction cost us $100. And, of course, this was, I mean, a bit of a stunt, right? Our block was empty and obvious.
00:05:19.440 - 00:05:28.898, Speaker A: The trouble is, it suggests that there's something more insidious potentially going on here, which is we left our block empty. Everyone could see it. Ha ha.
00:05:28.898 - 00:05:33.230, Speaker A: Empty block. So funny. But we could have done something worse.
00:05:33.230 - 00:05:46.742, Speaker A: There was a mempool. There were a bunch of valid transactions on chain. We could have created a block, not a full block, a block that contained a whole bunch of transactions and left out one valid transaction that we didn't want to see on chain.
00:05:46.742 - 00:05:55.770, Speaker A: You would never have known if we weren't advertising that we did that. So that's sort of potentially the problem. Let's move on to a definition.
00:05:55.770 - 00:06:25.474, Speaker A: So we want to define and give you then, a notion of censorship, resistance, how censorship resistant is a blockchain or an object. I want to abstract away from the machinations of the specific blockchain or the specific protocol that you're using so I'm going to create this abstraction I'll call a public bulletin board. Oh, when I say I, by the way, I should say that this is joint work with Max Resnick, who's back there, and Elijah Fox, who was here yesterday, but isn't.
00:06:25.474 - 00:06:32.230, Speaker A: So it should be we throughout. All right, back to the story. So, public bulletin boards.
00:06:32.230 - 00:06:44.886, Speaker A: Think of a bulletin board, a common public bulletin board that has two sort of things you can do with it. So one thing you can do with it is read what's on it. And reading always succeeds.
00:06:44.886 - 00:06:51.934, Speaker A: It's a costless operation. It succeeds every time. You can read what's on it and then do whatever computation you want to do.
00:06:51.934 - 00:07:01.794, Speaker A: The tricky part of this bulletin board is writing to the bulletin board. So writing to a bulletin board takes two arguments. It takes the data that you want to write to the bulletin board and it takes a tip T.
00:07:01.794 - 00:07:18.242, Speaker A: And then this either succeeds and costs you T or it fails. And that thing, the data that you wanted, does not get written to the bulletin board. What I'm going to do is define the censorship resistance of a bulletin board by a function phi.
00:07:18.242 - 00:07:41.920, Speaker A: So phi of T is the amount it would cost a censoring party to cause the right transaction to fail. Ideally, of course, we want that sensoring resistance. We want that fee function to be infinity or arbitrarily high, regardless of the tip, or at least arbitrarily high above some low base fee or something like that.
00:07:41.920 - 00:08:11.122, Speaker A: Just to do some simple warm up. Examples, what is the censorship resistance of certain simple primitives we could reason about? So suppose a single designated block is the relevant public bulletin board. So think back to the option example, think back to the block in which you had to exercise the option to get your option executed.
00:08:11.122 - 00:08:58.470, Speaker A: So what is the censorship resistance of that? Well, if you have bid T, I can bid T or a little more than T to get that transaction executed by paying the proposer or building a block with a slightly higher overall fee to keep that transaction on chain. In this case, fee of T is just equal to T EIP 1559 or the burn, at least in principle, makes the censorship resistance of the chain even worse. Because if B is the base fee, the bit that's being burnt, then the proposer for a tip is only getting T minus B, the difference between the amount that the transaction is billing to pay and the amount that's getting burnt.
00:08:58.470 - 00:09:15.340, Speaker A: That means that the amount I have to pay to censor that transaction is just the larger of T minus B and zero. And of course, if they're not willing to pay the base fee, then they won't get on chain in the first place. So that's lower even than the first one.
00:09:15.340 - 00:09:29.650, Speaker A: Now, you could do something better. You could, for example, use a bulletin board that is K consecutive slots. And let's suppose these K consecutive slots have k different producers.
00:09:29.650 - 00:09:53.080, Speaker A: In this case, for me to successfully censor a transaction that has a tip T, I have to spend and pay each one of these proposers T to keep it off chain. That means the censorship resistance has gone up. The censorship resistance of K consecutive slots is now KT for a tip of T.
00:09:53.080 - 00:10:16.414, Speaker A: For K large, this would give you an excellent censorship resistance. It would be large. But any read operation, there's a cost, which is that you have to wait for these K blocks to be produced before you can do any read, before you can check what transactions are on chain that are relevant to whatever computation you want to do.
00:10:16.414 - 00:10:40.520, Speaker A: So, so far what I've tried to tell you is that this definition of censorship resistance captures something and we do have it, at least with our monopoly sort of one proposer producing a block every period. We do have the ability to increase censorship resistance. The cost is in terms of the time we pay.
00:10:40.520 - 00:11:05.258, Speaker A: Now, what I want to next convince you is that this sort of lack of censorship resistance of a standard blockchain is costly in terms of the kinds of mechanisms that you can run. So suppose you wanted to run a second price auction on chain. Suppose to be more precise, that you want it in a single block.
00:11:05.258 - 00:11:21.742, Speaker A: Don't worry about congestion or anything like that. There are a bunch of bidders and you want all these bidders to submit their bids on chain in that block. And then you have a smart contract or something that will compute the outcome of a second price auction.
00:11:21.742 - 00:11:29.958, Speaker A: All right, let's do a little more formalism. Julian helped me out by defining some of the primitives of auctions. But we'll go through it again.
00:11:29.958 - 00:11:37.802, Speaker A: So this is a simple, independent private value auction. I'm going to assume that there are N plus one bidders. I'm going to name them zero through N.
00:11:37.802 - 00:11:47.710, Speaker A: And they all have private values. Their value for winning, whatever it is that you're auctioning off, that's drawn from some distribution. Let's not worry about the distribution.
00:11:47.710 - 00:11:59.498, Speaker A: Many of our results in the talk will be just for the case of a uniform distribution. Uniform zero one bidders. One through n are straightforward.
00:11:59.498 - 00:12:09.710, Speaker A: We'll call them honest bidders. It doesn't mean that they're not strategic, it just means that they are not trying to do any censoring. They are taking this mechanism and participating in it faithfully.
00:12:09.710 - 00:12:20.710, Speaker A: That is to say that they hear about this mechanism, they decide they want to bid. And so they submit bids of b each bidder. I submits a bid of bi and a tip of ti.
00:12:20.710 - 00:12:46.522, Speaker A: Bidder zero is a censoring bidder. So bidder zero thinks, AHA, I don't have to just bid in this auction, I can go ahead and try and do something fancier. So what this buyer does is it waits a little bit, it looks at the set of transactions that have been submitted, not necessarily yet included on the block.
00:12:46.522 - 00:13:05.080, Speaker A: And then it goes to the proposer and makes the proposer a take it or leave it offer. So what is the take it or leave it offer it gives to the proposer? It says here is a payment of P. I will pay you P as long as you exclude some subset of the bids, one through N.
00:13:05.080 - 00:13:22.186, Speaker A: How much this bidder chooses to pay and what subset it chooses to exclude are purely its choice. It gets to see the tip or the tips, and it gets to choose, here are the ones I want to keep out. Excuse me.
00:13:22.186 - 00:13:40.130, Speaker A: It also can choose to submit its own bid to be included. The proposer sees all of this. So it sees the bids and the tips of the first N bidders, and it also sees the offer from the censoring bidder and then decides which ones it includes on chain.
00:13:40.130 - 00:13:50.886, Speaker A: Once it includes that in the block, the auction executes on the bids that have been included. All right, so far, so good. Hopefully, let's do a simple warm up.
00:13:50.886 - 00:14:06.566, Speaker A: So suppose there's just two bidders, one honest bidder and one censoring bidder. Now, suppose the honest bidder has a value of V and bids B and tips T. Two things to note.
00:14:06.566 - 00:14:26.202, Speaker A: First, it makes no sense for the honest bidder to submit a tip larger than its value, because even if it gets included, it's already paid more than its value just to get included. So the tip has to be smaller than V. Secondly, this is a second price auction in which bidding truthfully is a dominant strategy.
00:14:26.202 - 00:14:36.354, Speaker A: So when they bid, they bid a value of V. The bid will be V. The tip will be t something smaller than V.
00:14:36.354 - 00:15:00.774, Speaker A: I haven't worked out what it is yet. Note that just from the fact that the censoring bidder knows that the tip is always smaller than the value, so the tip is an underestimate of the value. The Bribing bidder understands that they should censor the honest bidder's bid whenever their value, let's call it w for a second, is larger than the tip.
00:15:00.774 - 00:15:29.710, Speaker A: Why would I leave that tip? Why would I leave the honest bidder's bid? Why would I let it get on chain? Because if I let it get on chain, I will either lose the auction when I could have won it by censoring it, or I will pay more than I could have by excluding it, because I will be winning the auction, but they will be the second price. So whenever my value is larger than the tip, as the Bribing bidder, I just say exclude the other transaction, mr. Proposer.
00:15:29.710 - 00:15:46.170, Speaker A: Here's something slightly more than that tip. The honest bidder understands that the Bribing bidder is going to do this. The honest bidder understands the existence of the Bribing bidder, so they choose the tip to maximize their total profit, knowing that downstream, this game is going to be played.
00:15:46.170 - 00:16:17.806, Speaker A: This is going to be the equation that shows how their tip evolves as a function of their own value. And as an aside, note that when you walk through this formula, you can see that the optimal tip, that the Bribing bidder sorry, that the honest bidder submits as a function of their value, is increasing in their bid, increasing in their value. So the tip of the honest bidder reveals their bid, even if the bid is cryptographically secured and not visible to the honest bidder.
00:16:17.806 - 00:16:46.240, Speaker A: Not visible to the Bribing bidder. All right, so we go ahead and then solve this for the richer case of N plus one bidders. It's slightly more complicated, but you can work out what tips the honest bidders are submitting, understanding that there is a threat of censorship downstream, you can work out what the Bribing bidder strategy is in terms of whether to exclude bids or not.
00:16:46.240 - 00:17:13.074, Speaker A: And the main punchline is twofold. One tips are small, even though they understand there is this risk of censorship because they don't know if they're going to win the auction or not, the honest bidders don'tip a lot. Because the honest bidders don'tip a lot, the Bribing bidder is going to find it very profitable to just exclude everyone else and win the auction for free very often.
00:17:13.074 - 00:17:34.060, Speaker A: And as a result, even in auctions, where there are a large number of potential bidders, the expected revenue of the auction is going to collapse to the reserve price of the auction, or zero if the auction does not have a reserve price. So the Bribing bidder is going to make away like a bandit because they get all the profits from the auction. They get this good basically for free.
00:17:34.060 - 00:18:07.506, Speaker A: And if there were multiple Bribing bidders, then essentially if there were multiple Bribing bidders, then essentially it's the proposer that is actually running the auction. The proposer will get the majority of the benefits because the proposer is the one who actually determines what gets on chain and therefore who wins. All right, so our solution, as you can see from my T shirt, is sort of it's a little out there, but it's a potential solution, which is to end the proposer monopoly.
00:18:07.506 - 00:18:27.440, Speaker A: So the issue here is that the proposer is a monopolist. Anything you want to do on chain goes through them for those 12 seconds. So if you want to bring back good outcomes, you potentially need to end this monopoly that proposers have.
00:18:27.440 - 00:18:45.250, Speaker A: So here's one potential solution. Suppose you had multiple concurrent block proposals. So what do I mean by multiple concurrent block proposals? Instead of one person who has the right to submit a block on chain, suppose there were K people who concurrently had the right to submit a block on chain.
00:18:45.250 - 00:19:06.438, Speaker A: Any write operation is sent to all K block proposers and the public bulletin board is the union of the contents of all blocks. Already this is the same censorship resistance as K sequential blocks, just without the time cost, assuming you can pull off this K concurrent block proposals. But the second part is we introduce a little bit of game theory.
00:19:06.438 - 00:19:25.326, Speaker A: So what is the game theory? Suppose you said that the tips were conditional. So tips are two dimensional numbers. For an example, there's a little tip small T and a big tip, capital T with the interpretation that if multiple proposers include the data, then each gets paid a little t.
00:19:25.326 - 00:19:46.422, Speaker A: But if only one proposer includes the data then that proposer gets a larger bounty, gets paid capital t. What this is doing, is it's effectively setting up a prisoner's dilemma among the block producers. What's that? Prisoner's dilemma? Well, if nobody else is including it, it's very, very lucrative for me to include it.
00:19:46.422 - 00:19:57.034, Speaker A: If other people are including it, it's still slightly lucrative for me to include it. So including is a dominant strategy. All or many of the proposers will include it.
00:19:57.034 - 00:20:20.574, Speaker A: But to censor it, you have to pay every one of these concurrent block producers the large tip KT. So it costs little K times little T for inclusion. But the censorship resistance is K times cap T for good numbers, for good choices of little T and cap T, you can get a large amount of censorship resistance for a low cost of inclusion.
00:20:20.574 - 00:20:53.398, Speaker A: So we worked through the equilibrium of this auction with the punchline that basically with this kind of thing, the Bribing bidder does not find it profitable to bribe the proposers. And it said it competes in the second price auction. All the bidders bid zero in tips on path because the competition among the proposers is leading the sort of market price of inclusion down to the marginal cost, which here I said was no congestion.
00:20:53.398 - 00:21:00.986, Speaker A: So it's zero. It also has the nice feature that now equilibrium tips don't need to reveal the bids anymore. Everyone is going to bid zero on path.
00:21:00.986 - 00:21:08.718, Speaker A: All right, so that's my time. So that's sort of our broad picture result. It's a novel measure of censorship resistance.
00:21:08.718 - 00:21:39.574, Speaker A: We think this kind of censorship resistance, or lack thereof, is what's holding up many potential mechanism designs from moving on chain. Optimizing our chains, the way we structure them, in order to have good measure of censorship resistance in this dimension will potentially allow blockchains to implement all sorts of mechanisms that currently we are moving to off chain. And that's sort of we want stuff on chain.
00:21:39.574 - 00:21:43.660, Speaker A: So that we think is a good idea. I'll stop here and take questions, if any.
00:21:51.730 - 00:22:07.858, Speaker B: Thanks for the great talk. Have you studied at all collusion resistance in this regime? So what I'm thinking of is that if you have multiple proposers that get this huge bid, then they could just all collude of chain sets that only one includes and then obtain the large bid instead.
00:22:07.944 - 00:22:22.306, Speaker A: Yes. So I guess your question is what happens if the multiple proposals in my sort of multiple proposal example are colluding? We haven't. So we are looking at the dominant strategy equilibrium.
00:22:22.306 - 00:22:36.846, Speaker A: It is, of course easier to sustain dominant strategy equilibrium away from collusion. And if you're really worried about proposal collusion, you have problems even with single proposal systems. So that's sort of all the answers I have.
00:22:36.846 - 00:22:43.854, Speaker A: Max, did you want to add anything to yeah, Barnaby. Yeah.
00:22:43.972 - 00:22:46.158, Speaker C: Hi, Malesh. Great talk. Thank you.
00:22:46.158 - 00:23:17.980, Speaker C: Very related to Jason's question, when you do the conditional tipping, the censorship resistant built in board needs to see what the other proposers have done in their block. Right? So do you have this kind of second order problem where now you want to have these other proposals blocks on your bulletin board, but you have a single proposal that is essentially winning? So where do you see the logic to execute this conditional tipping and do you have a censorship problem there?
00:23:18.750 - 00:23:33.680, Speaker A: I'm not sure I understand the question. I'd imagine the tips would have to be processed in the next round or in the next block looking back at the set, because to execute that, you'd have to go back and see what happened.
00:23:35.170 - 00:23:41.294, Speaker C: I guess the information of what the other proposals are doing needs to be also on chain. Right. To be executed.
00:23:41.342 - 00:23:56.594, Speaker A: I mean, instead of like a single stream, there are now case streams. When you get to the next round, everything that happened in those case streams is common knowledge. So you can implement the conditional tips on haven't.
00:23:56.594 - 00:24:21.150, Speaker A: I should confess, economist here, I haven't thought through the thing carefully, but Elijah and Max have thought through it a lot more. There's a blog post on multiplicity that tries to suggest how this could work. And we'd love for more people, consensus people and so on, to think more about this if it's like science fiction or thank you.
00:24:21.150 - 00:24:21.840, Speaker A: Yeah.
00:24:23.410 - 00:24:26.320, Speaker D: Hi, malesh. Good talk. Thank you.
00:24:26.320 - 00:24:44.360, Speaker D: I have a similar question to Barnaby around sort of the economic impact of separating out the block production process in the sort of status quo in Ethereum today. We've briefly spoken about this. I'm kind of sort of asking the question so other people also think about it.
00:24:44.360 - 00:25:09.774, Speaker D: You have a lot of sensitivity to ordering, but if you're in a situation where multiple block proposers can sort of include transactions, and it feels like you either have to include additional rounds of communication between them to find the optimal ordering or like an equally valuable ordering, or you lose out on the ordering efficiency. So I'm sort of curious if you guys have put thoughts to that and hope other people look at that question.
00:25:09.812 - 00:25:31.170, Speaker A: Yeah, I think that's a great question. My stock answer for this is for now, I think of this as a specialized solution for certain mechanisms that are order free. You might want to use a chain like this to guarantee inclusion in a way that you couldn't guarantee on a single proposer sequence.
00:25:31.170 - 00:25:50.780, Speaker A: That's my answer for now. But I think it's a great question, sort of if order also matters and there's other stuff than this auction that the chain has to do, then you don't just care about the union of those K blocks, you care about how you interleave those blocks. And that needs to be worked out.
00:25:51.150 - 00:25:51.722, Speaker E: Thank you.
00:25:51.776 - 00:25:52.540, Speaker A: Thank you.
00:25:53.230 - 00:26:14.110, Speaker E: Thanks for the talk. The main question that I had was kind of around how you're saying it could unlock new use cases, citing the example of a European option that needs to be exercised at a current block. It kind of just seems, though, particularly with this example, you're still fundamentally using a distributed system with bounded resources.
00:26:14.110 - 00:26:29.666, Speaker E: Even if you're saying that, oh, they're not intentionally censoring you. It doesn't seem like you can ever design a system here where like, oh, you need to exercise this option on this block. There's no differentiation between they're intentionally censoring me and an NFT mint pops up and now my transaction.
00:26:29.698 - 00:26:30.294, Speaker A: I agree.
00:26:30.412 - 00:26:34.246, Speaker E: You shouldn't design DeFi protocols that have that assumption unless you have like, a proposal commitment.
00:26:34.278 - 00:26:55.278, Speaker A: It seems like I agree. Within this talk, I wanted to stress that there are censorship forces that are potentially economically relevant beyond sort of baseline congestion spikes. So the point of this paper was forget that there was any congestion, you'd still have this problem.
00:26:55.278 - 00:27:21.906, Speaker A: Now, congestion would be a problem on top of that. And if the blockchain during that period was congested, that didn't mean those tips in that period have to be sort of at the current value of block space. So every tip has to be willing to pay the but I guess just stepping back one level I mean, going back to the option example, I guess my problem with it is that what we want is that block.
00:27:21.906 - 00:27:56.082, Speaker A: Space should be priced at the marginal price of block space, not at the marginal value of the transaction that that block space is carrying. This censorship incentive means that block space has to be charged or can get charged something related to the value of the transaction, rather than something related to how much is block space worth right now. So, yes, when there is congestion, there will be other sorts of censorship that this does not fix per se, but that will be there as a baseline in anything.
00:27:56.082 - 00:28:01.650, Speaker A: This is an additional thing that we need to be worried about to get blockchains to behave well for DeFi.
00:28:02.070 - 00:28:16.182, Speaker E: Yeah, I would agree on the economics. It was just more of the like as far as unlocking new use cases. It seems like you still have that same fundamental assumption that you just always need to design around in these systems is like you can't have an assumption of I will definitely get in this.
00:28:16.182 - 00:28:17.186, Speaker E: It changes your economics.
00:28:17.218 - 00:28:40.320, Speaker A: It makes it cheaper. It's not saying I will definitely get in in this plot, but it'll say something like, as long as I am willing to pay what what the current marginal value of block space is, I will get in on this slot regardless of whether I'm trying to get a $1 million transaction in or a $10 transaction in. If the current value of block space is one and I pay a dollar ten, I'll get it.
00:28:40.320 - 00:28:45.040, Speaker A: Thank you. Thank you.
